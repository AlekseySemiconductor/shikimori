class AddLimitToTextFieldsV2 < ActiveRecord::Migration[5.2]
  SCHEMA = [
    [:articles, :body, 140_000],
    [:bans, :reason, 4096],
    [:club_pages, :text, 500_000],
    [:collections, :text, 400_000],
    [:comments, :body, 64_000],
  ]

  def up
    SCHEMA.each do |(tables, fields, limit)|
      Array(tables).each do |table|
        Array(fields).each do |field|
          change_column table, field, :string, limit: limit
        end
      end
    end
  end

 # 269494968,  800472756,  523563413, 1393607931,  210795311, 1415592052,  279374830,  269494905,  270968921,  268742318,  268742378, 1540877391,  265377671,  265591895,  265816454, 1061163994,  182102546, 1032039761, 1032039763, 1181248936,  397699427,  270969034,  270969027,  199000986, 1160049425, 1040019223, 1242566972,  896320754, 1169282435, 1131199464,  831329814,  266090383,  778056202,  991309663, 1143499140,  257512806, 1044929408,  981002740,  970787993, 1524317895, 1528216964, 1524317286, 1574274516,  946620827,  517050827,  265809788,  295083620,  288319656,  265809851, 1005948974,  831329674,  315952152, 1232870321,  662357995,  663988087,  661984176,  665111126,  663552616, 1131199436,  384592960, 1140936317,  413441282,  672336952,  682877904,  439940221,  680009564,  680009606,  352769793,  831329680,  622379231,  373825690,  335020767,  397373249,  399588700, 1396225623, 1131199459,  637352064, 1131199452, 1170820765, 1094703437,  279361649,  272103598,  352660444, 1286779006, 1077419272,  876314334,  586601087,  616477972,  439280598,  682849285,  784291666, 1234728118,  266537848, 1019652863,  926787138,  288319656,  265809851, 1005948974,  831329674,  315952152, 1232870321,  662357995,  663988087,  661984176,  665111126,  663552616, 1131199436,  384592960, 1140936317,  413441282,  672336952,  682877904,  439940221,  680009564,  680009606,  352769793,  831329680,  622379231,  373825690,  335020767,  397373249,  399588700, 1396225623, 1131199459,  637352064, 1131199452, 1170820765, 1094703437,  279361649,  272103598,  352660444, 1286779006, 1077419272,  876314334,  586601087,  616477972,  439280598,  682849285,  784291666, 1234728118,  266537848, 1019652863,  926787138, 662357995,  663988087,  661984176,  665111126,  663552616, 1131199436,  384592960, 1140936317,  413441282,  672336952,  682877904,  439940221,  680009564,  680009606,  352769793,  831329680,  622379231,  373825690,  335020767,  397373249,  399588700, 1396225623, 1131199459,  637352064, 1131199452, 1170820765, 1094703437,  279361649,  272103598,  352660444, 1286779006, 1077419272,  876314334,  586601087,  616477972,  439280598,  682849285,  784291666, 1234728118,  266537848, 1019652863,  926787138,  261714812, 1581859132,  265812693,  247880367,  934570574
end
