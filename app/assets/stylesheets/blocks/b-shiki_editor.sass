@import globals/variables
@import mixins/icons
@import mixins/link
@import mixins/placeholder
@import mixins/responsive
@import mixins/textarea

.b-shiki_editor
  transition: opacity 0.5s ease

  &.no-preview-avatar .preview .b-comment header
    display: none

  .field-name
    font-weight: bold
    margin-bottom: 7px

  .hidden-block
    display: none
    margin-top: 3px

  .smileys
    div
      margin-bottom: 5px

    img
      cursor: pointer
      margin-right: 3px
      margin-bottom: 3px

  .links, .images, .quotes, .email, .upload
    line-height: 36px

    &.links
      padding-left: 0

      p
        overflow: hidden
        padding-left: 4px
        white-space: nowrap

    p
      line-height: inherit

    span
      padding-left: 5px

    .link-value
      background-color: #FCFCFC
      border-color: #DDD
      color: #333
      line-height: 24px
      padding: 0 5px
      width: 275px

      &.ac_input
        width: 200px

    .b-button.ok
      margin-left: 15px
      font-size: 11px
      line-height: 12px
      padding: 3px 5px

    label
      display: inline-block
      cursor: pointer
      margin-right: 10px

  .b-upload_progress.active
    margin-bottom: 1px

  .images,
  .quotes,
  .email
    input
      margin-left: 5px !important
      width: 380px !important

  .email
    margin-top: -5px
    margin-bottom: 10px
    display: block

  .body
    .preview
      background: #fcfcfc
      border: 1px solid #ddd
      display: none
      margin-bottom: 10px
      padding: 3px 7px 5px

    .editor
      label
        display: none

      textarea
        +textarea
        position: relative

  .ajax-loading
    height: 100%

  .header
    margin-bottom: 5px

  .controls
    display: flex
    align-items: center

  aside.markers
    margin-left: auto
    display: flex
    height: 15px

    +lte_ipad
      height: 20px

    .b-summary_marker,
    .b-offtopic_marker
      float: none
      margin-top: 0

      +lte_ipad
        &:before
          line-height: 18px

  aside.buttons
    float: none !important
    overflow: hidden
    white-space: nowrap

    .editor-link,
    .editor-file
      +gt_ipad
        margin-left: $block_offset

      +ipad
        margin-left: $block_offset * 2

    +iphone-portrait
      span
        display: none

      .editor-spoiler,
      .editor-file,
      .editor-smiley
        display: inline-block

      .editor-spoiler
        margin-left: 0

    +iphone-landscape
      .editor-bold,
      .editor-italic,
      .editor-strike,
      .editor-underline
        display: none

      .editor-link
        margin-left: 0

    +ipad-portrait
      .editor-strike
        display: none

  footer
    margin-top: 10px
    display: flex
    align-items: center
    +iphone
      flex-wrap: wrap

    input[type=submit],
    .unpreview,
    .preview
      margin-right: 20px

    .unpreview,
    .cancel,
    .hide
      font-size: 13px
      margin-left: 0

    .unpreview
      +link

    .unpreview:not(.link),
    .cancel,
    .hide
      +js-link

    .hide
      display: none

    .unpreview
      display: none!important

    .about-bb_codes
      +link
      font-size: 11px
      line-height: 1.2
      margin-left: auto

      +iphone-portrait
        flex-basis: 100%
        margin-top: 15px
        text-align: right

  &.previewed
    & > .buttons,
    .editor-controls
      display: none

    .body
      .editor
        display: none

      .preview
        display: block

    footer
      .unpreview
        display: inline-block !important

      .cancel,
      .b-button.preview
        display: none
