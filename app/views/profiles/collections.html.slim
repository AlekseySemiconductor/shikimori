= render layout: 'page' do
  - if @view.own_profile?
    .subheadline-buttons
      a.item-new-collection href=new_collection_url(collection: { user_id: current_user&.id })
  h2.subheadline
    = og.headline
    .misc-links
      a[
        href=current_url(state: nil)
        class=(:selected unless params.key?(:state))
      ] = t '.published'
      - (can?(:access_collections, @resource) ? %w[private hidden unpublished] : %w[private]).each do |state|
        a[
          href=current_url(state: state)
          class=(:selected if params[:state] == state)
        ] = t ".#{state}"

  .b-forum[
    data-faye='false'
  ]
    - if @collection.any?
      = render partial: 'topics/topic',
        collection: @collection,
        as: :topic_view,
        cache: true

    - else
      p.b-nothing_here = t 'no_collections'

    - if @collection.size == controller.class::TOPICS_LIMIT
      = render 'blocks/postloader',
        filter: 'b-topic',
        next_url: current_url(page: @page + 1)
