---
http_interactions:
- request:
    method: get
    uri: https://streamable.com/efgm
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML,
        like Gecko) Chrome/39.0.2171.71 Safari/537.36
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - text/html; charset=utf-8
      Server:
      - nginx/1.14.0
      X-Cache-Status:
      - MISS
      Via:
      - 1.1 varnish
      - 1.1 varnish
      X-Ua-Device:
      - desktop
      X-Domain:
      - ''
      Content-Length:
      - '26704'
      Accept-Ranges:
      - bytes
      Date:
      - Wed, 19 Sep 2018 15:04:23 GMT
      Age:
      - '0'
      Connection:
      - keep-alive
      X-Served-By:
      - cache-iad2130-IAD, cache-lcy19251-LCY
      X-Cache:
      - MISS, HIT
      X-Cache-Hits:
      - 0, 1
      X-Timer:
      - S1537369464.932563,VS0,VE1
      Vary:
      - X-UA-Device, Accept-Encoding, X-Username, X-Domain
      Strict-Transport-Security:
      - max-age=31536000
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        Cgo8IURPQ1RZUEUgaHRtbD4KPGh0bWw+CiAgPGhlYWQ+CiAgICA8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD1VVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEsIG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubyIvPgogICAgPHRpdGxlPlNob3Vqby10YWNoaSB3YSBLb3V5YSB3byBNZXphc3UgZXAuMiAtIFN0cmVhbWFibGU8L3RpdGxlPgogICAgPG1ldGEgcHJvcGVydHk9ImZiOnBhZ2VzIiBjb250ZW50PSI3ODQwODA0MzE2MzYxMzEiIC8+CiAgICA8bWV0YSBwcm9wZXJ0eT0ib2c6c2l0ZV9uYW1lIiBjb250ZW50PSJTdHJlYW1hYmxlIi8+CiAgICA8bWV0YSBwcm9wZXJ0eT0ib2c6dGl0bGUiIGNvbnRlbnQ9IlNob3Vqby10YWNoaSB3YSBLb3V5YSB3byBNZXphc3UgZXAuMiAtIFN0cmVhbWFibGUiIC8+CiAgICA8bWV0YSBuYW1lPSJ0d2l0dGVyOnRpdGxlIiBjb250ZW50PSJTaG91am8tdGFjaGkgd2EgS291eWEgd28gTWV6YXN1IGVwLjIgLSBTdHJlYW1hYmxlIj4KICAgIDxtZXRhIG5hbWU9ImRlc2NyaXB0aW9uIiBjb250ZW50PSJDaGVjayBvdXQgdGhpcyB2aWRlbyBvbiBTdHJlYW1hYmxlIHVzaW5nIHlvdXIgcGhvbmUsIHRhYmxldCBvciBkZXNrdG9wLiI+CiAgICA8bGluayByZWw9InNob3J0Y3V0IGljb24iIGhyZWY9Ii8vc3RhdGljcy5zdHJlYW1hYmxlLmNvbS9zdGF0aWMvZmF2aWNvbi5pY28iPgogICAgPGxpbmsgaHJlZj0iLy9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PU9wZW4rU2Fuczo2MDAsNDAwIiByZWw9InN0eWxlc2hlZXQiPgogICAgCgo8bWV0YSBwcm9wZXJ0eT0ib2c6dHlwZSIgY29udGVudD0idmlkZW8ub3RoZXIiPgo8bWV0YSBwcm9wZXJ0eT0ib2c6aW1hZ2UiIGNvbnRlbnQ9Imh0dHBzOi8vY2RuLWItd2VzdC5zdHJlYW1hYmxlLmNvbS9pbWFnZS9lZmdtLmpwZz90b2tlbj1CUEFIbXNWM3pCSk04cUtBTzB2TmJBJmFtcDtleHBpcmVzPTE1MzczNzY2NjMiIC8+CjxtZXRhIHByb3BlcnR5PSJvZzppbWFnZTpzZWN1cmVfdXJsIiBjb250ZW50PSJodHRwczovL2Nkbi1iLXdlc3Quc3RyZWFtYWJsZS5jb20vaW1hZ2UvZWZnbS5qcGc/dG9rZW49QlBBSG1zVjN6QkpNOHFLQU8wdk5iQSZhbXA7ZXhwaXJlcz0xNTM3Mzc2NjYzIiAvPgo8bWV0YSBwcm9wZXJ0eT0ib2c6aW1hZ2U6dHlwZSIgY29udGVudD0iaW1hZ2UvanBlZyIgLz4KPG1ldGEgcHJvcGVydHk9Im9nOmltYWdlOndpZHRoIiBjb250ZW50PSIxMjgwIj4KPG1ldGEgcHJvcGVydHk9Im9nOmltYWdlOmhlaWdodCIgY29udGVudD0iNzIwIj4KPG1ldGEgcHJvcGVydHk9Im9nOnVwZGF0ZWRfdGltZSIgY29udGVudD0iMjAxOC0wOS0xOVQxNTowNDoyMy40NDQyNDQiIC8+CjxtZXRhIHByb3BlcnR5PSJvZzp1cmwiIGNvbnRlbnQ9Imh0dHBzOi8vc3RyZWFtYWJsZS5jb20vZWZnbSIgLz4KPG1ldGEgcHJvcGVydHk9Im9nOnZpZGVvIiBjb250ZW50PSJodHRwczovL2Nkbi1iLXdlc3Quc3RyZWFtYWJsZS5jb20vdmlkZW8vbXA0L2VmZ20ubXA0P3Rva2VuPVNVYjNxaUFhdEFxTDg3QXNpSWsxMlEmYW1wO2V4cGlyZXM9MTUzNzM3NjY2MyI+CjxtZXRhIHByb3BlcnR5PSJvZzp2aWRlbzp1cmwiIGNvbnRlbnQ9Imh0dHBzOi8vY2RuLWItd2VzdC5zdHJlYW1hYmxlLmNvbS92aWRlby9tcDQvZWZnbS5tcDQ/dG9rZW49U1ViM3FpQWF0QXFMODdBc2lJazEyUSZhbXA7ZXhwaXJlcz0xNTM3Mzc2NjYzIj4KPG1ldGEgcHJvcGVydHk9Im9nOnZpZGVvOnNlY3VyZV91cmwiIGNvbnRlbnQ9Imh0dHBzOi8vY2RuLWItd2VzdC5zdHJlYW1hYmxlLmNvbS92aWRlby9tcDQvZWZnbS5tcDQ/dG9rZW49U1ViM3FpQWF0QXFMODdBc2lJazEyUSZhbXA7ZXhwaXJlcz0xNTM3Mzc2NjYzIj4KPG1ldGEgcHJvcGVydHk9Im9nOnZpZGVvOnR5cGUiIGNvbnRlbnQ9InZpZGVvL21wNCI+CjxtZXRhIHByb3BlcnR5PSJvZzp2aWRlbzp3aWR0aCIgY29udGVudD0iMTI4MCI+CjxtZXRhIHByb3BlcnR5PSJvZzp2aWRlbzpoZWlnaHQiIGNvbnRlbnQ9IjcyMCI+Cgo8bWV0YSBuYW1lPSJ0d2l0dGVyOmNhcmQiIGNvbnRlbnQ9InBsYXllciI+CjxtZXRhIG5hbWU9InR3aXR0ZXI6c2l0ZSIgY29udGVudD0iQHN0cmVhbWFibGUiPgo8bWV0YSBuYW1lPSJ0d2l0dGVyOmltYWdlIiBjb250ZW50PSJodHRwczovL2Nkbi1iLXdlc3Quc3RyZWFtYWJsZS5jb20vaW1hZ2UvZWZnbS5qcGc/dG9rZW49QlBBSG1zVjN6QkpNOHFLQU8wdk5iQSZhbXA7ZXhwaXJlcz0xNTM3Mzc2NjYzIj4KPG1ldGEgbmFtZT0idHdpdHRlcjpwbGF5ZXI6d2lkdGgiIGNvbnRlbnQ9IjEyODAiPgo8bWV0YSBuYW1lPSJ0d2l0dGVyOnBsYXllcjpoZWlnaHQiIGNvbnRlbnQ9IjcyMCI+CjxtZXRhIG5hbWU9InR3aXR0ZXI6cGxheWVyIiBjb250ZW50PSJodHRwczovL3N0cmVhbWFibGUuY29tL3QvZWZnbSI+CjxtZXRhIG5hbWU9InR3aXR0ZXI6cGxheWVyOnN0cmVhbSIgY29udGVudD0iaHR0cHM6Ly9jZG4tYi13ZXN0LnN0cmVhbWFibGUuY29tL3ZpZGVvL21wNC9lZmdtLm1wND90b2tlbj1TVWIzcWlBYXRBcUw4N0FzaUlrMTJRJmFtcDtleHBpcmVzPTE1MzczNzY2NjMiPgo8bWV0YSBuYW1lPSJ0d2l0dGVyOnBsYXllcjpzdHJlYW06Y29udGVudF90eXBlIiBjb250ZW50PSJ2aWRlby9tcDQiPgoKPGxpbmsgcmVsPSJhbXBodG1sIiBocmVmPSJodHRwczovL3N0cmVhbWFibGUuY29tL2FtcF9wbGF5ZXIvZWZnbSI+CjxsaW5rIHJlbD0iYWx0ZXJuYXRlIiB0eXBlPSJhcHBsaWNhdGlvbi9qc29uK29lbWJlZCIgaHJlZj0iaHR0cHM6Ly9hcGkuc3RyZWFtYWJsZS5jb20vb2VtYmVkP3VybD1odHRwczovL3N0cmVhbWFibGUuY29tL2VmZ20iIHRpdGxlPSJvRW1iZWQiIC8+CgogICAgPHNjcmlwdCBpZD0iY29uZmlnIj4KICAgICAgU09DS0VUID0gIndzczovL3NvY2tldC5zdHJlYW1hYmxlLmNvbT90b2tlbj02ZDMzZGUzNzgwZGU0ZGM3YTk1OTdkMjI4YjMxMjY0NCZjaGFubmVsPXVzZXI6Tm9uZTpzZWN1cmUiOwogICAgICBjb25maWcgPSB7CiAgICAgICAgRU5WX1RZUEU6ICJwcm9kdWN0aW9uIiwKICAgICAgICBET01BSU5fTkFNRTogImh0dHBzOi8vc3RyZWFtYWJsZS5jb20iLAogICAgICAgIFZFUlNJT046ICI4NDBjMzkzZWVlMTlkM2Y1ZThjZjlmNjYzMGRmODZmMjI0MTg1ZjNhIiwKICAgICAgICBBUElfR0FURVdBWV9IT1NUOiAid3NzOi8vc29ja2V0LnN0cmVhbWFibGUuY29tIiwKICAgICAgICBTVEFUSUNfSE9TVDogIi8vc3RhdGljcy5zdHJlYW1hYmxlLmNvbS9zdGF0aWMiCiAgICAgIH0KICAgICAgCiAgICAgIHZhciBib290c3RyYXAgPSB7fTsKICAgICAgCiAgICA8L3NjcmlwdD4KICAgIAoKPHN0eWxlPmh0bWwgewogIGhlaWdodDogMTAwJTsKfQpodG1sLApib2R5IHsKICBtYXJnaW46IDA7CiAgcGFkZGluZzogMDsKICB3aWR0aDogMTAwJTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxOwp9CmJvZHkgewogIHBhZGRpbmc6IDBweCAhaW1wb3J0YW50OwogIGZvbnQtc2l6ZTogMTRweDsKICBmb250LWZhbWlseTogIk9wZW4gU2FucyIsICJIZWx2ZXRpY2EgTmV1ZSIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7CiAgbWluLWhlaWdodDogMTAwJTsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgbGluZS1oZWlnaHQ6IDEuNDM7CiAgaGVpZ2h0OiAxMDAlOwp9CmEsCmE6bGluaywKYTp2aXNpdGVkLAphOmhvdmVyLAphOmFjdGl2ZSB7CiAgY29sb3I6ICMwZjkwZmE7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9CmIgewogIGZvbnQtd2VpZ2h0OiA2MDA7CiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7Cn0KYTpob3ZlciB7CiAgY29sb3I6ICMwZjkwZmE7CiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7Cn0KdWwgewogIGNvbG9yOiAjNzQ4NDkwOwogIG1hcmdpbjogMTBweCAwOwp9Ci5oaWRkZW4gewogIGRpc3BsYXk6IG5vbmU7Cn0KLmNvbnRhaW5lcjpiZWZvcmUgewogIGNvbnRlbnQ6ICIiOwogIGRpc3BsYXk6IG5vbmU7Cn0KLmNvbnRhaW5lcjphZnRlciB7CiAgY29udGVudDogIiI7CiAgZGlzcGxheTogbm9uZTsKfQouY29udGFpbmVyIHsKICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHBhZGRpbmc6IDBweCA1cHg7Cn0KLmNvbnRlbnQgewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgbWluLXdpZHRoOiAyNTBweDsKfQouY29udGVudC1jZW50ZXItY29udGFpbmVyIHsKICBkaXNwbGF5OiB0YWJsZS1jZWxsOwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7Cn0KLmJveCB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogIG1hcmdpbi10b3A6IDEwcHg7CiAgYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKfQpjb2RlIHsKICBmb250LWZhbWlseTogQXJpZWw7Cn0KLnN0aWNreXB1c2ggewogIGhlaWdodDogNTBweDsKfQouc3RpY2t5Zm9vdGVyIHsKICBoZWlnaHQ6IDUwcHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwp9Ci5zdGlja3lmb290ZXIgLmNvbnRhaW5lci1mbHVpZCB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5zdGlja3lmb290ZXIgdWwgewogIG1hcmdpbi1ib3R0b206IDA7CiAgcGFkZGluZzogMDsKICBsaXN0LXN0eWxlOiBub25lOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQouc3RpY2t5Zm9vdGVyIGxpIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0KLnN0aWNreWZvb3RlciBsaSBhIHsKICBwYWRkaW5nOiA1cHg7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIGZvbnQtc2l6ZTogMTJweDsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgY29sb3I6ICNhYWE7Cn0KLnN0aWNreWZvb3RlciBsaSBhOmhvdmVyIHsKICBjb2xvcjogYmxhY2s7Cn0KLnBsYXllciB7CiAgY29sb3I6IHdoaXRlOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBvdXRsaW5lOiAwOwogIG92ZXJmbG93OiBoaWRkZW47Cn0KLnBsYXllciAuc3RtLWFkLXBsYXllciB7CiAgcG9zaXRpb246IGFic29sdXRlICFpbXBvcnRhbnQ7CiAgbGVmdDogMHB4ICFpbXBvcnRhbnQ7CiAgdG9wOiAwcHggIWltcG9ydGFudDsKICByaWdodDogMHB4ICFpbXBvcnRhbnQ7CiAgYm90dG9tOiAwcHggIWltcG9ydGFudDsKICB3aWR0aDogMTAwJSAhaW1wb3J0YW50OwogIGhlaWdodDogMTAwJSAhaW1wb3J0YW50OwogIHotaW5kZXg6IDk5OTk5OTsKfQoucGxheWVyIHZpZGVvIHsKICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9Ci5wbGF5ZXIgI2FkLW92ZXJsYXkgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDBweDsKICBib3R0b206IDBweDsKICBsZWZ0OiAwcHg7CiAgcmlnaHQ6IDBweDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4zKTsKfQoucGxheWVyIC5yZXZjb250ZW50LWNvbnRhaW5lciB7CiAgbWFyZ2luOiAxNHB4IDBweCAwcHggMHB4OwogIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogIGhlaWdodDogMTY0cHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHBhZGRpbmc6IDVweDsKICB3aWR0aDogOTAlOwogIG1heC1oZWlnaHQ6IDgwJTsKfQoucGxheWVyIC5yZXZjb250ZW50LWNvbnRhaW5lciAucmMtd2MgLnJvdy1pdGVtIGgzIHsKICBtaW4taGVpZ2h0OiAyNHB4ICFpbXBvcnRhbnQ7Cn0KLnBsYXllciAucmV2Y29udGVudC1jb250YWluZXIgLnJldmNvbnRlbnQtZGlzY2xhaW1lciB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAvKiBkaXNwbGF5OiBibG9jazsgKi8KICBjb2xvcjogd2hpdGU7CiAgZm9udC1zaXplOiAxMHB4OwogIHRvcDogLTE1cHg7CiAgZm9udC1mYW1pbHk6IE9wZW4gU2FuczsKICAtd2Via2l0LWZpbHRlcjogZHJvcC1zaGFkb3coMHB4IDBweCAycHggcmdiYSgwLCAwLCAwLCAwLjUpKTsKICBmaWx0ZXI6IGRyb3Atc2hhZG93KDBweCAwcHggMnB4IHJnYmEoMCwgMCwgMCwgMC41KSk7CiAgLyogU2FtZSBzeW50YXggYXMgYm94LXNoYWRvdyAqLwp9Ci5wbGF5ZXIgLnJldmNvbnRlbnQtY2xvc2UgewogIGZvbnQtc2l6ZTogMTJweDsKICB0ZXh0LWFsaWduOiByaWdodDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAtMThweDsKICByaWdodDogMHB4OwogIG1hcmdpbjogMHB4OwogIGJvcmRlcjogbm9uZTsKICBwYWRkaW5nOiAycHggNXB4OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgY29sb3I6ICMwMDA7CiAgei1pbmRleDogMTAwMDA7Cn0KLnBsYXllciAucG9seW1vcnBoLWNvbnRhaW5lciB7CiAgbWFyZ2luOiAyMHB4IDBweCAwcHggMHB4OwogIGJhY2tncm91bmQtY29sb3I6ICMwMjAzMDQ7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHBhZGRpbmc6IDVweDsKICB3aWR0aDogODUlOwogIG1heC1oZWlnaHQ6IDgwJTsKfQoucGxheWVyIC5wb2x5bW9ycGgtY29udGFpbmVyIC5wb2x5bW9ycGgtZGlzY2xhaW1lciB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAvKiBkaXNwbGF5OiBibG9jazsgKi8KICBjb2xvcjogd2hpdGU7CiAgZm9udC1zaXplOiAxMXB4OwogIHRvcDogLTE1cHg7CiAgZm9udC1mYW1pbHk6IE9wZW4gU2FuczsKICAtd2Via2l0LWZpbHRlcjogZHJvcC1zaGFkb3coMHB4IDBweCAycHggcmdiYSgwLCAwLCAwLCAwLjUpKTsKICBmaWx0ZXI6IGRyb3Atc2hhZG93KDBweCAwcHggMnB4IHJnYmEoMCwgMCwgMCwgMC41KSk7CiAgLyogU2FtZSBzeW50YXggYXMgYm94LXNoYWRvdyAqLwp9Ci5wbGF5ZXIgLnBvbHltb3JwaC1jbG9zZSB7CiAgZm9udC1zaXplOiAxOHB4OwogIHRleHQtYWxpZ246IHJpZ2h0OwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBib3JkZXI6IG5vbmU7CiAgdG9wOiAtMzVweDsKICByaWdodDogLTE1cHg7CiAgbWFyZ2luOiAwcHg7CiAgYmFja2dyb3VuZC1jbGlwOiBjb250ZW50LWJveDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDIwMzA0OwogIGNvbG9yOiB3aGl0ZTsKICB6LWluZGV4OiAxMDAwMDsKICBwYWRkaW5nOiAxNXB4Owp9Ci5wbGF5ZXIgI2FkLW92ZXJsYXktbG9hZGluZyB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMHB4OwogIGJvdHRvbTogMHB4OwogIGxlZnQ6IDBweDsKICByaWdodDogMHB4OwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7Cn0KLnBsYXllciAjYWQtb3ZlcmxheS1sb2FkaW5nICNhZC1vdmVybGF5LXNwaW5uZXIgewogIGZvbnQtc2l6ZTogMTBweDsKICBtYXJnaW46IDEwcHggYXV0bzsKICB0ZXh0LWluZGVudDogLTk5OTllbTsKICB3aWR0aDogN2VtOwogIGhlaWdodDogN2VtOwogIGJvcmRlci1yYWRpdXM6IDUwJTsKICBiYWNrZ3JvdW5kOiAjZmZmZmZmOwogIGJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KGxlZnQsICNmZmZmZmYgMTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDApIDQyJSk7CiAgYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQobGVmdCwgI2ZmZmZmZiAxMCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMCkgNDIlKTsKICBiYWNrZ3JvdW5kOiAtby1saW5lYXItZ3JhZGllbnQobGVmdCwgI2ZmZmZmZiAxMCUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMCkgNDIlKTsKICBiYWNrZ3JvdW5kOiAtbXMtbGluZWFyLWdyYWRpZW50KGxlZnQsICNmZmZmZmYgMTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDApIDQyJSk7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjZmZmZmZmIDEwJSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwKSA0MiUpOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAtd2Via2l0LWFuaW1hdGlvbjogbG9hZDMgMS40cyBpbmZpbml0ZSBsaW5lYXI7CiAgYW5pbWF0aW9uOiBsb2FkMyAxLjRzIGluZmluaXRlIGxpbmVhcjsKICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTsKICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTsKfQoucGxheWVyICNhZC1vdmVybGF5LWxvYWRpbmcgI2FkLW92ZXJsYXktc3Bpbm5lcjpiZWZvcmUgewogIHdpZHRoOiA1MCU7CiAgaGVpZ2h0OiA1MCU7CiAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICBib3JkZXItcmFkaXVzOiAxMDAlIDAgMCAwOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgbGVmdDogMDsKICBjb250ZW50OiAnJzsKfQoucGxheWVyICNhZC1vdmVybGF5LWxvYWRpbmcgI2FkLW92ZXJsYXktc3Bpbm5lcjphZnRlciB7CiAgYmFja2dyb3VuZDogYmxhY2s7CiAgd2lkdGg6IDc1JTsKICBoZWlnaHQ6IDc1JTsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgY29udGVudDogJyc7CiAgbWFyZ2luOiBhdXRvOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgbGVmdDogMDsKICBib3R0b206IDA7CiAgcmlnaHQ6IDA7Cn0KQC13ZWJraXQta2V5ZnJhbWVzIGxvYWQzIHsKICAwJSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7CiAgfQogIDEwMCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOwogICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsKICB9Cn0KQGtleWZyYW1lcyBsb2FkMyB7CiAgMCUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOwogIH0KICAxMDAlIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7CiAgfQp9Ci5wbGF5ZXIgI3NwaW5uZXIsCi5wbGF5ZXIgI3NwaW5uZXI6YmVmb3JlLAoucGxheWVyICNzcGlubmVyOmFmdGVyIHsKICBiYWNrZ3JvdW5kOiAjRkZGOwogIC13ZWJraXQtYW5pbWF0aW9uOiBsb2FkMSAxcyBpbmZpbml0ZSBlYXNlLWluLW91dDsKICBhbmltYXRpb246IGxvYWQxIDFzIGluZmluaXRlIGVhc2UtaW4tb3V0OwogIHdpZHRoOiAxZW07CiAgaGVpZ2h0OiA0ZW07Cn0KLnBsYXllciAjc3Bpbm5lcjpiZWZvcmUsCi5wbGF5ZXIgI3NwaW5uZXI6YWZ0ZXIgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgY29udGVudDogJyc7Cn0KLnBsYXllciAjc3Bpbm5lcjpiZWZvcmUgewogIGxlZnQ6IC0xLjVlbTsKICAtd2Via2l0LWFuaW1hdGlvbi1kZWxheTogLTAuMzJzOwogIGFuaW1hdGlvbi1kZWxheTogLTAuMzJzOwp9Ci5wbGF5ZXIgI3NwaW5uZXIgewogIGRpc3BsYXk6IG5vbmU7CiAgb3BhY2l0eTogLjg7CiAgdGV4dC1pbmRlbnQ6IC05OTk5ZW07CiAgbWFyZ2luOiA4ZW0gYXV0bzsKICBmb250LXNpemU6IDRweDsKICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTsKICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTsKICAtd2Via2l0LWFuaW1hdGlvbi1kZWxheTogLTAuMTZzOwogIGFuaW1hdGlvbi1kZWxheTogLTAuMTZzOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IC0xMHB4OwogIHJpZ2h0OiAyMnB4OwogIHotaW5kZXg6IDQ7Cn0KLnBsYXllciAjc3Bpbm5lcjphZnRlciB7CiAgbGVmdDogMS41ZW07Cn0KQC13ZWJraXQta2V5ZnJhbWVzIGxvYWQxIHsKICAwJSwKICA4MCUsCiAgMTAwJSB7CiAgICBib3gtc2hhZG93OiAwIDAgI0ZGRjsKICAgIGhlaWdodDogM2VtOwogIH0KICA0MCUgewogICAgYm94LXNoYWRvdzogMCAtMmVtICNmZmZmZmY7CiAgICBoZWlnaHQ6IDRlbTsKICB9Cn0KQGtleWZyYW1lcyBsb2FkMSB7CiAgMCUsCiAgODAlLAogIDEwMCUgewogICAgYm94LXNoYWRvdzogMCAwICNGRkY7CiAgICBoZWlnaHQ6IDNlbTsKICB9CiAgNDAlIHsKICAgIGJveC1zaGFkb3c6IDAgLTJlbSAjZmZmZmZmOwogICAgaGVpZ2h0OiA0ZW07CiAgfQp9Ci5wbGF5ZXIgI3BsYXllci1vdmVybGF5LW11dGUtYnV0dG9uIHsKICBwYWRkaW5nOiA1cHg7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHRleHQtYWxpZ246IGxlZnQ7Cn0KLnBsYXllciAjcGxheWVyLW92ZXJsYXktbXV0ZS1idXR0b24gLm92ZXJsYXktdm9sdW1lLW11dGUgewogIGRpc3BsYXk6IG5vbmU7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHRvcDogMXB4OwogIGxlZnQ6IC0zcHg7Cn0KLnBsYXllciAjcGxheWVyLW92ZXJsYXktbXV0ZS1idXR0b24gLm92ZXJsYXktdm9sdW1lLXVwIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdG9wOiAxcHg7CiAgbGVmdDogNHB4Owp9Ci5wbGF5ZXIgI3BsYXllci1vdmVybGF5LW11dGUtYnV0dG9uLm11dGVkIC5vdmVybGF5LXZvbHVtZS11cCB7CiAgZGlzcGxheTogbm9uZTsKfQoucGxheWVyICNwbGF5ZXItb3ZlcmxheS1tdXRlLWJ1dHRvbi5tdXRlZCAub3ZlcmxheS12b2x1bWUtbXV0ZSB7CiAgZGlzcGxheTogYmxvY2s7Cn0KLnBsYXllciAucGxheWVyLWNvbnRyb2xzIHsKICAtbW96LXVzZXItc2VsZWN0OiAtbW96LW5vbmU7CiAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lOwogIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7CiAgLW1zLXVzZXItc2VsZWN0OiBub25lOwogIHVzZXItc2VsZWN0OiBub25lOwogIC13ZWJraXQtdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzIGxpbmVhcjsKICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnMgbGluZWFyOwogIGRpc3BsYXk6IG5vbmU7CiAgb3BhY2l0eTogMDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdGV4dC1hbGlnbjogbGVmdDsKfQoucGxheWVyICNwbGF5ZXItY29udHJvbHMtaGVhZGVyIHsKICBoZWlnaHQ6IDQwcHg7CiAgcmlnaHQ6IDA7CiAgdG9wOiAwOwogIGxlZnQ6IDA7Cn0KLnBsYXllciAjcGxheWVyLWNvbnRyb2xzLWZvb3RlciB7CiAgaGVpZ2h0OiA5OHB4OwogIHJpZ2h0OiAwOwogIGJvdHRvbTogMDsKICBsZWZ0OiAwOwogIHBvaW50ZXItZXZlbnRzOiBub25lOwogIGJhY2tncm91bmQtcG9zaXRpb246IGJvdHRvbTsKICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQURHQ0FZQUFBQVQrT3FGQUFBQWRrbEVRVlFvejQyUVFRN0FJQWdFRi9UL0Qra2JxL1JXQWxuUXl5YXpBNGFvQUI0RnNCU0EvYkZqdUYxRU9MN1ZicklyQnV1c21ydDRaWk9SZmI2ZWhiV2RuUkhFSWlJVGFFVUthNUVKcVVha1JTYUVZQkpTQ1kyZEVzdFFZN0F1eGFod1hGcnZabVdsMnJoNEpaMDd6OWRMdGVzZk5qNXEwRlUzQTVPYmJ3QUFBQUJKUlU1RXJrSmdnZz09KTsKICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXg7Cn0KLnBsYXllciAjcGxheWVyLWNvbnRyb2xzLWZvb3RlciAqIHsKICAtbW96LXVzZXItc2VsZWN0OiAtbW96LW5vbmU7CiAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lOwogIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7CiAgLW1zLXVzZXItc2VsZWN0OiBub25lOwogIHVzZXItc2VsZWN0OiBub25lOwogIHBvaW50ZXItZXZlbnRzOiBhdXRvOwp9Ci5wbGF5ZXIgI3BsYXllci1jb250cm9scy1mb290ZXIgI3BsYXllci1wcm9ncmVzcyB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHJpZ2h0OiA1MHB4OwogIGxlZnQ6IDUwcHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIGJvdHRvbTogMTVweDsKICBwYWRkaW5nOiAxMHB4IDBweDsKfQoucGxheWVyICNwbGF5ZXItY29udHJvbHMtZm9vdGVyICNwbGF5ZXItcHJvZ3Jlc3MgZGl2IHsKICBoZWlnaHQ6IDRweDsKICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4xNXMgZWFzZSwgLXdlYmtpdC10cmFuc2Zvcm0gMC4xNXMgZWFzZTsKfQoucGxheWVyICNwbGF5ZXItY29udHJvbHMtZm9vdGVyICNwbGF5ZXItcHJvZ3Jlc3MgI3BsYXllci1wcm9ncmVzcy1ob3ZlciB7CiAgb3BhY2l0eTogMDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAtMjBweDsKICAtd2Via2l0LWZpbHRlcjogZHJvcC1zaGFkb3coMHB4IDBweCAycHggcmdiYSgwLCAwLCAwLCAwLjUpKTsKICBmaWx0ZXI6IGRyb3Atc2hhZG93KDBweCAwcHggMnB4IHJnYmEoMCwgMCwgMCwgMC41KSk7CiAgLyogU2FtZSBzeW50YXggYXMgYm94LXNoYWRvdyAqLwogIHdpZHRoOiAxMDBweDsKICBmb250LWZhbWlseTogJ09wZW4gU2FucycsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsKICBmb250LXNpemU6IDE0cHg7CiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuMTVzIGVhc2U7Cn0KLnBsYXllciAjcGxheWVyLWNvbnRyb2xzLWZvb3RlciAjcGxheWVyLXByb2dyZXNzICNwbGF5ZXItcHJvZ3Jlc3MtdHJhY2sgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpOwogIHdpZHRoOiAxMDAlOwogIGJvcmRlci1yYWRpdXM6IDJweDsKICBib3gtc2hhZG93OiAwcHggMHB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMik7Cn0KLnBsYXllciAjcGxheWVyLWNvbnRyb2xzLWZvb3RlciAjcGxheWVyLXByb2dyZXNzICNwbGF5ZXItcHJvZ3Jlc3MtdmFsdWUgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpOwogIGJvcmRlci1yYWRpdXM6IDJweDsKICB3aWR0aDogMHB4Owp9Ci5wbGF5ZXIgI3BsYXllci1jb250cm9scy1mb290ZXIgI3BsYXllci1wcm9ncmVzczpob3ZlciAjcGxheWVyLXByb2dyZXNzLXZhbHVlLAoucGxheWVyICNwbGF5ZXItY29udHJvbHMtZm9vdGVyICNwbGF5ZXItcHJvZ3Jlc3M6aG92ZXIgI3BsYXllci1wcm9ncmVzcy10cmFjayB7CiAgdHJhbnNmb3JtOiBzY2FsZVkoMik7CiAgYm9yZGVyLXJhZGl1czogOHB4Owp9Ci5wbGF5ZXIgI3BsYXllci1jb250cm9scy1mb290ZXIgI3BsYXllci1wcm9ncmVzczpob3ZlciAjcGxheWVyLXByb2dyZXNzLXZhbHVlIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKfQoucGxheWVyICNwbGF5ZXItY29udHJvbHMtZm9vdGVyICNwbGF5ZXItZnVsbHNjcmVlbi1idXR0b24gewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBib3R0b206IDdweDsKICByaWdodDogMTJweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgb3BhY2l0eTogLjk7Cn0KLnBsYXllciAjcGxheWVyLWNvbnRyb2xzLWZvb3RlciAjcGxheWVyLWZ1bGxzY3JlZW4tYnV0dG9uIHN2ZyB7CiAgY3Vyc29yOiBwb2ludGVyOwogIC13ZWJraXQtZmlsdGVyOiBkcm9wLXNoYWRvdygwcHggMHB4IDJweCByZ2JhKDAsIDAsIDAsIDAuNSkpOwogIGZpbHRlcjogZHJvcC1zaGFkb3coMHB4IDBweCAycHggcmdiYSgwLCAwLCAwLCAwLjUpKTsKICAvKiBTYW1lIHN5bnRheCBhcyBib3gtc2hhZG93ICovCn0KLnBsYXllciAjcGxheWVyLWNvbnRyb2xzLWZvb3RlciAjcGxheWVyLWZ1bGxzY3JlZW4tYnV0dG9uOmhvdmVyIHsKICBvcGFjaXR5OiAxOwp9Ci5wbGF5ZXIgI3BsYXllci1jb250cm9scy1mb290ZXIgI3BsYXllci1mdWxsc2NyZWVuLWJ1dHRvbiBzdmcuY29tcGFjdCB7CiAgZGlzcGxheTogbm9uZTsKfQoucGxheWVyICNwbGF5ZXItY29udHJvbHMtZm9vdGVyICNwbGF5ZXItdm9sdW1lIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgaGVpZ2h0OiAxNDBweDsKICB3aWR0aDogNDBweDsKICBsZWZ0OiAwcHg7CiAgYm90dG9tOiA0cHg7CiAgY3Vyc29yOiBwb2ludGVyOwp9Ci5wbGF5ZXIgI3BsYXllci1jb250cm9scy1mb290ZXIgI3BsYXllci12b2x1bWUgI3BsYXllci12b2x1bWUtdHJhY2sgewogIGRpc3BsYXk6IG5vbmU7CiAgYm90dG9tOiA0MnB4OwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAxOHB4OwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTsKICB3aWR0aDogMTBweDsKICBoZWlnaHQ6IDgwcHg7CiAgYm9yZGVyLXJhZGl1czogMnB4OwogIGJveC1zaGFkb3c6IDBweCAwcHggNXB4IHJnYmEoMCwgMCwgMCwgMC4yKTsKfQoucGxheWVyICNwbGF5ZXItY29udHJvbHMtZm9vdGVyICNwbGF5ZXItdm9sdW1lICNwbGF5ZXItdm9sdW1lLXZhbHVlIHsKICBkaXNwbGF5OiBub25lOwogIGJvdHRvbTogNDJweDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgbGVmdDogMThweDsKICB3aWR0aDogMTBweDsKICBoZWlnaHQ6IDQwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgYm9yZGVyLXJhZGl1czogMnB4Owp9Ci5wbGF5ZXIgI3BsYXllci1jb250cm9scy1mb290ZXIgI3BsYXllci12b2x1bWUgc3ZnIHsKICBvcGFjaXR5OiAuOTsKICAtd2Via2l0LWZpbHRlcjogZHJvcC1zaGFkb3coMHB4IDBweCAycHggcmdiYSgwLCAwLCAwLCAwLjUpKTsKICBmaWx0ZXI6IGRyb3Atc2hhZG93KDBweCAwcHggMnB4IHJnYmEoMCwgMCwgMCwgMC41KSk7CiAgLyogU2FtZSBzeW50YXggYXMgYm94LXNoYWRvdyAqLwp9Ci5wbGF5ZXIgI3BsYXllci1jb250cm9scy1mb290ZXIgI3BsYXllci1tdXRlLWJ1dHRvbiB7CiAgYm90dG9tOiA0cHg7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGxlZnQ6IDEycHg7CiAgbGluZS1oZWlnaHQ6IDBweDsKfQoucGxheWVyICNwbGF5ZXItY29udHJvbHMtZm9vdGVyICNwbGF5ZXItbXV0ZS1idXR0b24gc3ZnLnZvbHVtZS1kb3duIHsKICBkaXNwbGF5OiBub25lOwp9Ci5wbGF5ZXIgI3BsYXllci1jb250cm9scy1mb290ZXIgI3BsYXllci1tdXRlLWJ1dHRvbiBzdmcudm9sdW1lLW11dGUgewogIGRpc3BsYXk6IG5vbmU7Cn0KLnBsYXllciAjcGxheWVyLWNvbnRyb2xzLWZvb3RlciAjcGxheWVyLW11dGUtYnV0dG9uLmxvdyB7CiAgbGVmdDogOXB4Owp9Ci5wbGF5ZXIgI3BsYXllci1jb250cm9scy1mb290ZXIgI3BsYXllci1tdXRlLWJ1dHRvbi5sb3cgc3ZnLnZvbHVtZS1kb3duIHsKICBkaXNwbGF5OiBibG9jazsKfQoucGxheWVyICNwbGF5ZXItY29udHJvbHMtZm9vdGVyICNwbGF5ZXItbXV0ZS1idXR0b24ubG93IHN2Zy52b2x1bWUtdXAgewogIGRpc3BsYXk6IG5vbmU7Cn0KLnBsYXllciAjcGxheWVyLWNvbnRyb2xzLWZvb3RlciAjcGxheWVyLW11dGUtYnV0dG9uLmxvdyBzdmcudm9sdW1lLW11dGUgewogIGRpc3BsYXk6IG5vbmU7Cn0KLnBsYXllciAjcGxheWVyLWNvbnRyb2xzLWZvb3RlciAjcGxheWVyLW11dGUtYnV0dG9uLm11dGVkIHsKICBsZWZ0OiA2cHg7Cn0KLnBsYXllciAjcGxheWVyLWNvbnRyb2xzLWZvb3RlciAjcGxheWVyLW11dGUtYnV0dG9uLm11dGVkIHN2Zy52b2x1bWUtZG93biB7CiAgZGlzcGxheTogbm9uZTsKfQoucGxheWVyICNwbGF5ZXItY29udHJvbHMtZm9vdGVyICNwbGF5ZXItbXV0ZS1idXR0b24ubXV0ZWQgc3ZnLnZvbHVtZS11cCB7CiAgZGlzcGxheTogbm9uZTsKfQoucGxheWVyICNwbGF5ZXItY29udHJvbHMtZm9vdGVyICNwbGF5ZXItbXV0ZS1idXR0b24ubXV0ZWQgc3ZnLnZvbHVtZS1tdXRlIHsKICBkaXNwbGF5OiBibG9jazsKfQoucGxheWVyICNwbGF5ZXItY29udHJvbHMtZm9vdGVyICNwbGF5ZXItdm9sdW1lOmhvdmVyICNwbGF5ZXItdm9sdW1lLXRyYWNrIHsKICBkaXNwbGF5OiBibG9jazsKfQoucGxheWVyICNwbGF5ZXItY29udHJvbHMtZm9vdGVyICNwbGF5ZXItdm9sdW1lOmhvdmVyICNwbGF5ZXItdm9sdW1lLXZhbHVlIHsKICBkaXNwbGF5OiBibG9jazsKfQoucGxheWVyICNwbGF5ZXItY29udHJvbHMtZm9vdGVyICNwbGF5ZXItdm9sdW1lOmhvdmVyIHN2ZyB7CiAgb3BhY2l0eTogMTsKfQoucGxheWVyLmZ1bGxzY3JlZW4gewogIGJhY2tncm91bmQtY29sb3I6IGJsYWNrOwogIHdpZHRoOiAxMDAlOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQoucGxheWVyLmZ1bGxzY3JlZW4gI3BsYXllci1mdWxsc2NyZWVuLWJ1dHRvbiBzdmcuY29tcGFjdCB7CiAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKfQoucGxheWVyLmZ1bGxzY3JlZW4gI3BsYXllci1mdWxsc2NyZWVuLWJ1dHRvbiBzdmcuZXhwYW5kIHsKICBkaXNwbGF5OiBub25lOwp9Ci5wbGF5ZXIuZnVsbHNjcmVlbiB2aWRlbyB7CiAgaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7CiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7Cn0KLnBsYXllci5oaWRlLWF1ZGlvICNwbGF5ZXItdm9sdW1lIHsKICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7Cn0KLnBsYXllci5oaWRlLWF1ZGlvICNwbGF5ZXItcHJvZ3Jlc3MgewogIGxlZnQ6IDIycHggIWltcG9ydGFudDsKfQoud2F0ZXJtYXJrIHsKICBtYXgtaGVpZ2h0OiAxMjBweDsKICBtYXgtd2lkdGg6IDEyMHB4OwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICByaWdodDogMTBweDsKICBib3R0b206IDEwcHg7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHRyYW5zaXRpb246IGJvdHRvbSAwLjJzIGxpbmVhciwgb3BhY2l0eSAwLjJzIGxpbmVhciwgcmlnaHQgMC4ycyBsaW5lYXI7CiAgb3BhY2l0eTogLjc7CiAgcG9pbnRlci1ldmVudHM6IG5vbmU7CiAgdmlzaWJpbGl0eTogaGlkZGVuOwp9Ci53YXRlcm1hcmsgaW1nIHsKICBtYXgtaGVpZ2h0OiAxMjBweDsKICBtYXgtd2lkdGg6IDEyMHB4OwogIG9iamVjdC1maXQ6IGNvbnRhaW47Cn0KQG1lZGlhIChtYXgtd2lkdGg6IDQwMHB4KSB7CiAgLndhdGVybWFyayB7CiAgICBib3R0b206IGluaGVyaXQ7CiAgICB0b3A6IDEwcHg7CiAgICBtYXgtaGVpZ2h0OiA2MHB4OwogICAgbWF4LXdpZHRoOiA2MHB4OwogIH0KICAud2F0ZXJtYXJrIGltZyB7CiAgICBtYXgtaGVpZ2h0OiA2MHB4OwogICAgbWF4LXdpZHRoOiA2MHB4OwogIH0KfQoucGxheWVyLnVzZXItYWN0aXZpdHkgLnBsYXllci1jb250cm9scyB7CiAgdHJhbnNpdGlvbjogbm9uZTsKICBvcGFjaXR5OiAxOwp9Ci5wbGF5ZXIudXNlci1hY3Rpdml0eSAud2F0ZXJtYXJrIHsKICB0cmFuc2l0aW9uOiByaWdodCAwLjJzIGxpbmVhcjsKICBib3R0b206IDUwcHggIWltcG9ydGFudDsKICBvcGFjaXR5OiAxOwp9Ci5wbGF5ZXIuY29udHJvbHMgLnBsYXllci1jb250cm9scyB7CiAgZGlzcGxheTogYmxvY2s7Cn0KI2NvbnRleHQtbWVudSB7CiAgei1pbmRleDogOTk5OTk5OwogIGRpc3BsYXk6IG5vbmU7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHdpZHRoOiAyMDBweDsKICBmb250LWZhbWlseTogSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogIHRleHQtYWxpZ246IGxlZnQ7CiAgYm9yZGVyLXJhZGl1czogM3B4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgb3BhY2l0eTogMC45Owp9CiNjb250ZXh0LW1lbnUgLmNvbnRleHQtbWVudS1pdGVtIHsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgZGlzcGxheTogYmxvY2s7CiAgY3Vyc29yOiBwb2ludGVyOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC45KTsKICBwYWRkaW5nOiA0cHggMTBweDsKICBjb2xvcjogI2NjYzsKICBsaW5lLWhlaWdodDogMS40M2VtOwogIGZvbnQtc2l6ZTogMTJweDsKfQojY29udGV4dC1tZW51IC5jb250ZXh0LW1lbnUtaXRlbTpmaXJzdC1vZi10eXBlIHsKICBwYWRkaW5nLXRvcDogNnB4Owp9CiNjb250ZXh0LW1lbnUgLmNvbnRleHQtbWVudS1pdGVtOmhvdmVyIHsKICBjb2xvcjogd2hpdGU7Cn0KI2NvbnRleHQtbWVudSAuY29udGV4dC1tZW51LWZvb3RlciB7CiAgZm9udC1zaXplOiAxMHB4ICFpbXBvcnRhbnQ7CiAgY29sb3I6ICM4ODg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHBhZGRpbmc6IDZweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyOwp9CiNjb250ZXh0LW1lbnUgLmNvbnRleHQtbWVudS1mb290ZXIgaW1nIHsKICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogIG1hcmdpbi1yaWdodDogNXB4OwogIG1hcmdpbi10b3A6IC0xcHg7Cn0KI2NvbnRleHQtbWVudSAjY3JlYXRlZCB7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTsKfQojY29udGV4dC1tZW51IC5jb250ZXh0LW1lbnUtc2VsZWN0aW9uLWl0ZW06bGFzdC1vZi10eXBlIHsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpOwp9CiNjb250ZXh0LW1lbnUgLmNvbnRleHQtbWVudS1zZWxlY3Rpb24taXRlbTpob3ZlciB7CiAgY29sb3I6ICNjY2M7Cn0KI2NvbnRleHQtbWVudSAuY29udGV4dC1tZW51LXNlbGVjdGlvbi1pdGVtIC5jb250ZXh0LW1lbnUtc2VsZWN0aW9uLWl0ZW0tYnV0dG9uIHsKICBjb2xvcjogI2NjYzsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgZmxvYXQ6IHJpZ2h0OwogIHBhZGRpbmc6IDBweCA1cHg7Cn0KI2NvbnRleHQtbWVudSAuY29udGV4dC1tZW51LXNlbGVjdGlvbi1pdGVtIC5jb250ZXh0LW1lbnUtc2VsZWN0aW9uLWl0ZW0tYnV0dG9uOmhvdmVyIHsKICBjb2xvcjogd2hpdGU7Cn0KI2NvbnRleHQtbWVudSAuY29udGV4dC1tZW51LXNlbGVjdGlvbi1pdGVtIC5hY3RpdmUgewogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGNvbG9yOiB3aGl0ZTsKfQojYWRCYWNrZHJvcCB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGxlZnQ6IDA7CiAgdG9wOiAwOwogIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC41KTsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgdmlzaWJpbGl0eTogaGlkZGVuOwp9CiNwbGF5LW92ZXJsYXkgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDBweDsKICBib3R0b206IDBweDsKICBsZWZ0OiAwcHg7CiAgcmlnaHQ6IDBweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7Cn0KI3BsYXktb3ZlcmxheSAjcGxheS1iYWNrZ3JvdW5kIHsKICBoZWlnaHQ6IDEwMCU7CiAgd2lkdGg6IDEwMCU7Cn0KI3BsYXktb3ZlcmxheSAjcGxheS1idXR0b24gewogIGJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGY4O2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpYVhOdkxUZzROVGt0TVNJL1BnbzhJUzB0SUVkbGJtVnlZWFJ2Y2pvZ1FXUnZZbVVnU1d4c2RYTjBjbUYwYjNJZ01UWXVNQzR3TENCVFZrY2dSWGh3YjNKMElGQnNkV2N0U1c0Z0xpQlRWa2NnVm1WeWMybHZiam9nTmk0d01DQkNkV2xzWkNBd0tTQWdMUzArQ2p3aFJFOURWRmxRUlNCemRtY2dVRlZDVEVsRElDSXRMeTlYTTBNdkwwUlVSQ0JUVmtjZ01TNHhMeTlGVGlJZ0ltaDBkSEE2THk5M2QzY3Vkek11YjNKbkwwZHlZWEJvYVdOekwxTldSeTh4TGpFdlJGUkVMM04yWnpFeExtUjBaQ0krQ2p4emRtY2dlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3pwNGJHbHVhejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TVRrNU9TOTRiR2x1YXlJZ2RtVnljMmx2YmowaU1TNHhJaUJwWkQwaVEyRndZVjh4SWlCNFBTSXdjSGdpSUhrOUlqQndlQ0lnZDJsa2RHZzlJalV4TW5CNElpQm9aV2xuYUhROUlqVXhNbkI0SWlCMmFXVjNRbTk0UFNJd0lEQWdORFF6TGpNd055QTBORE11TXpBMklpQnpkSGxzWlQwaVpXNWhZbXhsTFdKaFkydG5jbTkxYm1RNmJtVjNJREFnTUNBME5ETXVNekEzSURRME15NHpNRFk3SWlCNGJXdzZjM0JoWTJVOUluQnlaWE5sY25abElqNEtQR2MrQ2drOGNHRjBhQ0JrUFNKTk5ERTFMamt6TkN3eU1USXVOems1VERNMkxqYzRPQ3d5TGpBNU4wTXpNaTQwTVRFdE1DNHpOemNzTWpndU5qVXRNQzQyTmpFc01qVXVOVEVzTVM0eU5ESmpMVE11TVRRc01TNDVNREl0TkM0M01EZ3NOUzR6TWpndE5DNDNNRGdzTVRBdU1qYzJWalF6TVM0M09DQWdJR013TERRdU9UVXlMREV1TlRZNUxEZ3VNemd4TERRdU56QTRMREV3TGpJNE5HTXpMakUwTERFdU9UQXlMRFl1T1RBeExERXVOakl5TERFeExqSTNPQzB3TGpnMU5Xd3pOemt1TVRRMkxUSXhNQzQzTUROak5DNHpPREV0TWk0ME56Z3NOaTQxTnpFdE5TNDBNelFzTmk0MU56RXRPQzQ0TlRZZ0lDQkROREl5TGpVd05Td3lNVGd1TWpJMExEUXlNQzR6TVRRc01qRTFMakkzTkN3ME1UVXVPVE0wTERJeE1pNDNPVGw2SWlCbWFXeHNQU0lqUmtaR1JrWkdJaTgrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQR2MrQ2p3dlp6NEtQQzl6ZG1jK0NnPT0pIG5vLXJlcGVhdDsKICBiYWNrZ3JvdW5kLXNpemU6IDgwcHggODBweDsKICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMHB4OwogIGJvdHRvbTogMHB4OwogIGxlZnQ6IDBweDsKICByaWdodDogMHB4OwogIGhlaWdodDogMTAwJTsKICB3aWR0aDogMTAwJTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgLXdlYmtpdC1maWx0ZXI6IGRyb3Atc2hhZG93KDBweCAwcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuNSkpIG9wYWNpdHkoMC43KTsKICBmaWx0ZXI6IGRyb3Atc2hhZG93KDBweCAwcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuNSkpIG9wYWNpdHkoMC43KTsKICB0cmFuc2l0aW9uOiBmaWx0ZXIgLjI1cyBsaW5lYXI7CiAgLXdlYmtpdC10cmFuc2l0aW9uOiAtd2Via2l0LWZpbHRlciAwLjI1cyBsaW5lYXI7Cn0KI3BsYXktb3ZlcmxheSAjcGxheS1idXR0b246aG92ZXIgewogIC13ZWJraXQtZmlsdGVyOiBkcm9wLXNoYWRvdygwcHggMHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjUpKSBvcGFjaXR5KDEpOwogIGZpbHRlcjogZHJvcC1zaGFkb3coMHB4IDBweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC41KSkgb3BhY2l0eSgxKTsKfQpAbWVkaWEgKG1heC13aWR0aDogNDAwcHgpIHsKICAjcGxheS1vdmVybGF5ICNwbGF5LWJ1dHRvbiB7CiAgICBiYWNrZ3JvdW5kLXNpemU6IDQwcHggNDBweDsKICB9Cn0KLnBsYXllci5wbGF5aW5nICNwbGF5LW92ZXJsYXkgewogIGRpc3BsYXk6IG5vbmU7Cn0KLm5hdi1jb250YWluZXIjcGxheWVyIC5uYXYtcmlnaHQgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5uYXYtY29udGFpbmVyI3BsYXllciAudXBsb2FkLWFjdGlvbnMgewogIGRpc3BsYXk6IG5vbmU7Cn0KLmRhcmsgLmJveCB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzIzMjMyMzsKfQouZGFyayAuYWN0aW9ucy1zZWN0aW9uIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjMyMzIzICFpbXBvcnRhbnQ7Cn0KLmRhcmsgLm1ldGFkYXRhIHsKICBib3JkZXItY29sb3I6ICMyZDJkMmQgIWltcG9ydGFudDsKfQouZGFyayAubWV0YWRhdGEgI3RpdGxlLAouZGFyayAubWV0YWRhdGEgI3Zpc2l0cyB7CiAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7Cn0KLmRhcmsgLmxvZ28gewogIGZpbHRlcjogYnJpZ2h0bmVzcyg1MDAlKTsKfQojcGxheWVyLmNvbnRhaW5lciB7CiAgbWluLWhlaWdodDogMTAwJSAhaW1wb3J0YW50OwogIG1hcmdpbi1ib3R0b206IC01MHB4ICFpbXBvcnRhbnQ7CiAgd2lkdGg6IDEwMCU7CiAgcGFkZGluZzogMHB4OwogIG92ZXJmbG93LXg6IGhpZGRlbjsKICBsaW5lLWhlaWdodDogMDsKICBsaW5lLWhlaWdodDogMS40MzsKfQojcGxheWVyLmNvbnRhaW5lciAucGxheWVyIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAwcHg7CiAgbGVmdDogMHB4OwogIHJpZ2h0OiAwcHg7CiAgYm90dG9tOiAwcHg7Cn0KI3BsYXllci5jb250YWluZXIgLl9fa3hfZmJ1bml0X25oIHsKICBtYXgtd2lkdGg6IDEwMHZ3OwogIGZvbnQtZmFtaWx5OiAnT3BlbiBTYW5zJywgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwp9CiNwbGF5ZXIuY29udGFpbmVyIC5fX2t4X2ZidW5pdF9uaCAuX19reF9zbG90X3RpdGxlIHsKICBkaXNwbGF5OiBub25lOwp9CiNwbGF5ZXIuY29udGFpbmVyIC5fX2t4X2ZidW5pdF9uaCAuX19reF9wcm9tb3RlZCB7CiAgZGlzcGxheTogbm9uZTsKfQojcGxheWVyLmNvbnRhaW5lciAuX19reF9mYnVuaXRfbmggLl9fa3hfZmJ1bml0X25oIHsKICBtYXJnaW46IDA7Cn0KI3BsYXllci5jb250YWluZXIgLl9fa3hfZmJ1bml0X25oIC5fX2t4X2ZlYXR1cmVkX2FwcCB7CiAgYm9yZGVyOiBub25lOwogIG1hcmdpbi10b3A6IDE1cHg7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNmU2ZTY7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkYmRjZTA7Cn0KI3BsYXllci5jb250YWluZXIgLl9fa3hfZmJ1bml0X25oIC5mZWF0dXJlZF9hcHBfY29udCB7CiAgYm9yZGVyOiBub25lOwp9CiNwbGF5ZXIuY29udGFpbmVyIC5fX2t4X2ZidW5pdF9uaCAuX19reF9oZWFkZXIgewogIG1hcmdpbjogMHB4IDEwcHggNXB4IDEwcHg7CiAgcGFkZGluZzogMHB4Owp9CiNwbGF5ZXIuY29udGFpbmVyIC5fX2t4X2ZidW5pdF9uaCAuYWN0aW9uX2J1dHRvbl9jb250YWluZXIgewogIG1hcmdpbjogMTBweCAwcHg7Cn0KI3BsYXllci5jb250YWluZXIgI3BsYXllci1jb250YWluZXIgewogIGhlaWdodDogMTAwJTsKfQojcGxheWVyLmNvbnRhaW5lciAudG9wYmFubmVyIHsKICBsaW5lLWhlaWdodDogMHB4OwogIG1hcmdpbi10b3A6IDVweDsKICBtYXJnaW4tYm90dG9tOiAxNXB4OwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7Cn0KI3BsYXllci5jb250YWluZXIgLmJvdHRvbWJhbm5lciB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQojcGxheWVyLmNvbnRhaW5lciAubGVmdGJhbm5lciB7CiAgdG9wOiAwcHg7CiAgbGVmdDogLTE3NXB4OwogIHdpZHRoOiAxNjBweDsKICB6LWluZGV4OiAxOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0ZXh0LWFsaWduOiByaWdodDsKfQojcGxheWVyLmNvbnRhaW5lciAucmlnaHRiYW5uZXItY29udGFpbmVyIHsKICByaWdodDogLTE1cHg7CiAgdG9wOiAwcHg7CiAgcG9zaXRpb246IGFic29sdXRlOwp9CiNwbGF5ZXIuY29udGFpbmVyIC5yaWdodGJhbm5lciB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHdpZHRoOiAxNjBweDsKfQojcGxheWVyLmNvbnRhaW5lciAubWVkaWEtY29udGFpbmVyIHsKICBtYXJnaW46IDBweCBhdXRvOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQojcGxheWVyLmNvbnRhaW5lciAjZmlsbGVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsKICB3aWR0aDogMTAwJTsKfQojcGxheWVyLmNvbnRhaW5lciAuYm94IHsKICBwYWRkaW5nOiAwcHg7CiAgbWFyZ2luLXRvcDogMTBweDsKfQojcGxheWVyLmNvbnRhaW5lciAjZXZlcnl0aGluZy1idXQtdmlkZW8gewogIG1hcmdpbjogMHB4IGF1dG87Cn0KI3BsYXllci5jb250YWluZXIgLm1vYmlsZS1mb290ZXJhZCB7CiAgbWFyZ2luLXRvcDogMTBweDsKfQojcGxheWVyLmNvbnRhaW5lciAjZm9vdGVyLWNvbnRlbnQgewogIG1hcmdpbi10b3A6IDBweDsKICBtYXgtd2lkdGg6IDEwMHZ3Owp9CiNwbGF5ZXIuY29udGFpbmVyIC5jb250ZW50IHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGJhY2tncm91bmQtY29sb3I6IGJsYWNrOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQojcGxheWVyLmNvbnRhaW5lciB2aWRlbyB7CiAgcGFkZGluZy10b3A6IDBweCAhaW1wb3J0YW50OwogIHdpZHRoOiAxMDAlOwp9CiNwbGF5ZXIuY29udGFpbmVyIC5tZXRhZGF0YSB7CiAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICBjb2xvcjogIzc0ODQ5MDsKICBkaXNwbGF5OiBmbGV4OwogIGxpbmUtaGVpZ2h0OiAxLjM7Cn0KI3BsYXllci5jb250YWluZXIgI3ZpZGVvLWZvb3RlciB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHBhZGRpbmc6IDEycHg7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWVlZWU7CiAgdGV4dC1hbGlnbjogbGVmdDsKfQojcGxheWVyLmNvbnRhaW5lciAuYWxpZ25sZWZ0IHsKICBmbG9hdDogbGVmdDsKICBjb2xvcjogIzg0OUJBRDsKICBoZWlnaHQ6IDI0cHg7CiAgbGluZS1oZWlnaHQ6IDI0cHg7Cn0KI3BsYXllci5jb250YWluZXIgLmFsaWducmlnaHQgewogIGZsb2F0OiByaWdodDsKICBjb2xvcjogIzg0OUJBRDsKfQojcGxheWVyLmNvbnRhaW5lciAuZHJvcGRvd24udXAgPiAuZHJvcGRvd24tbWVudSB7CiAgdG9wOiBpbmhlcml0OwogIGJvdHRvbTogMTVweDsKfQojcGxheWVyLmNvbnRhaW5lciAuZHJvcGRvd24ub3BlbiA+IC5tb3JlLWJ1dHRvbiwKI3BsYXllci5jb250YWluZXIgLmRyb3Bkb3duLm9wZW4gPiAuYWRkdG8tYnV0dG9uIHsKICBjb2xvcjogIzM4NTY2RjsKfQojcGxheWVyLmNvbnRhaW5lciAudmlzaXRzLWJ1dHRvbiB7CiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7CiAgZm9udC13ZWlnaHQ6IDYwMDsKICBtYXJnaW4tdG9wOiBhdXRvOwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICBjb2xvcjogIzQ0NDsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwp9CiNwbGF5ZXIuY29udGFpbmVyIC52aXNpdHMtYnV0dG9uOmhvdmVyIHsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgY29sb3I6IGJsYWNrOwp9CiNwbGF5ZXIuY29udGFpbmVyICN0aXRsZSB7CiAgd29yZC13cmFwOiBicmVhay13b3JkOwogIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsKICB0ZXh0LWFsaWduOiBsZWZ0OwogIGNvbG9yOiAjNDQ0OwogIG1hcmdpbi1yaWdodDogYXV0bzsKICBwYWRkaW5nLXJpZ2h0OiAxMHB4OwogIG1hcmdpbi1sZWZ0OiAycHg7Cn0KI3BsYXllci5jb250YWluZXIgLnZpZGVvLWZvb3RlciB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwp9CiNwbGF5ZXIuY29udGFpbmVyICNwcm9ncmVzcy1vdmVybGF5IHsKICB6LWluZGV4OiA1OwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDBweDsKICBsZWZ0OiAwcHg7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC45KTsKfQojcGxheWVyLmNvbnRhaW5lciAjcHJvZ3Jlc3Mtb3ZlcmxheSAjcHJvZ3Jlc3MtYmFyLXRyYWNrIHsKICBib3JkZXItcmFkaXVzOiA0cHg7CiAgYm9yZGVyOiAycHggc29saWQgd2hpdGU7CiAgd2lkdGg6IDIwMHB4OwogIHRvcDogNTAlOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBoZWlnaHQ6IDMwcHg7CiAgbGVmdDogNTAlOwogIG1hcmdpbi1sZWZ0OiAtMTAwcHg7CiAgbWFyZ2luLXRvcDogNXB4Owp9CiNwbGF5ZXIuY29udGFpbmVyICNwcm9ncmVzcy1vdmVybGF5ICNwcm9ncmVzcy1iYXItdmFsdWUgewogIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogIGhlaWdodDogMjZweDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgd2lkdGg6IDAlOwogIC13ZWJraXQtdHJhbnNpdGlvbjogd2lkdGggMXMgbGluZWFyOwogIC1tb3otdHJhbnNpdGlvbjogd2lkdGggMXMgbGluZWFyOwogIHRyYW5zaXRpb246IHdpZHRoIDFzIGxpbmVhcjsKfQojcGxheWVyLmNvbnRhaW5lciAjcHJvZ3Jlc3Mtb3ZlcmxheSAjcHJvZ3Jlc3Mtc3Bpbm5lciB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogNTAlOwogIGxlZnQ6IDBweDsKICByaWdodDogMHB4OwogIGhlaWdodDogMzBweDsKICBtYXJnaW46IDBweCBhdXRvOwogIG1hcmdpbi10b3A6IC01MHB4Owp9CiNwbGF5ZXIuY29udGFpbmVyIC5hZC1oZWxwIHsKICB0ZXh0LWFsaWduOiByaWdodDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdG9wOiA1cHg7CiAgcmlnaHQ6IDRweDsKICBmb250LXNpemU6IDEycHg7Cn0KI3BsYXllci5jb250YWluZXIgLmFkLWhlbHAgYSB7CiAgY29sb3I6ICM3NDg0OTA7Cn0KI3BsYXllci5jb250YWluZXIgI2FkLWNvbnRlbnQgewogIHRleHQtYWxpZ246IGxlZnQ7CiAgbWFyZ2luOiAxMHB4IGF1dG87CiAgcGFkZGluZzogMHB4IDE1cHggMTVweCAxNXB4OwogIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogIGJvcmRlci1yYWRpdXM6IDNweDsKICBib3JkZXI6IDFweCBzb2xpZCAjZWVlOwogIGNvbG9yOiAjNzQ4NDkwOwp9CiNwbGF5ZXIuY29udGFpbmVyIC5hY3Rpb25zLXNlY3Rpb24gewogIGxpbmUtaGVpZ2h0OiAwOwogIHRleHQtYWxpZ246IGxlZnQ7CiAgcGFkZGluZzogMTJweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5Owp9CiNwbGF5ZXIuY29udGFpbmVyIC5hY3Rpb25zLXNlY3Rpb24gLmxvZ28gewogIGhlaWdodDogMjZweDsKICBvcGFjaXR5OiAuMzsKfQojcGxheWVyLmNvbnRhaW5lciAuYWN0aW9ucy1zZWN0aW9uIC5sb2dvOmhvdmVyIHsKICBvcGFjaXR5OiAxOwp9CiNwbGF5ZXIuY29udGFpbmVyIC5hY3Rpb25zLXNlY3Rpb24gLmFjdGlvbi1idXR0b24gewogIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOwogIGZsb2F0OiByaWdodDsKICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCByZ2JhKDEwMCwgMjU1LCAyNTUsIDAuMiksIHJnYmEoMCwgMCwgMCwgMC4xKSkgbGVmdCBuby1yZXBlYXQsIGNlbnRlciBuby1yZXBlYXQgIzBmOTBmYTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGY5MGZhOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgY3Vyc29yOiBwb2ludGVyOwogIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7CiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTsKICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7CiAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMTYsIDIyLCAyNiwgMC4yKTsKICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDsKICBib3JkZXItY29sb3I6IHJnYmEoMTYsIDIyLCAyNiwgMC4xKSByZ2JhKDE2LCAyMiwgMjYsIDAuMSkgcmdiYSgxNiwgMjIsIDI2LCAwLjMpIHJnYmEoMTYsIDIyLCAyNiwgMC4xKTsKICBjb2xvcjogd2hpdGU7CiAgZm9udC1zaXplOiAxMnB4OwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGJvcmRlci1yYWRpdXM6IDNweDsKICBsaW5lLWhlaWdodDogMjJweDsKICBwYWRkaW5nOiAxcHggMTJweDsKICBvdXRsaW5lOiAwOwp9CiNwbGF5ZXIuY29udGFpbmVyIC5hY3Rpb25zLXNlY3Rpb24gLmFjdGlvbi1idXR0b246aG92ZXIgewogIGJhY2tncm91bmQ6ICMwZjkwZmE7CiAgYm9yZGVyLWNvbG9yOiByZ2JhKDE2LCAyMiwgMjYsIDAuMikgcmdiYSgxNiwgMjIsIDI2LCAwLjIpIHJnYmEoMTYsIDIyLCAyNiwgMC4yNykgcmdiYSgxNiwgMjIsIDI2LCAwLjIpOwp9CiNwbGF5ZXIuY29udGFpbmVyIC5hY3Rpb25zLXNlY3Rpb24gLmFjdGlvbi1idXR0b24uY29waWVkIHsKICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCByZ2JhKDEwMCwgMjU1LCAyNTUsIDAuMiksIHJnYmEoMCwgMCwgMCwgMC4xKSkgbGVmdCBuby1yZXBlYXQsIGNlbnRlciBuby1yZXBlYXQgIzA1OWUwNTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDc4NjA3Owp9CiNwbGF5ZXIuY29udGFpbmVyIC5hY3Rpb25zLXNlY3Rpb24gLmFjdGlvbi1idXR0b24uY29waWVkOmhvdmVyIHsKICBiYWNrZ3JvdW5kOiAjMDc4NjA3Owp9CiNwbGF5ZXIuY29udGFpbmVyIC5hY3Rpb25zLXNlY3Rpb24gLmFjdGlvbi1idXR0b246Zm9jdXMgewogIG91dGxpbmU6IDA7Cn0KQG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSB7CiAgI3BsYXllci5jb250YWluZXIgLmFjdGlvbnMtc2VjdGlvbiB7CiAgICBkaXNwbGF5OiBub25lOwogIH0KfQo8L3N0eWxlPgo8c2NyaXB0IGlkPSJzaGFyZWQtanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICAvKiEKKiBzY3JlZW5mdWxsCiogdjMuMy4yIC0gMjAxNy0xMC0yNwoqIChjKSBTaW5kcmUgU29yaHVzOyBNSVQgTGljZW5zZQoqLwoKIWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBhPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ2b2lkIDAhPT13aW5kb3cuZG9jdW1lbnQ/d2luZG93LmRvY3VtZW50Ont9LGI9InVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzLGM9InVuZGVmaW5lZCIhPXR5cGVvZiBFbGVtZW50JiYiQUxMT1dfS0VZQk9BUkRfSU5QVVQiaW4gRWxlbWVudCxkPWZ1bmN0aW9uKCl7Zm9yKHZhciBiLGM9W1sicmVxdWVzdEZ1bGxzY3JlZW4iLCJleGl0RnVsbHNjcmVlbiIsImZ1bGxzY3JlZW5FbGVtZW50IiwiZnVsbHNjcmVlbkVuYWJsZWQiLCJmdWxsc2NyZWVuY2hhbmdlIiwiZnVsbHNjcmVlbmVycm9yIl0sWyJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiIsIndlYmtpdEV4aXRGdWxsc2NyZWVuIiwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnQiLCJ3ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCIsIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3IiXSxbIndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIiwid2Via2l0Q2FuY2VsRnVsbFNjcmVlbiIsIndlYmtpdEN1cnJlbnRGdWxsU2NyZWVuRWxlbWVudCIsIndlYmtpdENhbmNlbEZ1bGxTY3JlZW4iLCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIiwid2Via2l0ZnVsbHNjcmVlbmVycm9yIl0sWyJtb3pSZXF1ZXN0RnVsbFNjcmVlbiIsIm1vekNhbmNlbEZ1bGxTY3JlZW4iLCJtb3pGdWxsU2NyZWVuRWxlbWVudCIsIm1vekZ1bGxTY3JlZW5FbmFibGVkIiwibW96ZnVsbHNjcmVlbmNoYW5nZSIsIm1vemZ1bGxzY3JlZW5lcnJvciJdLFsibXNSZXF1ZXN0RnVsbHNjcmVlbiIsIm1zRXhpdEZ1bGxzY3JlZW4iLCJtc0Z1bGxzY3JlZW5FbGVtZW50IiwibXNGdWxsc2NyZWVuRW5hYmxlZCIsIk1TRnVsbHNjcmVlbkNoYW5nZSIsIk1TRnVsbHNjcmVlbkVycm9yIl1dLGQ9MCxlPWMubGVuZ3RoLGY9e307ZDxlO2QrKylpZigoYj1jW2RdKSYmYlsxXWluIGEpe2ZvcihkPTA7ZDxiLmxlbmd0aDtkKyspZltjWzBdW2RdXT1iW2RdO3JldHVybiBmfXJldHVybiExfSgpLGU9e2NoYW5nZTpkLmZ1bGxzY3JlZW5jaGFuZ2UsZXJyb3I6ZC5mdWxsc2NyZWVuZXJyb3J9LGY9e3JlcXVlc3Q6ZnVuY3Rpb24oYil7dmFyIGU9ZC5yZXF1ZXN0RnVsbHNjcmVlbjtiPWJ8fGEuZG9jdW1lbnRFbGVtZW50LC8gVmVyc2lvblwvNVwuMSg/OlwuXGQrKT8gU2FmYXJpXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/YltlXSgpOmJbZV0oYyYmRWxlbWVudC5BTExPV19LRVlCT0FSRF9JTlBVVCl9LGV4aXQ6ZnVuY3Rpb24oKXthW2QuZXhpdEZ1bGxzY3JlZW5dKCl9LHRvZ2dsZTpmdW5jdGlvbihhKXt0aGlzLmlzRnVsbHNjcmVlbj90aGlzLmV4aXQoKTp0aGlzLnJlcXVlc3QoYSl9LG9uY2hhbmdlOmZ1bmN0aW9uKGEpe3RoaXMub24oImNoYW5nZSIsYSl9LG9uZXJyb3I6ZnVuY3Rpb24oYSl7dGhpcy5vbigiZXJyb3IiLGEpfSxvbjpmdW5jdGlvbihiLGMpe3ZhciBkPWVbYl07ZCYmYS5hZGRFdmVudExpc3RlbmVyKGQsYywhMSl9LG9mZjpmdW5jdGlvbihiLGMpe3ZhciBkPWVbYl07ZCYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGQsYywhMSl9LHJhdzpkfTtpZighZClyZXR1cm4gdm9pZChiP21vZHVsZS5leHBvcnRzPSExOndpbmRvdy5zY3JlZW5mdWxsPSExKTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhmLHtpc0Z1bGxzY3JlZW46e2dldDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKGFbZC5mdWxsc2NyZWVuRWxlbWVudF0pfX0sZWxlbWVudDp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYVtkLmZ1bGxzY3JlZW5FbGVtZW50XX19LGVuYWJsZWQ6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4oYVtkLmZ1bGxzY3JlZW5FbmFibGVkXSl9fX0pLGI/bW9kdWxlLmV4cG9ydHM9Zjp3aW5kb3cuc2NyZWVuZnVsbD1mfSgpOwpmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBuYW1lKSB7CiAgcmVtb3ZlQ2xhc3MoZWxlbWVudCwgbmFtZSk7CiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgZWxlbWVudC5jbGFzc05hbWUgKyAiICIgKyBuYW1lKTsKfQpmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBuYW1lKSB7CiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSgnICcgKyBuYW1lLCAnJykucmVwbGFjZShuYW1lLCAnJykpOwp9CmZ1bmN0aW9uIHBhcnNlVVJMKHVybCkgewogIGlmICghdXJsKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CiAgdmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogIGEuaHJlZj11cmw7CiAgcmV0dXJuIGEuaG9zdG5hbWU7Cn0KZnVuY3Rpb24gZ2V0UXVlcnlWYXJpYWJsZSh2YXJpYWJsZSkgewogIHZhciBxdWVyeSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpOwogIHZhciB2YXJzID0gcXVlcnkuc3BsaXQoIiYiKTsKICBmb3IgKHZhciBpPTA7aTx2YXJzLmxlbmd0aDtpKyspIHsKICAgIHZhciBwYWlyID0gdmFyc1tpXS5zcGxpdCgiPSIpOwogICAgaWYocGFpclswXSA9PSB2YXJpYWJsZSl7cmV0dXJuIHBhaXJbMV07fQogIH0KICByZXR1cm4oZmFsc2UpOwp9CmZ1bmN0aW9uIHNldENvb2tpZShjbmFtZSwgY3ZhbHVlKSB7CiAgLy8gZGVsZXRlIG9sZCBjb29raWVzCiAgZG9jdW1lbnQuY29va2llID0gY25hbWUgKyAiPTttYXgtYWdlPTA7ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIFVUQztwYXRoPS9lIjsKICAKICBkb2N1bWVudC5jb29raWUgPSBjbmFtZSArICI9O21heC1hZ2U9MDtleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDAgVVRDOyI7CiAgZG9jdW1lbnQuY29va2llID0gY25hbWUgKyAiPTttYXgtYWdlPTA7ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIFVUQzsiOwogIAogIHZhciBjb29raWUgPSBjbmFtZSArICI9IiArIGN2YWx1ZSArICI7ZXhwaXJlcz1TdW4sIDEgQXByIDIwNjkgMDA6MDA6MDAgR01UO3BhdGg9LyIKICAKICBjb29raWUgPSBjb29raWUgKyAiO2RvbWFpbj0uc3RyZWFtYWJsZS5jb20iCiAgCiAgZG9jdW1lbnQuY29va2llID0gY29va2llOwp9CmZ1bmN0aW9uIGdldENvb2tpZShjbmFtZSkgewogIHRyeSB7CiAgICBpZiAoIWRvY3VtZW50LmNvb2tpZSkgewogICAgICByZXR1cm4gbnVsbAogICAgfQogIH0gY2F0Y2goZSkgewogICAgcmV0dXJuIG51bGwKICB9CiAgdmFyIG5hbWUgPSBjbmFtZSArICI9IjsKICB2YXIgY2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTsKICBmb3IodmFyIGk9MDsgaTxjYS5sZW5ndGg7IGkrKykgewogICAgICB2YXIgYyA9IGNhW2ldOwogICAgICB3aGlsZSAoYy5jaGFyQXQoMCk9PScgJykgYyA9IGMuc3Vic3RyaW5nKDEpOwogICAgICBpZiAoYy5pbmRleE9mKG5hbWUpID09IDApIHJldHVybiBjLnN1YnN0cmluZyhuYW1lLmxlbmd0aCxjLmxlbmd0aCk7CiAgfQogIHJldHVybiAiIjsKfQp2YXIgZGVidWdMb2cgPSAiIjsKZnVuY3Rpb24gbG9nKG1lc3NhZ2UpIHsKICBpZiAodHlwZW9mIGNvbnNvbGUgPT0gIm9iamVjdCIpIHsKICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpOwogICAgZGVidWdMb2cgPSBkZWJ1Z0xvZyArIG1lc3NhZ2UgKyAiXG4iOwogIH0KfQpmdW5jdGlvbiBmaW5kRWxQb3NpdGlvbihlbCkgewogIHZhciBib3g7CiAgaWYgKGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCAmJiBlbC5wYXJlbnROb2RlKSB7CiAgICBib3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICB9CiAgaWYgKCFib3gpIHsKICAgIHJldHVybiB7CiAgICAgIGxlZnQ6IDAsCiAgICAgIHRvcDogMAogICAgfTsKICB9CiAgdmFyIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTsKCiAgdmFyIGNsaWVudExlZnQgPSBkb2NFbC5jbGllbnRMZWZ0IHx8IGJvZHkuY2xpZW50TGVmdCB8fCAwOwogIHZhciBzY3JvbGxMZWZ0ID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGJvZHkuc2Nyb2xsTGVmdDsKICB2YXIgbGVmdCA9IGJveC5sZWZ0ICsgc2Nyb2xsTGVmdCAtIGNsaWVudExlZnQ7CgogIHZhciBjbGllbnRUb3AgPSBkb2NFbC5jbGllbnRUb3AgfHwgYm9keS5jbGllbnRUb3AgfHwgMDsKICB2YXIgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGJvZHkuc2Nyb2xsVG9wOwogIHZhciB0b3AgPSBib3gudG9wICsgc2Nyb2xsVG9wIC0gY2xpZW50VG9wOwoKICAvLyBBbmRyb2lkIHNvbWV0aW1lcyByZXR1cm5zIHNsaWdodGx5IG9mZiBkZWNpbWFsIHZhbHVlcywgc28gbmVlZCB0byByb3VuZAogIHJldHVybiB7CiAgICBsZWZ0OiBNYXRoLnJvdW5kKGxlZnQpLAogICAgdG9wOiBNYXRoLnJvdW5kKHRvcCkKICB9Owp9CmZ1bmN0aW9uIGdldFBvaW50ZXJQb3NpdGlvbihlbCwgZSkgewogIHZhciBwb3NpdGlvbiA9IHt9OwogIHZhciBib3ggPSBmaW5kRWxQb3NpdGlvbihlbCk7CiAgdmFyIGJveFcgPSBlbC5vZmZzZXRXaWR0aDsKICB2YXIgYm94SCA9IGVsLm9mZnNldEhlaWdodDsKICB2YXIgYm94WSA9IGJveC50b3A7CiAgdmFyIGJveFggPSBib3gubGVmdDsKICB2YXIgcGFnZVkgPSBlLnBhZ2VZOwogIHZhciBwYWdlWCA9IGUucGFnZVg7CiAgaWYgKGUuY2hhbmdlZFRvdWNoZXMpIHsKICAgIHBhZ2VYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDsKICAgIHBhZ2VZID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTsKICB9CiAgcG9zaXRpb24ueSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsICgoYm94WSAtIHBhZ2VZKSArIGJveEgpIC8gYm94SCkpOwogIHBvc2l0aW9uLnggPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCAocGFnZVggLSBib3hYKSAvIGJveFcpKTsKICByZXR1cm4gcG9zaXRpb247Cn0KZnVuY3Rpb24gY2FsY3VsYXRlRGlzdGFuY2UoZSwgZWxlbSwgdmVydGljYWwpIHsKICB2YXIgcG9zaXRpb24gPSBnZXRQb2ludGVyUG9zaXRpb24oZWxlbSwgZSk7CiAgaWYgKHZlcnRpY2FsKSB7CiAgICByZXR1cm4gcG9zaXRpb24ueTsKICB9CiAgcmV0dXJuIHBvc2l0aW9uLng7Cn0KCmZ1bmN0aW9uIGlzTW9iaWxlKCkgewogIGlmKCAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgcmV0dXJuIGZhbHNlOwp9CgpmdW5jdGlvbiBnZXRQYWdlVVJMKCkgewogIGlmICh0b3AgIT09IHNlbGYpIHsKICAgIGlmIChkb2N1bWVudC5yZWZlcnJlcikgewogICAgICByZXR1cm4gZG9jdW1lbnQucmVmZXJyZXIKICAgIH0KICAgIGNvbnN0IGFuY2VzdG9ycyA9IHdpbmRvdy5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnMKICAgIGlmIChhbmNlc3RvcnMpIHsKICAgICAgcmV0dXJuIGFuY2VzdG9yc1thbmNlc3RvcnMubGVuZ3RoIC0gMV0KICAgIH0KICAgIHJldHVybiAnJwogIH0gZWxzZSB7CiAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWYKICB9Cn0KCi8vIHNldCB1cCBzZXNzaW9uIAp2YXIgc2Vzc2lvbiA9IGdldENvb2tpZSgnc2Vzc2lvbicpOwoKd2luZG93LlNUTV9UUkFOU1BPUlQgPSB3aW5kb3cuU1RNX1RSQU5TUE9SVCB8fCBbXQp3aW5kb3cuU1RNX1BSRUxPQURFRF9TT0NLRVQgPSB3aW5kb3cuU1RNX1BSRUxPQURFRF9TT0NLRVQgfHwgbmV3IFdlYlNvY2tldCgid3NzOi8vc29ja2V0LnN0cmVhbWFibGUuY29tIik7CmZ1bmN0aW9uIHVzZXJJbnRlcmFjdGlvblJlcXVpcmVkKCkgewogIHZhciBpT1MgPSAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhd2luZG93Lk1TU3RyZWFtOwogIHZhciBjaHJvbWUgICA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgPiAtMTsKICB2YXIgc2FmYXJpICAgPSBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlNhZmFyaSIpID4gLTE7CiAgaWYgKChjaHJvbWUpICYmIChzYWZhcmkpKSBzYWZhcmkgPSBmYWxzZTsKICByZXR1cm4gc2FmYXJpIHx8IGlPUwp9CmZ1bmN0aW9uIGNvcHlUZXh0VG9DbGlwYm9hcmQodGV4dCkgewogIHZhciB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7CgogIC8vIFBsYWNlIGluIHRvcC1sZWZ0IGNvcm5lciBvZiBzY3JlZW4gcmVnYXJkbGVzcyBvZiBzY3JvbGwgcG9zaXRpb24uCiAgdGV4dEFyZWEuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnOwogIHRleHRBcmVhLnN0eWxlLnRvcCA9IDA7CiAgdGV4dEFyZWEuc3R5bGUubGVmdCA9IDA7CgogIC8vIEVuc3VyZSBpdCBoYXMgYSBzbWFsbCB3aWR0aCBhbmQgaGVpZ2h0LiBTZXR0aW5nIHRvIDFweCAvIDFlbQogIC8vIGRvZXNuJ3Qgd29yayBhcyB0aGlzIGdpdmVzIGEgbmVnYXRpdmUgdy9oIG9uIHNvbWUgYnJvd3NlcnMuCiAgdGV4dEFyZWEuc3R5bGUud2lkdGggPSAnMmVtJzsKICB0ZXh0QXJlYS5zdHlsZS5oZWlnaHQgPSAnMmVtJzsKCiAgLy8gV2UgZG9uJ3QgbmVlZCBwYWRkaW5nLCByZWR1Y2luZyB0aGUgc2l6ZSBpZiBpdCBkb2VzIGZsYXNoIHJlbmRlci4KICB0ZXh0QXJlYS5zdHlsZS5wYWRkaW5nID0gMDsKCiAgLy8gQ2xlYW4gdXAgYW55IGJvcmRlcnMuCiAgdGV4dEFyZWEuc3R5bGUuYm9yZGVyID0gJ25vbmUnOwogIHRleHRBcmVhLnN0eWxlLm91dGxpbmUgPSAnbm9uZSc7CiAgdGV4dEFyZWEuc3R5bGUuYm94U2hhZG93ID0gJ25vbmUnOwoKICAvLyBBdm9pZCBmbGFzaCBvZiB3aGl0ZSBib3ggaWYgcmVuZGVyZWQgZm9yIGFueSByZWFzb24uCiAgdGV4dEFyZWEuc3R5bGUuYmFja2dyb3VuZCA9ICd0cmFuc3BhcmVudCc7CiAgdGV4dEFyZWEudmFsdWUgPSB0ZXh0OwoKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKTsKICB0ZXh0QXJlYS5zZWxlY3QoKTsKICB0cnkgewogICAgdmFyIHN1Y2Nlc3NmdWwgPSBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpOwogICAgdmFyIG1zZyA9IHN1Y2Nlc3NmdWwgPyAnc3VjY2Vzc2Z1bCcgOiAndW5zdWNjZXNzZnVsJzsKICAgIGxvZygnQ29weWluZyB0ZXh0IGNvbW1hbmQgd2FzICcgKyBtc2cpOwogIH0gY2F0Y2ggKGVycikgewogICAgbG9nKCdPb3BzLCB1bmFibGUgdG8gY29weScpOwogIH0KICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRleHRBcmVhKTsKfQoKVmlkZW9QbGF5ZXIgPSBmdW5jdGlvbih2aWRlbywgcGxheWVyLCBpZCkgewogIHRoaXMudmlkZW8gPSB2aWRlbzsKICB0aGlzLnBsYXllciA9IHBsYXllcjsKICB0aGlzLmlkID0gaWQ7CiAgdGhpcy5vblRpbWVVcGRhdGUgPSB0aGlzLm9uVGltZVVwZGF0ZS5iaW5kKHRoaXMpCiAgdGhpcy5vblByb2dyZXNzID0gdGhpcy5vblByb2dyZXNzLmJpbmQodGhpcykKICB0aGlzLnVwZGF0ZV9wbGF5ZXJfY29udHJvbHMgPSB0aGlzLnVwZGF0ZV9wbGF5ZXJfY29udHJvbHMuYmluZCh0aGlzKQogIHRoaXMudXBkYXRlX3BsYXllcl9jb250cm9sc19sb29wID0gdGhpcy51cGRhdGVfcGxheWVyX2NvbnRyb2xzX2xvb3AuYmluZCh0aGlzKQogIHRoaXMudXBkYXRlX3BsYXllcl9wcm9ncmVzcyA9IHRoaXMudXBkYXRlX3BsYXllcl9wcm9ncmVzcy5iaW5kKHRoaXMpCiAgdGhpcy5idWZmZXJDaGVja0ludGVydmFsID0gbnVsbDsKICB0aGlzLmNsaWVudF9kYXRhID0ge307CiAgdGhpcy5vbkZ1bGxTY3JlZW5DaGFuZ2UgPSB0aGlzLm9uRnVsbFNjcmVlbkNoYW5nZS5iaW5kKHRoaXMpCiAgdGhpcy5zZXNzaW9uX2lkID0gc2Vzc2lvbiB8fCBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgMTYpOwogIHRoaXMuc2F2ZVZvbHVtZSA9IHRydWUKICB0aGlzLmlzTW9iaWxlID0gaXNNb2JpbGUoKQp9OwoKVmlkZW9QbGF5ZXIucHJvdG90eXBlLnJlY29yZFN0YXQgPSBmdW5jdGlvbihuYW1lLCBkYXRhKSB7CiAgZGF0YSA9IGRhdGEgfHwge307CiAgZGF0YS50eXBlID0gbmFtZTsKICBkYXRhLnNob3J0Y29kZSA9IHRoaXMudmlkZW8uc2hvcnRjb2RlOwogIGRhdGEudGltZXN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7CiAgZGF0YS5pZCA9IHRoaXMuc2Vzc2lvbl9pZDsgLy9jb29raWUgbG9hZGVkIGluIGNvbW1vbiAKICBkYXRhLnJlZmVycmVyID0gZW5jb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LnJlZmVycmVyKQogIGRhdGEuZW1iZWRpZCA9IHRoaXMuaWQKICBmb3IgKHZhciBhIGluIHRoaXMuY2xpZW50X2RhdGEgKSB7IGRhdGFbYV0gPSB0aGlzLmNsaWVudF9kYXRhW2FdOyB9CiAgZGF0YS5hZCA9IGRhdGEuYWQgPyBkYXRhLmFkLnRhZyA6IG51bGwKICB3aW5kb3cuU1RNX1RSQU5TUE9SVC5wdXNoKGRhdGEpCn0KClZpZGVvUGxheWVyLnByb3RvdHlwZS5vbkZ1bGxTY3JlZW5DaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgaWYgKHNjcmVlbmZ1bGwuaXNGdWxsc2NyZWVuKSB7CiAgICBhZGRDbGFzcyh0aGlzLnBsYXllckRpdiwgImZ1bGxzY3JlZW4iKTsKICB9IGVsc2UgewogICAgcmVtb3ZlQ2xhc3ModGhpcy5wbGF5ZXJEaXYsICJmdWxsc2NyZWVuIik7CiAgfQp9OwoKVmlkZW9QbGF5ZXIucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHsKICB2YXIgc2VsZiA9IHRoaXM7CiAgdmFyIHZpZGVvID0gdGhpcy52aWRlbzsKICB0aGlzLnNjcnViVGltZSA9IG51bGwKICB2YXIgZmlsZXMgPSB2aWRlby5maWxlczsKICB2YXIgYnVmZmVyaW5nRGV0ZWN0ZWQgPSBudWxsOwogIHZhciBwbGF5ZXIgPSB0aGlzLnBsYXllcjsKICB2YXIgcGxheWVyRGl2ID0gdGhpcy5wbGF5ZXIucGFyZW50Tm9kZTsKICB0aGlzLnBsYXllckRpdiA9IHBsYXllckRpdjsKICB0aGlzLnNwaW5uZXIgPSBwbGF5ZXJEaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGxheWVyLXNwaW5uZXInKVswXTsKICB0aGlzLnN0YXJ0ZWQgPSBwbGF5ZXIuaGFzQXR0cmlidXRlKCdhdXRvcGxheScpOwogIHRoaXMucGF1c2VkID0gIXRoaXMuc3RhcnRlZAogIHRoaXMubGFzdFRpbWUgPSBudWxsOwogIHRoaXMubGFzdFJlcG9ydGVkTG9vcCA9IC0xOwogIHRoaXMubGFzdFByb2dyZXNzUmVwb3J0ID0gMDsKICB0aGlzLmxvb3BzID0gMDsKICBpZiAodGhpcy5pc01vYmlsZSkgewogICAgdGhpcy5wbGF5ZXIuY29udHJvbHMgPSB0cnVlOwogICAgdGhpcy5wbGF5ZXIudGl0bGUgPSB0aGlzLnZpZGVvLnRpdGxlOwogICAgdmFyIGNvbnRyb2xzID0gcGxheWVyRGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BsYXllci1jb250cm9scycpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250cm9scy5sZW5ndGg7IGkrKykgewogICAgICBjb250cm9sc1tpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRyb2xzW2ldKTsKICAgIH0KICB9CgogIGlmICh1c2VySW50ZXJhY3Rpb25SZXF1aXJlZCgpKSB7CiAgICByZW1vdmVDbGFzcyhwbGF5ZXJEaXYsICJwbGF5aW5nIik7CiAgfQoKICB2YXIgcGxheWluZyA9IGZhbHNlOwogIHBsYXllci5vbnBsYXkgPSBmdW5jdGlvbigpIHsKICAgIHBsYXlPdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAibm9uZSIKICAgIHBsYXlpbmcgPSB0cnVlOwogICAgc2VsZi5wYXVzZWRfID0gZmFsc2UKICAgIHNlbGYuc3RhcnRlZCA9IHRydWUKICB9OwogIHBsYXllci5vbmNhbnBsYXkgPSBmdW5jdGlvbigpIHsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgIGlmICghcGxheWluZyAmJiAhc2VsZi5wYXVzZWQpIHsKICAgICAgICBsb2coIlZpZGVvIGNhbiBwbGF5LCBmb3JjaW5nIHBsYXkiKQogICAgICAgIG9uVXNlckFjdGl2aXR5KCkKICAgICAgICBzZWxmLnBsYXkoKQogICAgICB9CiAgICB9LCAxMDApOwogIH07ICAKCiAgdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGV4dC1tZW51Jyk7CiAgbWVudS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLCBmdW5jdGlvbihlKSB7CiAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogIH0pOwoKICB2YXIgY2xvc2VDb250ZXh0TWVudSA9IGZ1bmN0aW9uKGUpIHsKICAgIGlmIChlKSB7CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIH0KICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIHNlbGYucGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGNsb3NlQ29udGV4dE1lbnUpOwogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgY2xvc2VDb250ZXh0TWVudSk7CiAgfQoKICB2YXIgY29weVVybEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb3B5dXJsIikKICBpZiAoY29weVVybEJ1dHRvbikgewogICAgY29weVVybEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgewogICAgICBjb3B5VGV4dFRvQ2xpcGJvYXJkKCJodHRwczovL3N0cmVhbWFibGUuY29tLyIgKyBzZWxmLnZpZGVvLnNob3J0Y29kZSk7CiAgICAgIGNsb3NlQ29udGV4dE1lbnUoKTsKICAgIH0pCiAgfQoKICB2YXIgY29weUVtYmVkQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvcHllbWJlZCIpCiAgaWYgKGNvcHlFbWJlZEJ1dHRvbikgewogICAgY29weUVtYmVkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKSB7CiAgICAgIHNlbGYuY29weUVtYmVkQ29kZVRvQ2xpcGJvYXJkKCk7CiAgICAgIGNsb3NlQ29udGV4dE1lbnUoKTsKICAgIH0pCiAgfQoKICB2YXIgc3BlZWRCdXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3BlZWQtYnV0dG9uJyk7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGVlZEJ1dHRvbnMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzcGVlZEJ1dHRvbiA9IHNwZWVkQnV0dG9uc1tpXTsKICAgIHNwZWVkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZSkgewogICAgICB2YXIgc3BlZWQgPSBwYXJzZUZsb2F0KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiZGF0YS1zcGVlZCIpKQogICAgICBwbGF5ZXIucGxheWJhY2tSYXRlID0gc3BlZWQKICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzcGVlZEJ1dHRvbnMubGVuZ3RoOyB4KyspIHsKICAgICAgICB2YXIgc2IyID0gc3BlZWRCdXR0b25zW3hdOwogICAgICAgIHJlbW92ZUNsYXNzKHNiMiwgImFjdGl2ZSIpOwogICAgICB9CiAgICAgIGFkZENsYXNzKGUudGFyZ2V0LCAiYWN0aXZlIik7CiAgICAgIHBsYXllci5wbGF5KCkKICAgIH0pCiAgfQoKICB2YXIgZnVsbFNjcmVlbkJ1dHRvbiA9IHBsYXllckRpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwbGF5ZXItZnVsbHNjcmVlbi1idXR0b24nKVswXTsKICB2YXIgcGxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5LWJ1dHRvbicpCiAgdmFyIHBsYXlPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXktb3ZlcmxheScpCgogIHBsYXllci5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgZnVuY3Rpb24oKXsKICAgIGlmIChwbGF5T3ZlcmxheSkgewogICAgICBwbGF5T3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfQogIH0pOwoKICBpZiAocGxheUJ1dHRvbikgewogICAgcGxheU92ZXJsYXkub25jbGljayA9IGZ1bmN0aW9uKGUpIHsKICAgICAgcGxheU92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICJub25lIgogICAgICBzZWxmLnBsYXkoKTsKICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKQogICAgfQogICAgcGxheUJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oZSkgewogICAgICBwbGF5T3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiCiAgICAgIHNlbGYucGxheSgpOwogICAgICBlLnN0b3BQcm9wYWdhdGlvbigpCiAgICB9CiAgICBwbGF5QnV0dG9uLm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24oZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICB9CiAgfQoKICBwbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigiZW5kZWQiLCBmdW5jdGlvbigpIHsKICAgIHBsYXlPdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siCiAgfSkKICAKICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCJlbmRlZCIsIGZ1bmN0aW9uKGUpIHsKICAgIHJlbW92ZUNsYXNzKHBsYXllckRpdiwgInVzZXItYWN0aXZpdHkiKTsKICB9KTsKCiAgdmFyIHNob3dDb250ZXh0TWVudSA9IGZ1bmN0aW9uKGUpIHsKICAgIHNlbGYucGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGNsb3NlQ29udGV4dE1lbnUpOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgY2xvc2VDb250ZXh0TWVudSk7CiAgICAKICAgIGlmIChlLm9mZnNldFggKyAyMDAgPiBzZWxmLnBsYXllci5vZmZzZXRXaWR0aCkgewogICAgICBtZW51LnN0eWxlLmxlZnQgPSBlLm9mZnNldFggLSAyMDAgKyAicHgiOwogICAgfSBlbHNlIHsKICAgICAgbWVudS5zdHlsZS5sZWZ0ID0gZS5vZmZzZXRYICsgInB4IjsKICAgIH0KICAgIGlmIChlLm9mZnNldFkgKyAxNTAgPiBzZWxmLnBsYXllci5vZmZzZXRIZWlnaHQpIHsKICAgICAgbWVudS5zdHlsZS50b3AgPSBlLm9mZnNldFkgLSAxNTAgKyAicHgiOwogICAgfSBlbHNlIHsKICAgICAgbWVudS5zdHlsZS50b3AgPSBlLm9mZnNldFkgKyAicHgiOwogICAgfQoKICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGlmIChwbGF5QnV0dG9uKSB7CiAgICBwbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51Jywgc2hvd0NvbnRleHRNZW51KTsKICB9CiAgdGhpcy5wbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBzaG93Q29udGV4dE1lbnUpOwoKICBwbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigidGltZXVwZGF0ZSIsIHNlbGYub25UaW1lVXBkYXRlKTsKICBwbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLCBzZWxmLm9uUHJvZ3Jlc3MpOwogIHBsYXllci5hZGRFdmVudExpc3RlbmVyKCJjYW5wbGF5dGhyb3VnaCIsIHNlbGYub25Qcm9ncmVzcyk7CgogIHZhciB2b2wgPSBnZXRDb29raWUoInZvbHVtZSIpIHx8IC41MTsKICB2YXIgbXV0ZWQgPSBnZXRDb29raWUoIm11dGVkIikgfHwgZmFsc2U7CgogIGlmICh2b2wpIHsKICAgIHBsYXllci52b2x1bWUgPSB2b2w7CiAgfQogIGlmIChtdXRlZCA9PSAidHJ1ZSIpIHsKICAgIHBsYXllci5tdXRlZCA9IG11dGVkOwogIH0KCiAgcGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIiwgZnVuY3Rpb24oZSkgewogICAgdmFyIGNvZGUgPSAtMTsKICAgIGlmIChlLnRhcmdldC5lcnJvciAmJiBlLnRhcmdldC5lcnJvci5jb2RlKSB7CiAgICAgIGNvZGUgPSBlLnRhcmdldC5lcnJvci5jb2RlOwogICAgfQogICAgc2VsZi5yZWNvcmRTdGF0KCJlcnJvciIsIHsKICAgICAgY29kZTogY29kZSwKICAgICAgc3JjOiBlLnRhcmdldC5zcmMsCiAgICAgIG5ldHdvcmtTdGF0ZTogcGxheWVyLm5ldHdvcmtTdGF0ZSwKICAgICAgY3VycmVudFRpbWU6IHBsYXllci5jdXJyZW50VGltZSwKICAgICAgcmVhZHlTdGF0ZTogcGxheWVyLnJlYWR5U3RhdGUsCiAgICAgIHR5cGU6ICd2aWRlbycKICAgIH0pCiAgfSk7CiAgdmFyIGxvYWRlZE1ldGFkYXRhID0gZnVuY3Rpb24oKSB7CiAgICBpZiAoc2VsZi5zY3J1YlRpbWUgIT0gbnVsbCkgewogICAgICBwbGF5ZXIuY3VycmVudFRpbWUgPSBzZWxmLnNjcnViVGltZTsKICAgICAgc2VsZi5zY3J1YlRpbWUgPSBudWxsOwogICAgfQogICAgdmFyIHRpbWUgPSBnZXRRdWVyeVZhcmlhYmxlKCd0Jyk7CiAgICBpZiAodGltZSkgewogICAgICBwbGF5ZXIuY3VycmVudFRpbWUgPSB0aW1lOwogICAgfQoKICAgIGlmICghc2VsZi5pc01vYmlsZSkgewogICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNlbGYudXBkYXRlX3BsYXllcl9wcm9ncmVzcyk7CiAgICB9CiAgfQogIGlmIChwbGF5ZXIuZHVyYXRpb24pIHsKICAgIGxvYWRlZE1ldGFkYXRhKCkKICB9IGVsc2UgewogICAgcGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoImxvYWRlZG1ldGFkYXRhIiwgbG9hZGVkTWV0YWRhdGEpOwogIH0KICBwbGF5ZXIub252b2x1bWVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgIGlmIChwbGF5ZXIuaGFzQXR0cmlidXRlKCJtdXRlZCIpKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoc2VsZi5zYXZlVm9sdW1lKSB7CiAgICAgIGlmICghcGxheWVyLm11dGVkKSB7CiAgICAgICAgc2V0Q29va2llKCJ2b2x1bWUiLCBwbGF5ZXIudm9sdW1lKTsKICAgICAgfQogICAgICBzZXRDb29raWUoIm11dGVkIiwgcGxheWVyLm11dGVkKTsKICAgIH0KCiAgICBzZWxmLnVwZGF0ZV9wbGF5ZXJfY29udHJvbHMoKTsKICB9OwoKICB2YXIgYWN0aXZpdHlUaW1lb3V0ID0gbnVsbDsKICB2YXIgc2V0SGlkZVRpbWVvdXQgPSBmdW5jdGlvbihkdXJhdGlvbikgewogICAgZHVyYXRpb24gPSBkdXJhdGlvbiB8fCAyMDAwOwogICAgYWN0aXZpdHlUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgaWYgKHNlbGYuc2NydWJUaW1lICE9IG51bGwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgcmVtb3ZlQ2xhc3MocGxheWVyRGl2LCAidXNlci1hY3Rpdml0eSIpOwogICAgfSwgZHVyYXRpb24pCiAgfQogIHZhciBvblVzZXJBY3Rpdml0eSA9IGZ1bmN0aW9uKGUpIHsKICAgIGlmICghc2VsZi5zdGFydGVkKSB7CiAgICAgIHJldHVybgogICAgfQogICAgaWYgKGFjdGl2aXR5VGltZW91dCkgewogICAgICBjbGVhclRpbWVvdXQoYWN0aXZpdHlUaW1lb3V0KTsKICAgIH0KICAgIGFkZENsYXNzKHBsYXllckRpdiwgInVzZXItYWN0aXZpdHkiKTsKICAgIHNldEhpZGVUaW1lb3V0KCk7CiAgfQogIAogIHNldEhpZGVUaW1lb3V0KCk7CgogIHZhciB3YXRlcm1hcmtTaG93biA9IGZhbHNlOwogIHBsYXllci5hZGRFdmVudExpc3RlbmVyKCJwbGF5aW5nIiwgZnVuY3Rpb24oZSkgewogICAgY2FuU2hvd0J1ZmZlcmluZyA9IHRydWU7CiAgICBpZiAoIXdhdGVybWFya1Nob3duKSB7CiAgICAgIHZhciB3YXRlcm1hcmtDb250YWluZXJzID0gcGxheWVyRGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3dhdGVybWFyaycpOwogICAgICBpZiAod2F0ZXJtYXJrQ29udGFpbmVycy5sZW5ndGgpIHsKICAgICAgICB2YXIgd2F0ZXJtYXJrID0gd2F0ZXJtYXJrQ29udGFpbmVyc1swXQoKICAgICAgICBpZiAod2F0ZXJtYXJrLmdldEF0dHJpYnV0ZSgnZGF0YS1hbmltYXRlZCcpKSB7CiAgICAgICAgICB3YXRlcm1hcmsuc3R5bGUucmlnaHQgPSAnLTEyMHB4JwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgd2F0ZXJtYXJrLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZScKICAgICAgICAgICAgdmFyIHJpZ2h0ID0gd2F0ZXJtYXJrLmdldEF0dHJpYnV0ZSgnZGF0YS1yaWdodCcpOwogICAgICAgICAgICBpZiAoIXJpZ2h0KSB7CiAgICAgICAgICAgICAgcmlnaHQgPSAnMTBweCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2F0ZXJtYXJrLnN0eWxlLnJpZ2h0ID0gcmlnaHQ7CiAgICAgICAgICB9LCA1MDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB3YXRlcm1hcmsuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJwogICAgICAgIH0KICAgICAgfQogICAgICB3YXRlcm1hcmtTaG93biA9IHRydWU7CiAgICB9CiAgfSkKCgogIGlmICghdGhpcy5pc01vYmlsZSkgewogICAgcGxheWVyRGl2LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKICAgICAgcmVtb3ZlQ2xhc3MocGxheWVyRGl2LCAidXNlci1hY3Rpdml0eSIpOwogICAgfSkKCiAgICB2YXIgc2hvd0J1ZmZlcmluZ1RpbWVvdXQgPSBudWxsOwogICAgdmFyIGNhblNob3dCdWZmZXJpbmcgPSBmYWxzZTsKICAgIHZhciBsYXN0UGxheVBvcyA9IDA7CiAgICB0aGlzLmJ1ZmZlckNoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgaWYgKCFwbGF5ZXIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY3VycmVudFBsYXlQb3MgPSBwbGF5ZXIuY3VycmVudFRpbWU7CiAgICAgIGlmICgoc2VsZi5zcGlubmVyLnN0eWxlLmRpc3BsYXkgPT0gJ25vbmUnIHx8CiAgICAgICAgICBzZWxmLnNwaW5uZXIuc3R5bGUuZGlzcGxheSA9PSAnJykKICAgICAgICAmJiBwbGF5ZXIuY3VycmVudFRpbWUgPT0gbGFzdFBsYXlQb3MKICAgICAgICAmJiAhcGxheWVyLnBhdXNlZCkgewogICAgICAgICAgaWYgKGNhblNob3dCdWZmZXJpbmcpIHsKICAgICAgICAgICAgc2VsZi5zcGlubmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICBidWZmZXJpbmdEZXRlY3RlZCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHNlbGYuc3Bpbm5lci5zdHlsZS5kaXNwbGF5ID09ICdibG9jaycKICAgICAgICAmJiBwbGF5ZXIuY3VycmVudFRpbWUgPiBsYXN0UGxheVBvcwogICAgICAgICYmICFwbGF5ZXIucGF1c2VkKSB7CiAgICAgICAgICBzZWxmLnNwaW5uZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgIGJ1ZmZlcmluZ0RldGVjdGVkID0gZmFsc2U7CiAgICAgIH0KICAgICAgbGFzdFBsYXlQb3MgPSBwbGF5ZXIuY3VycmVudFRpbWUKICAgIH0sIDUwMC4wKTsKCiAgICBwbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigicGxheWluZyIsIGZ1bmN0aW9uKGUpIHsKICAgICAgY2FuU2hvd0J1ZmZlcmluZyA9IHRydWU7CiAgICB9KQoKICAgIHRoaXMudXBkYXRlX3BsYXllcl9jb250cm9sc19sb29wKCk7CgogICAgLy90aGlzIG11c3QgYmUgY2xpY2sgZm9yIGllCiAgICBpZiAoZnVsbFNjcmVlbkJ1dHRvbikgewogICAgICBmdWxsU2NyZWVuQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgaWYgKHNjcmVlbmZ1bGwuZW5hYmxlZCkgewogICAgICAgICAgc2NyZWVuZnVsbC50b2dnbGUocGxheWVyRGl2KTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHBsYXllci5zdHlsZS5tYXhIZWlnaHQgPSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCArICJweCI7CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVsbFNjcmVlbkJ1dHRvbi5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB9CiAgICB9CgogICAgcGxheWVyRGl2LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIG9uVXNlckFjdGl2aXR5KTsKCiAgICB0aGlzLnBsYXllci5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLCBmdW5jdGlvbihlKSB7CiAgICAgCiAgICAgIG9uVXNlckFjdGl2aXR5KGUpOwogICAgICB2YXIgYnV0dG9uID0gZS53aGljaCB8fCBlLmJ1dHRvbjsKCiAgICAgIGlmIChidXR0b24gPT0gMykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAKICAgICAgaWYgKHBsYXllci5wYXVzZWQpIHsKICAgICAgICBwbGF5ZXIucGxheSgpOwogICAgICAgIHNlbGYudXBkYXRlX3BsYXllcl9jb250cm9scygpOwogICAgICB9IGVsc2UgewogICAgICAgIHBsYXllci5wYXVzZSgpOwogICAgICAgIHNlbGYudXBkYXRlX3BsYXllcl9jb250cm9scygpOwogICAgICB9CiAgICB9KQoKICAgIGlmIChzY3JlZW5mdWxsLmVuYWJsZWQpIHsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihzY3JlZW5mdWxsLnJhdy5mdWxsc2NyZWVuY2hhbmdlLCBzZWxmLm9uRnVsbFNjcmVlbkNoYW5nZSkKICAgIH0gZWxzZSB7CiAgICAgIGlmIChmdWxsU2NyZWVuQnV0dG9uKSB7CiAgICAgICAgZnVsbFNjcmVlbkJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICB9CiAgICB9CgogICAgaWYgKCFmdWxsU2NyZWVuQnV0dG9uIHx8IGZ1bGxTY3JlZW5CdXR0b24uc3R5bGUuZGlzcGxheSA9PSAibm9uZSIpIHsKICAgICAgcGxheWVyRGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BsYXllci1wcm9ncmVzcycpWzBdLnN0eWxlLnJpZ2h0ID0gIjIycHgiOwogICAgfQoKICAgIHZhciBtdXRlQnV0dG9uID0gcGxheWVyRGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BsYXllci1tdXRlLWJ1dHRvbicpWzBdOwogICAgaWYgKG11dGVCdXR0b24pIHsKICAgICAgbXV0ZUJ1dHRvbi5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICBpZiAocGxheWVyLm11dGVkKSB7CiAgICAgICAgICBwbGF5ZXIubXV0ZWQgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGxheWVyLm11dGVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgfQogICAgfQoKICAgIHZhciB3YXNQYXVzZWQ7CiAgICB2YXIgaGFuZGxlTW91c2VNb3ZlID0gZnVuY3Rpb24oZSkgewogICAgICBsb2coIk1vdXNlIG1vdmUgcGF1c2UiKQogICAgICBwbGF5ZXIucGF1c2UoKTsKICAgICAgdmFyIG5ld1RpbWUgPSBjYWxjdWxhdGVEaXN0YW5jZShlLCBwbGF5ZXJEaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGxheWVyLXByb2dyZXNzJylbMF0pICogcGxheWVyLmR1cmF0aW9uOwoKICAgICAgLy8gRG9uJ3QgbGV0IHZpZGVvIGVuZCB3aGlsZSBzY3J1YmJpbmcuCiAgICAgIGlmIChuZXdUaW1lID09PSBwbGF5ZXIuZHVyYXRpb24pIHsgbmV3VGltZSA9IG5ld1RpbWUgLSAwLjE7IH0KCiAgICAgIGlmICghaXNOYU4obmV3VGltZSkpIHsKICAgICAgICAvLyBTZXQgbmV3IHRpbWUgKHRlbGwgcGxheWVyIHRvIHNlZWsgdG8gbmV3IHRpbWUpCiAgICAgICAgcGxheWVyLmN1cnJlbnRUaW1lID0gbmV3VGltZTsKICAgICAgICBzZWxmLnNjcnViVGltZSA9IG5ld1RpbWU7CiAgICAgIH0KICAgICAgc2VsZi51cGRhdGVfcGxheWVyX2NvbnRyb2xzKCk7CiAgICB9CiAgICB2YXIgaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uKGUpIHsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgaGFuZGxlTW91c2VNb3ZlKTsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIGhhbmRsZU1vdXNlVXApOwogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLCBoYW5kbGVNb3VzZU1vdmUpOwogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsIGhhbmRsZU1vdXNlVXApOwogICAgICBzZWxmLnNjcnViVGltZSA9IG51bGw7CiAgICAgIGlmICghd2FzUGF1c2VkKSB7CiAgICAgICAgbG9nKCJQbGF5aW5nIGFmdGVyIHByb2dyZXNzIGNoYW5nZSIpCiAgICAgICAgcGxheWVyLnBsYXkoKTsKICAgICAgfQogICAgfQoKICAgIHZhciBwcm9ncmVzc0JhciA9IHBsYXllckRpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwbGF5ZXItcHJvZ3Jlc3MnKVswXQogICAgdmFyIHByb2dyZXNzQmFySG92ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyLXByb2dyZXNzLWhvdmVyJykKICAgIHByb2dyZXNzQmFyLm9ubW91c2Vkb3duID0gZnVuY3Rpb24oZSkgIHsKICAgICAgd2FzUGF1c2VkID0gcGxheWVyLnBhdXNlZDsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgaGFuZGxlTW91c2VNb3ZlKTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIGhhbmRsZU1vdXNlVXApOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLCBoYW5kbGVNb3VzZU1vdmUpOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsIGhhbmRsZU1vdXNlVXApOwogICAgICBoYW5kbGVNb3VzZU1vdmUoZSk7CiAgICAgIC8vc28gd2UgZG9uJ3QgdHJpZ2dlciBtb3VzZWRvd24gb24gcGxheWVyCiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICB9CiAgICBwcm9ncmVzc0Jhci5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uKGUpIHsKICAgICAgdmFyIG5ld1RpbWUgPSBjYWxjdWxhdGVEaXN0YW5jZShlLCBwcm9ncmVzc0JhcikgKiBwbGF5ZXIuZHVyYXRpb247CiAgICAgIC8vIERvbid0IGxldCB2aWRlbyBlbmQgd2hpbGUgc2NydWJiaW5nLgogICAgICBpZiAobmV3VGltZSA9PT0gcGxheWVyLmR1cmF0aW9uKSB7IG5ld1RpbWUgPSBuZXdUaW1lIC0gMC4xOyB9CgogICAgICBpZiAoIWlzTmFOKG5ld1RpbWUpKSB7CiAgICAgICAgdmFyIHBlcmNlbnQgPSBuZXdUaW1lIC8gcGxheWVyLmR1cmF0aW9uICogMTAwOwogICAgICAgIHZhciBsZWZ0ID0gbmV3VGltZSAvIHBsYXllci5kdXJhdGlvbiAqIHByb2dyZXNzQmFyLm9mZnNldFdpZHRoOwogICAgICAgIHZhciByaWdodCA9IHByb2dyZXNzQmFyLm9mZnNldFdpZHRoIC0gbGVmdDsKCiAgICAgICAgaWYgKGxlZnQgPCAxMDApIHsKICAgICAgICAgIHByb2dyZXNzQmFySG92ZXIuc3R5bGUucmlnaHQgPSBudWxsOwogICAgICAgICAgcHJvZ3Jlc3NCYXJIb3Zlci5zdHlsZS5sZWZ0ID0gbGVmdCAtIChwZXJjZW50IC8gMikgKyAicHgiOwogICAgICAgICAgcHJvZ3Jlc3NCYXJIb3Zlci5zdHlsZS50ZXh0QWxpZ24gPSAibGVmdCIKICAgICAgICB9IGVsc2UgaWYgKHJpZ2h0IDwgMTAwKSB7CiAgICAgICAgICBwcm9ncmVzc0JhckhvdmVyLnN0eWxlLmxlZnQgPSBudWxsOwogICAgICAgICAgcHJvZ3Jlc3NCYXJIb3Zlci5zdHlsZS5yaWdodCA9IHJpZ2h0IC0gKDUwIC0gcGVyY2VudCAvIDIpICsgInB4IjsKICAgICAgICAgIHByb2dyZXNzQmFySG92ZXIuc3R5bGUudGV4dEFsaWduID0gInJpZ2h0IgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwcm9ncmVzc0JhckhvdmVyLnN0eWxlLnJpZ2h0ID0gbnVsbDsKICAgICAgICAgIHByb2dyZXNzQmFySG92ZXIuc3R5bGUubGVmdCA9IChsZWZ0IC0gNTApICsgInB4IjsKICAgICAgICAgIHByb2dyZXNzQmFySG92ZXIuc3R5bGUudGV4dEFsaWduID0gImNlbnRlciIKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKG5ld1RpbWUgLyA2MCkKICAgICAgICB2YXIgc2Vjb25kcyA9IE1hdGgucm91bmQobmV3VGltZSAtIG1pbnV0ZXMgKiA2MCkKICAgICAgICBpZiAoc2Vjb25kcyA8IDEwKSB7CiAgICAgICAgICBzZWNvbmRzID0gIjAiICsgc2Vjb25kcy50b1N0cmluZygpCiAgICAgICAgfQogICAgICAgIHByb2dyZXNzQmFySG92ZXIuaW5uZXJIVE1MID0gbWludXRlcyArICI6IiArIHNlY29uZHMudG9TdHJpbmcoKQogICAgICAgIHByb2dyZXNzQmFySG92ZXIuc3R5bGUub3BhY2l0eSA9ICIxIgogICAgICB9IGVsc2UgewogICAgICAgIHByb2dyZXNzQmFySG92ZXIuc3R5bGUub3BhY2l0eSA9ICIwIgogICAgICB9CiAgICB9CiAgICBwcm9ncmVzc0Jhci5vbm1vdXNlbGVhdmUgPSBmdW5jdGlvbihlKSB7CiAgICAgIHByb2dyZXNzQmFySG92ZXIuc3R5bGUub3BhY2l0eSA9ICIwIgogICAgfQoKICAgIHZhciB2b2x1bWVCYXIgPSBwbGF5ZXJEaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGxheWVyLXZvbHVtZScpWzBdOwogICAgaWYgKHZvbHVtZUJhcikgewogICAgICB2YXIgaGFuZGxlVm9sdW1lTW91c2VNb3ZlID0gZnVuY3Rpb24oZSkgewogICAgICAgIHZhciBkaXN0YW5jZSA9IGNhbGN1bGF0ZURpc3RhbmNlKGUsIHZvbHVtZUJhciwgdHJ1ZSk7CiAgICAgICAgaWYgKGRpc3RhbmNlIDwgLjI1KSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHZhciB2b2x1bWUgPSBjYWxjdWxhdGVEaXN0YW5jZShlLCBwbGF5ZXJEaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGxheWVyLXZvbHVtZS10cmFjaycpWzBdLCB0cnVlKTsKICAgICAgICBwbGF5ZXIudm9sdW1lID0gdm9sdW1lOwogICAgICAgIGlmICh2b2x1bWUgPT0gMCkgewogICAgICAgICAgcGxheWVyLm11dGVkID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGxheWVyLm11dGVkID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHNlbGYudXBkYXRlX3BsYXllcl9jb250cm9scygpOwogICAgICB9CiAgICAgIHZhciBoYW5kbGVWb2x1bWVNb3VzZVVwID0gZnVuY3Rpb24oZSkgewogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIGhhbmRsZVZvbHVtZU1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIGhhbmRsZVZvbHVtZU1vdXNlVXApOwogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsIGhhbmRsZVZvbHVtZU1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLCBoYW5kbGVWb2x1bWVNb3VzZVVwKTsKICAgICAgfQogICAgICBwbGF5ZXJEaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGxheWVyLXZvbHVtZScpWzBdLm9ubW91c2VsZWF2ZSA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICBoYW5kbGVWb2x1bWVNb3VzZVVwKGUpOwogICAgICB9CiAgICAgIHBsYXllckRpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwbGF5ZXItdm9sdW1lJylbMF0ub25tb3VzZWRvd24gPSBmdW5jdGlvbihlKSAgewogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIGhhbmRsZVZvbHVtZU1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIGhhbmRsZVZvbHVtZU1vdXNlVXApOwogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsIGhhbmRsZVZvbHVtZU1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLCBoYW5kbGVWb2x1bWVNb3VzZVVwKTsKICAgICAgICBoYW5kbGVWb2x1bWVNb3VzZU1vdmUoZSk7CiAgICAgICAgLy9zbyB3ZSBkb24ndCB0cmlnZ2VyIG1vdXNlZG93biBvbiBwbGF5ZXIKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB9CiAgICB9CiAgICAKICAgIHNlbGYudXBkYXRlX3BsYXllcl9jb250cm9scygpOwogIH0KfQoKVmlkZW9QbGF5ZXIucHJvdG90eXBlLmNvcHlFbWJlZENvZGVUb0NsaXBib2FyZCA9IGZ1bmN0aW9uKHNvdXJjZSkgewogIHZhciBzZWxmID0gdGhpczsKICB2YXIgaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5yZXBsYWNlKC9bXmEtel0rL2csICcnKS5zdWJzdHIoMCwgNik7CiAgdmFyIHBhZGRpbmcgPSAoc2VsZi52aWRlby5oZWlnaHQgLyBzZWxmLnZpZGVvLndpZHRoICogMTAwKS50b0ZpeGVkKDMpOwogIGlmIChzZWxmLnZpZGVvLnNob3J0Y29kZSkgewogICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgeGhyLm9wZW4oIlBPU1QiLCAnaHR0cHM6Ly9hamF4LnN0cmVhbWFibGUuY29tL3ZpZGVvcy8nICsgc2VsZi52aWRlby5zaG9ydGNvZGUgKyAnL2VtYmVkcy8nICsgaWQsIHRydWUpOwogICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtdHlwZSIsICJhcHBsaWNhdGlvbi9qc29uIik7CiAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeSh7c291cmNlOiBzb3VyY2UgfHwgInJpZ2h0Y2xpY2sifSkpOyAKICAgIHZhciBjb2RlID0gJzxkaXYnICsgJyBzdHlsZT0id2lkdGg6IDEwMCU7IGhlaWdodDogMHB4OyBwb3NpdGlvbjogcmVsYXRpdmU7IHBhZGRpbmctYm90dG9tOiAnICsgcGFkZGluZyArICclOyI+PCcgKyAnaWZyYW1lIHNyYz0iaHR0cHM6Ly9zdHJlYW1hYmxlLmNvbS9zLycgKyBzZWxmLnZpZGVvLnNob3J0Y29kZSArICcvJyArIGlkICsgJyIgZnJhbWVib3JkZXI9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGFsbG93ZnVsbHNjcmVlbiBzdHlsZT0id2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgcG9zaXRpb246IGFic29sdXRlOyI+PCcgKyAnL2lmcmFtZT48L2Rpdj4nOwogIH0gZWxzZSB7CiAgICB2YXIgY29kZSA9ICc8ZGl2JyArICcgc3R5bGU9IndpZHRoOiAxMDAlOyBoZWlnaHQ6IDBweDsgcG9zaXRpb246IHJlbGF0aXZlOyBwYWRkaW5nLWJvdHRvbTogJyArIHBhZGRpbmcgKyAnJTsiPjwnICsgJ2lmcmFtZSBzcmM9IicgKyB3aW5kb3cubG9jYXRpb24gKyAnIiBmcmFtZWJvcmRlcj0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgYWxsb3dmdWxsc2NyZWVuIHN0eWxlPSJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBwb3NpdGlvbjogYWJzb2x1dGU7Ij48JyArICcvaWZyYW1lPjwvZGl2Pic7CiAgfQogIGNvcHlUZXh0VG9DbGlwYm9hcmQoY29kZSk7ICAKfQoKVmlkZW9QbGF5ZXIucHJvdG90eXBlLm9uUHJvZ3Jlc3MgPSBmdW5jdGlvbihlKSB7CiAgdGhpcy51cGRhdGVCdWZmZXJlZCgpCn0KClZpZGVvUGxheWVyLnByb3RvdHlwZS51cGRhdGVCdWZmZXJlZCA9IGZ1bmN0aW9uKGUpIHsKICB2YXIgbG9hZGVkID0gMAogIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wbGF5ZXIuYnVmZmVyZWQubGVuZ3RoOyBpKyspIHsKICAgIGxvYWRlZCArPSAodGhpcy5wbGF5ZXIuYnVmZmVyZWQuZW5kKGkpIC0gdGhpcy5wbGF5ZXIuYnVmZmVyZWQuc3RhcnQoaSkpCiAgfQogIHZhciBwZXJjZW50ID0gMAogIGlmICh0aGlzLnBsYXllci5kdXJhdGlvbikgewogICAgcGVyY2VudCA9IGxvYWRlZCAvIHRoaXMucGxheWVyLmR1cmF0aW9uICogMTAwIAogIH0KfQoKVmlkZW9QbGF5ZXIucHJvdG90eXBlLm9uVGltZVVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogIHZhciBzZWxmID0gdGhpcwogIHZhciBwbGF5ZXIgPSB0aGlzLnBsYXllcgogIHZhciByZXBvcnRQcm9ncmVzcyA9IGZ1bmN0aW9uKHNlZWtpbmcpIHsKICAgIGlmIChzZWVraW5nKSB7CiAgICAgIHNlZWtpbmcgPSAxOwogICAgfSBlbHNlIHsKICAgICAgc2Vla2luZyA9IDA7CiAgICB9CiAgICBzZWxmLnJlY29yZFN0YXQoInByb2dyZXNzIiwgewogICAgICAic2Vla2luZyI6IHNlZWtpbmcsCiAgICAgICJwcm9ncmVzcyI6IChwbGF5ZXIuY3VycmVudFRpbWUgLyBwbGF5ZXIuZHVyYXRpb24pLnRvRml4ZWQoMiksCiAgICAgICJsb29wcyI6IHNlbGYubG9vcHMKICAgIH0pCiAgICBzZWxmLmxhc3RQcm9ncmVzc1JlcG9ydCA9IHBsYXllci5jdXJyZW50VGltZTsKICB9CgogIGlmIChwbGF5ZXIuY3VycmVudFRpbWUgLSBzZWxmLmxhc3RQcm9ncmVzc1JlcG9ydCA+PSAzMCkgewogICAgcmVwb3J0UHJvZ3Jlc3MocGxheWVyLnNlZWtpbmcpOwogIH0KCiAgLy9pZ25vcmUgaWYgc2Vla2luZywgdW5sZXNzIGl0cyBhIGxvb3AKICBpZiAocGxheWVyLnNlZWtpbmcgJiYgcGxheWVyLmN1cnJlbnRUaW1lICE9IDApIHsKICAgIHNlbGYubGFzdFRpbWUgPSBwbGF5ZXIuY3VycmVudFRpbWU7CiAgICByZXR1cm47CiAgfQogIGlmIChzZWxmLnNwaW5uZXIpIHsKICAgIHNlbGYuc3Bpbm5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0KICAvL3Jlc2V0IG9uIHJldHVybmluZyB0byBiZWdpbm5pbmcKICBpZiAoc2VsZi5sYXN0VGltZSA+IHBsYXllci5jdXJyZW50VGltZSAmJiBwbGF5ZXIuY3VycmVudFRpbWUgPT0gMCkgewogICAgc2VsZi5sb29wcyArPSAxOwogICAgc2VsZi5sYXN0VGltZSA9IG51bGw7CiAgfQoKICAvL2lmIHdlIHJldHVybmVkIHRvIGJlZ2lubmluZywgb3IgaXQncyBiZWVuIDUgc2Vjb25kcwogIGlmIChzZWxmLmxvb3BzID4gc2VsZi5sYXN0UmVwb3J0ZWRMb29wKSB7CiAgICBpZiAoc2VsZi5sb29wcyA8PSAxMCkgewogICAgICBzZWxmLnJlY29yZFN0YXQoInBsYXkiLCB7CiAgICAgICAgbG9vcHM6IHNlbGYubG9vcHMsCiAgICAgICAgcHJvZ3Jlc3M6IHBsYXllci5kdXJhdGlvbiA/IChwbGF5ZXIuY3VycmVudFRpbWUgLyBwbGF5ZXIuZHVyYXRpb24pLnRvRml4ZWQoMikgOiAwCiAgICAgIH0pCiAgICAgIHNlbGYubGFzdFJlcG9ydGVkTG9vcCA9IHNlbGYubG9vcHM7CiAgICB9CiAgICBzZWxmLmxhc3RQcm9ncmVzc1JlcG9ydCA9IHBsYXllci5jdXJyZW50VGltZTsKICB9CiAgc2VsZi51cGRhdGVfcGxheWVyX2NvbnRyb2xzKCk7CiAgc2VsZi5sYXN0VGltZSA9IHBsYXllci5jdXJyZW50VGltZTsKfQoKVmlkZW9QbGF5ZXIucHJvdG90eXBlLnVwZGF0ZV9wbGF5ZXJfY29udHJvbHNfbG9vcCA9IGZ1bmN0aW9uKCkgewogIHZhciBwbGF5ZXIgPSB0aGlzLnBsYXllcgogIHZhciBzZWxmID0gdGhpcwogIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICBzZWxmLnVwZGF0ZV9wbGF5ZXJfY29udHJvbHMoKTsKICAgIHNlbGYudXBkYXRlX3BsYXllcl9jb250cm9sc19sb29wKCk7CiAgfSwgMjAwMCk7Cn07CgpWaWRlb1BsYXllci5wcm90b3R5cGUudXBkYXRlX3BsYXllcl9jb250cm9scyA9IGZ1bmN0aW9uKCkgewogIHZhciBwbGF5ZXIgPSB0aGlzLnBsYXllcgogIHZhciBwbGF5ZXJEaXYgPSB0aGlzLnBsYXllckRpdgogIHZhciBtdXRlQnV0dG9uID0gcGxheWVyRGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BsYXllci1tdXRlLWJ1dHRvbicpWzBdOwogIGlmIChtdXRlQnV0dG9uKSB7CiAgICByZW1vdmVDbGFzcyhtdXRlQnV0dG9uLCAibXV0ZWQiKTsKICAgIHJlbW92ZUNsYXNzKG11dGVCdXR0b24sICJsb3ciKTsKICAgIGlmIChwbGF5ZXIubXV0ZWQpIHsKICAgICAgYWRkQ2xhc3MobXV0ZUJ1dHRvbiwgIm11dGVkIik7CiAgICB9IGVsc2UgaWYgKHBsYXllci52b2x1bWUgPCAuNSkgewogICAgICBhZGRDbGFzcyhtdXRlQnV0dG9uLCAibG93Iik7CiAgICB9CiAgfQogIHZhciB2b2x1bWVCYXIgPSBwbGF5ZXJEaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGxheWVyLXZvbHVtZS12YWx1ZScpWzBdOwogIGlmICh2b2x1bWVCYXIpIHsKICAgIHZhciB2b2x1bWUgPSAocGxheWVyLnZvbHVtZSAqIDgwKS50b0ZpeGVkKCk7CiAgICBpZiAocGxheWVyLm11dGVkKSB7CiAgICAgIHZvbHVtZSA9IDA7CiAgICB9CiAgICB2b2x1bWVCYXIuc3R5bGUuaGVpZ2h0ID0gdm9sdW1lICsgInB4IjsKICB9Cn0KClZpZGVvUGxheWVyLnByb3RvdHlwZS51cGRhdGVfcGxheWVyX3Byb2dyZXNzID0gZnVuY3Rpb24oKSB7CiAgdmFyIHNlbGYgPSB0aGlzCiAgdmFyIHBsYXllciA9IHRoaXMucGxheWVyCiAgdmFyIHBsYXllckRpdiA9IHRoaXMucGxheWVyRGl2CiAgdmFyIGN1cnJlbnRUaW1lID0gcGxheWVyLmN1cnJlbnRUaW1lOwogIGlmIChzZWxmLnNjcnViVGltZSAhPSBudWxsKSB7CiAgICBjdXJyZW50VGltZSA9IHNlbGYuc2NydWJUaW1lOwogIH0KICB2YXIgcHJvZ3Jlc3NCYXIgPSBwbGF5ZXJEaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGxheWVyLXByb2dyZXNzLXZhbHVlJylbMF07CiAgaWYgKHBsYXllci5kdXJhdGlvbiAmJiBwcm9ncmVzc0JhcikgewogICAgdmFyIHdpZHRoID0gKGN1cnJlbnRUaW1lIC8gcGxheWVyLmR1cmF0aW9uICogMTAwKS50b0ZpeGVkKDIpOwogICAgaWYgKHdpZHRoID4gMTAwKSB7CiAgICAgIHdpZHRoID0gMTAwOwogICAgfQogICAgcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSB3aWR0aCArICIlIjsKICB9CiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzZWxmLnVwZGF0ZV9wbGF5ZXJfcHJvZ3Jlc3MpOwp9CgpWaWRlb1BsYXllci5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbigpIHsKICBsb2coJ1BhdXNpbmcnKTsKICB0aGlzLnBhdXNlZF8gPSB0cnVlCiAgdGhpcy5wbGF5ZXIucGF1c2UoKTsKfQoKVmlkZW9QbGF5ZXIucHJvdG90eXBlLnNldFZvbHVtZSA9IGZ1bmN0aW9uKHZvbHVtZSwgc2F2ZSkgewogIGxvZygnU2V0IHZvbHVtZSAnICsgdm9sdW1lLnRvU3RyaW5nKCkgKyAiIHNhdmU6ICIgKyBzYXZlLnRvU3RyaW5nKCkpOwogIHRoaXMucGxheWVyLnZvbHVtZSA9IHZvbHVtZQoKICB0aGlzLnNhdmVWb2x1bWUgPSBzYXZlCiAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgIHNlbGYuc2F2ZVZvbHVtZSA9IHRydWUKICB9LCAxMDApCn0KCi8vIHJldHVybnMgd2hldGhlciBwbGF5ZXIgc2hvdWxkIHBhdXNlIGZvciBhZApWaWRlb1BsYXllci5wcm90b3R5cGUuYWRPcHBvcnR1bml0eSA9IGZ1bmN0aW9uKCkgewogIGlmICh3aW5kb3cuU1RNX1BMQVlFUlMpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd2luZG93LlNUTV9QTEFZRVJTLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmICh0eXBlb2Ygd2luZG93LlNUTV9QTEFZRVJTW2ldLmFkT3Bwb3J0dW5pdHkgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICByZXR1cm4gd2luZG93LlNUTV9QTEFZRVJTW2ldLmFkT3Bwb3J0dW5pdHkoKQogICAgICB9CiAgICB9CiAgfQogIHJldHVybiBmYWxzZQp9CgpWaWRlb1BsYXllci5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKG5vYWRzKSB7CiAgdmFyIHNlbGYgPSB0aGlzCgogIHZhciBwbGF5T3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5LW92ZXJsYXknKQogIAogIHZhciBwbGF5ID0gdHJ1ZTsKICBpZiAoIW5vYWRzICYmICF0aGlzLnN0YXJ0ZWQpIHsKICAgIHBsYXkgPSAhdGhpcy5hZE9wcG9ydHVuaXR5KCkKICB9CgogIHRoaXMucGF1c2VkXyA9IGZhbHNlCiAgdGhpcy5zdGFydGVkID0gdHJ1ZQoKICBpZiAocGxheSkgewogICAgdmFyIHByb21pc2UgPSB0aGlzLnBsYXllci5wbGF5KCkKICAgIGlmIChwcm9taXNlICE9PSB1bmRlZmluZWQpIHsKICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgIC8vIEF1dG9wbGF5IHN0YXJ0ZWQhCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikgewogICAgICAgIHBsYXlPdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siCiAgICAgICAgc2VsZi5wYXVzZWRfID0gdHJ1ZQogICAgICAgIHNlbGYuc3RhcnRlZCA9IGZhbHNlCiAgICAgICAgY29uc29sZS5sb2coIlBsYXkgYmxvY2tlZCIpCiAgICAgIH0pOwogICAgfQogIH0gZWxzZSB7CiAgICBsb2coIkdvdCBhZCwgbm90IHBsYXlpbmciKQogICAgcGxheU92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICJibG9jayIKICB9Cn0KClZpZGVvUGxheWVyLnByb3RvdHlwZS5wYXVzZWQgPSBmdW5jdGlvbigpIHsKICByZXR1cm4gISF0aGlzLnBhdXNlZF8gCn0KClZpZGVvUGxheWVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICBpZiAodGhpcy5idWZmZXJDaGVja0ludGVydmFsKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMuYnVmZmVyQ2hlY2tJbnRlcnZhbCk7CiAgfQogIGlmICh0aGlzLnByb2dyZXNzVXBkYXRlSW50ZXJ2YWwpIHsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy5wcm9ncmVzc1VwZGF0ZUludGVydmFsKTsKICB9CgogIHRoaXMucGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRpbWV1cGRhdGUiLCB0aGlzLm9uVGltZVVwZGF0ZSkKICB0aGlzLnBsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsIHRoaXMub25Qcm9ncmVzcykKICB0aGlzLnBsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCJjYW5wbGF5dGhyb3VnaCIsIHRoaXMub25Qcm9ncmVzcykKCiAgLy9yZXBsYWNlIHBsYXllciB0byBraWxsIGFsbCBldmVudCBsaXN0ZW5lcnMKICB2YXIgY2xvbmUgPSB0aGlzLnBsYXllci5jbG9uZU5vZGUoKTsKICB3aGlsZSAodGhpcy5wbGF5ZXIuZmlyc3RDaGlsZCkgewogICAgY2xvbmUuYXBwZW5kQ2hpbGQodGhpcy5wbGF5ZXIubGFzdENoaWxkKTsKICB9CiAgdGhpcy5wbGF5ZXIucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoY2xvbmUsIHRoaXMucGxheWVyKTsKCiAgdGhpcy5wbGF5ZXIucGF1c2UoKTsKICB3aGlsZSAodGhpcy5wbGF5ZXIuZmlyc3RDaGlsZCkgewogICAgdGhpcy5wbGF5ZXIucmVtb3ZlQ2hpbGQodGhpcy5wbGF5ZXIuZmlyc3RDaGlsZCk7CiAgfQogIHRoaXMucGxheWVyLmxvYWQoKTsgLy9mb3JjZXMgdW5sb2FkaW5nIG9mIHZpZGVvCiAgaWYgKGNhbGxiYWNrKSB7Y2FsbGJhY2soKTt9CgogIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoc2NyZWVuZnVsbC5yYXcuZnVsbHNjcmVlbmNoYW5nZSwgdGhpcy5vbkZ1bGxTY3JlZW5DaGFuZ2UpCiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCB0aGlzLm9uTWVzc2FnZSk7Cn0KPC9zY3JpcHQ+CgoKCiAgICAKPHNjcmlwdCBpZD0iZ29vZ2xlYW5hbHl0aWNzIj4KICAoZnVuY3Rpb24oaSxzLG8sZyxyLGEsbSl7aVsnR29vZ2xlQW5hbHl0aWNzT2JqZWN0J109cjtpW3JdPWlbcl18fGZ1bmN0aW9uKCl7CiAgICAoaVtyXS5xPWlbcl0ucXx8W10pLnB1c2goYXJndW1lbnRzKX0saVtyXS5sPTEqbmV3IERhdGUoKTthPXMuY3JlYXRlRWxlbWVudChvKSwKICAgIG09cy5nZXRFbGVtZW50c0J5VGFnTmFtZShvKVswXTthLmFzeW5jPTE7YS5zcmM9ZzttLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsbSkKICB9KSh3aW5kb3csZG9jdW1lbnQsJ3NjcmlwdCcsJy8vd3d3Lmdvb2dsZS1hbmFseXRpY3MuY29tL2FuYWx5dGljcy5qcycsJ2dhJyk7CiAgZ2EoJ2NyZWF0ZScsICdVQS01NjQ3NDExMC0xJywgeydzYW1wbGVSYXRlJzogMX0pOwogIGdhKCdzZW5kJywgJ3BhZ2V2aWV3Jyk7Cjwvc2NyaXB0PgoKICAgIAo8IS0tIFF1YW50Y2FzdCBUYWcgLS0+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KdmFyIF9xZXZlbnRzID0gX3FldmVudHMgfHwgW107CgooZnVuY3Rpb24oKSB7CnZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CmVsZW0uc3JjID0gKGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID09ICJodHRwczoiID8gImh0dHBzOi8vc2VjdXJlIiA6ICJodHRwOi8vZWRnZSIpICsgIi5xdWFudHNlcnZlLmNvbS9xdWFudC5qcyI7CmVsZW0uYXN5bmMgPSB0cnVlOwplbGVtLnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0IjsKdmFyIHNjcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07CnNjcHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbSwgc2NwdCk7Cn0pKCk7CgpfcWV2ZW50cy5wdXNoKHsKcWFjY3Q6InAtd3ZtZXdZLUtOa2RYWiIKfSk7Cjwvc2NyaXB0PgoKPG5vc2NyaXB0Pgo8ZGl2IHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KPGltZyBzcmM9Ii8vcGl4ZWwucXVhbnRzZXJ2ZS5jb20vcGl4ZWwvcC13dm1ld1ktS05rZFhaLmdpZiIgYm9yZGVyPSIwIiBoZWlnaHQ9IjEiIHdpZHRoPSIxIiBhbHQ9IlF1YW50Y2FzdCIvPgo8L2Rpdj4KPC9ub3NjcmlwdD4KPCEtLSBFbmQgUXVhbnRjYXN0IHRhZyAtLT4KCiAgPC9oZWFkPgogIDxib2R5PgogICAgPHNjcmlwdD4KICAgIHZhciBkYXJrTW9kZSA9IGdldENvb2tpZSgnZGFya19tb2RlJykgOwogICAgaWYgKGRhcmtNb2RlID09ICd0cnVlJykgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJibGFjayI7CiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lID0gImRhcmsiOwogICAgfQogICAgPC9zY3JpcHQ+CiAgICA8ZGl2IGNsYXNzPSJkcm9wem9uZW92ZXJsYXkiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiIGlkPSJwbGF5ZXIiPgoKCgoKCgoKPCEtLSBOb2FkcyAtLT4KCgoKCgoKCjxkaXYgc3R5bGU9ImhlaWdodDoxNXB4OyI+PC9kaXY+CgoKPCEtLSBNZWRpYSBjb250ZW50IC0tPgo8ZGl2IGNsYXNzPSJjb250ZW50IiBpZD0icGxheWVyLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6IDEyODBweDsgd2lkdGg6IDEwMCU7IHZpc2liaWxpdHk6IGhpZGRlbjsiPgogIAogIDxkaXYgY2xhc3M9Im1lZGlhLWNvbnRhaW5lciIgaWQ9Im1lZGlhLWNvbnRhaW5lciI+CiAgICA8ZGl2IGlkPSJmaWxsZXIiPjwvZGl2PgogICAgPGRpdiBjbGFzcz0icGxheWVyIGNvbnRyb2xzICAgcGxheWluZyAiPgogIDx2aWRlbyAKICAgIGlkPSJ2aWRlby1wbGF5ZXItdGFnIgogICAgY2xhc3M9InZpZGVvLXBsYXllci10YWciCiAgICAKICAgICBsb29wIAogICAgCiAgICAKICAgICAgYXV0b3BsYXkKICAgICAKICAgICBwb3N0ZXI9Ii8vY2RuLWItd2VzdC5zdHJlYW1hYmxlLmNvbS9pbWFnZS9lZmdtX2ZpcnN0LmpwZz90b2tlbj1ERFlaYVJscGZSZ3lKamQ5ejdhRTBnJmFtcDtleHBpcmVzPTE1MzczNzY2NjMiIAogICAgCiAgICBzcmM9Ii8vY2RuLWItd2VzdC5zdHJlYW1hYmxlLmNvbS92aWRlby9tcDQvZWZnbS5tcDQ/dG9rZW49U1ViM3FpQWF0QXFMODdBc2lJazEyUSZhbXA7ZXhwaXJlcz0xNTM3Mzc2NjYzIgogICAgCiAgPgogIDwvdmlkZW8+CiAgCgogIDxkaXYgaWQ9InNwaW5uZXIiIGNsYXNzPSJwbGF5ZXItc3Bpbm5lciI+PC9kaXY+CiAgPGRpdiBjbGFzcz0ncGxheWVyLWNvbnRyb2xzJyBpZD0icGxheWVyLWNvbnRyb2xzLWZvb3RlciI+CiAgICA8ZGl2IGNsYXNzPSdwbGF5ZXItY29udHJvbHMtbGVmdCc+CiAgICAgIDxkaXYgaWQ9J3BsYXllci12b2x1bWUnIGNsYXNzPSdwbGF5ZXItdm9sdW1lJz4KICAgICAgICA8ZGl2IGlkPSdwbGF5ZXItdm9sdW1lLXRyYWNrJyBjbGFzcz0ncGxheWVyLXZvbHVtZS10cmFjayc+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBpZD0ncGxheWVyLXZvbHVtZS12YWx1ZScgY2xhc3M9J3BsYXllci12b2x1bWUtdmFsdWUnPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgcm9sZT0nYnV0dG9uJyBpZD0ncGxheWVyLW11dGUtYnV0dG9uJyBjbGFzcz0ncGxheWVyLW11dGUtYnV0dG9uJz4KICAgICAgICAgIDxzdmcgY2xhc3M9InZvbHVtZS1tdXRlIiB3aWR0aD0iMzIiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAxNzkyIDE3OTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyODAgMzUydjEwODhxMCAyNi0xOSA0NXQtNDUgMTktNDUtMTlsLTMzMy0zMzNoLTI2MnEtMjYgMC00NS0xOXQtMTktNDV2LTM4NHEwLTI2IDE5LTQ1dDQ1LTE5aDI2MmwzMzMtMzMzcTE5LTE5IDQ1LTE5dDQ1IDE5IDE5IDQ1eiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPgogICAgICAgICAgPHN2ZyBjbGFzcz0idm9sdW1lLWRvd24iIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMCIgdmlld0JveD0iMCAwIDE3OTIgMTc5MiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTA4OCAzNTJ2MTA4OHEwIDI2LTE5IDQ1dC00NSAxOS00NS0xOWwtMzMzLTMzM2gtMjYycS0yNiAwLTQ1LTE5dC0xOS00NXYtMzg0cTAtMjYgMTktNDV0NDUtMTloMjYybDMzMy0zMzNxMTktMTkgNDUtMTl0NDUgMTkgMTkgNDV6bTM4NCA1NDRxMCA3Ni00Mi41IDE0MS41dC0xMTIuNSA5My41cS0xMCA1LTI1IDUtMjYgMC00NS0xOC41dC0xOS00NS41cTAtMjEgMTItMzUuNXQyOS0yNSAzNC0yMyAyOS0zNS41IDEyLTU3LTEyLTU3LTI5LTM1LjUtMzQtMjMtMjktMjUtMTItMzUuNXEwLTI3IDE5LTQ1LjV0NDUtMTguNXExNSAwIDI1IDUgNzAgMjcgMTEyLjUgOTN0NDIuNSAxNDJ6IiBmaWxsPSIjZmZmIi8+PC9zdmc+CiAgICAgICAgICA8c3ZnIGNsYXNzPSJ2b2x1bWUtdXAiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMCIgdmlld0JveD0iMCAwIDE3OTIgMTc5MiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNODMyIDM1MnYxMDg4cTAgMjYtMTkgNDV0LTQ1IDE5LTQ1LTE5bC0zMzMtMzMzaC0yNjJxLTI2IDAtNDUtMTl0LTE5LTQ1di0zODRxMC0yNiAxOS00NXQ0NS0xOWgyNjJsMzMzLTMzM3ExOS0xOSA0NS0xOXQ0NSAxOSAxOSA0NXptMzg0IDU0NHEwIDc2LTQyLjUgMTQxLjV0LTExMi41IDkzLjVxLTEwIDUtMjUgNS0yNiAwLTQ1LTE4LjV0LTE5LTQ1LjVxMC0yMSAxMi0zNS41dDI5LTI1IDM0LTIzIDI5LTM1LjUgMTItNTctMTItNTctMjktMzUuNS0zNC0yMy0yOS0yNS0xMi0zNS41cTAtMjcgMTktNDUuNXQ0NS0xOC41cTE1IDAgMjUgNSA3MCAyNyAxMTIuNSA5M3Q0Mi41IDE0MnptMjU2IDBxMCAxNTMtODUgMjgyLjV0LTIyNSAxODguNXEtMTMgNS0yNSA1LTI3IDAtNDYtMTl0LTE5LTQ1cTAtMzkgMzktNTkgNTYtMjkgNzYtNDQgNzQtNTQgMTE1LjUtMTM1LjV0NDEuNS0xNzMuNS00MS41LTE3My41LTExNS41LTEzNS41cS0yMC0xNS03Ni00NC0zOS0yMC0zOS01OSAwLTI2IDE5LTQ1dDQ1LTE5cTEzIDAgMjYgNSAxNDAgNTkgMjI1IDE4OC41dDg1IDI4Mi41eiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0icGxheWVyLXByb2dyZXNzIiBjbGFzcz0icGxheWVyLXByb2dyZXNzIj4KICAgICAgPGRpdiBpZD0icGxheWVyLXByb2dyZXNzLWhvdmVyIiBjbGFzcz0icGxheWVyLXByb2dyZXNzLWhvdmVyIj48L2Rpdj4KICAgICAgPGRpdiBpZD0icGxheWVyLXByb2dyZXNzLXRyYWNrIiBjbGFzcz0icGxheWVyLXByb2dyZXNzLXRyYWNrIj48L2Rpdj4KICAgICAgPGRpdiBpZD0icGxheWVyLXByb2dyZXNzLXZhbHVlIiBjbGFzcz0icGxheWVyLXByb2dyZXNzLXZhbHVlIj48L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0ncGxheWVyLWNvbnRyb2xzLXJpZ2h0Jz4KICAgICAgCiAgICAgIDxkaXYgcm9sZT0nYnV0dG9uJyBpZD0ncGxheWVyLWZ1bGxzY3JlZW4tYnV0dG9uJyBjbGFzcz0ncGxheWVyLWZ1bGxzY3JlZW4tYnV0dG9uJz4KICAgICAgICA8c3ZnIGNsYXNzPSJjb21wYWN0IiB3aWR0aD0iMjMiIGhlaWdodD0iMjMiIHZpZXdCb3g9IjAgMCAxNzkyIDE3OTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg5NiA5NjB2NDQ4cTAgMjYtMTkgNDV0LTQ1IDE5LTQ1LTE5bC0xNDQtMTQ0LTMzMiAzMzJxLTEwIDEwLTIzIDEwdC0yMy0xMGwtMTE0LTExNHEtMTAtMTAtMTAtMjN0MTAtMjNsMzMyLTMzMi0xNDQtMTQ0cS0xOS0xOS0xOS00NXQxOS00NSA0NS0xOWg0NDhxMjYgMCA0NSAxOXQxOSA0NXptNzU1LTY3MnEwIDEzLTEwIDIzbC0zMzIgMzMyIDE0NCAxNDRxMTkgMTkgMTkgNDV0LTE5IDQ1LTQ1IDE5aC00NDhxLTI2IDAtNDUtMTl0LTE5LTQ1di00NDhxMC0yNiAxOS00NXQ0NS0xOSA0NSAxOWwxNDQgMTQ0IDMzMi0zMzJxMTAtMTAgMjMtMTB0MjMgMTBsMTE0IDExNHExMCAxMCAxMCAyM3oiIGZpbGw9IiNmZmYiLz48L3N2Zz4KICAgICAgICA8c3ZnIGNsYXNzPSJleHBhbmQiIHdpZHRoPSIyMyIgaGVpZ2h0PSIyMyIgdmlld0JveD0iMCAwIDE3OTIgMTc5MiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNODgzIDEwNTZxMCAxMy0xMCAyM2wtMzMyIDMzMiAxNDQgMTQ0cTE5IDE5IDE5IDQ1dC0xOSA0NS00NSAxOWgtNDQ4cS0yNiAwLTQ1LTE5dC0xOS00NXYtNDQ4cTAtMjYgMTktNDV0NDUtMTkgNDUgMTlsMTQ0IDE0NCAzMzItMzMycTEwLTEwIDIzLTEwdDIzIDEwbDExNCAxMTRxMTAgMTAgMTAgMjN6bTc4MS04NjR2NDQ4cTAgMjYtMTkgNDV0LTQ1IDE5LTQ1LTE5bC0xNDQtMTQ0LTMzMiAzMzJxLTEwIDEwLTIzIDEwdC0yMy0xMGwtMTE0LTExNHEtMTAtMTAtMTAtMjN0MTAtMjNsMzMyLTMzMi0xNDQtMTQ0cS0xOS0xOS0xOS00NXQxOS00NSA0NS0xOWg0NDhxMjYgMCA0NSAxOXQxOSA0NXoiIGZpbGw9IiNmZmYiLz48L3N2Zz4KICAgICAgPC9kaXY+CiAgICAgICAgCiAgICA8L2Rpdj4KICA8L2Rpdj4KICAKICA8ZGl2IGlkPSJwbGF5LW92ZXJsYXkiPgogICAgCiAgICA8aW1nIGlkPSJwbGF5LWJhY2tncm91bmQiIHNyYz0iLy9jZG4tYi13ZXN0LnN0cmVhbWFibGUuY29tL2ltYWdlL2VmZ21fZmlyc3QuanBnP3Rva2VuPUREWVphUmxwZlJneUpqZDl6N2FFMGcmYW1wO2V4cGlyZXM9MTUzNzM3NjY2MyI+PC9pbWc+CiAgICAKICAgIDxkaXYgaWQ9InBsYXktYnV0dG9uIj48L2Rpdj4KICAgIAogIDwvZGl2Pgo8L2Rpdj4KPGRpdiBpZD0iY29udGV4dC1tZW51Ij4KICAKICA8ZGl2IGNsYXNzPSJjb250ZXh0LW1lbnUtaXRlbSBjb250ZXh0LW1lbnUtc2VsZWN0aW9uLWl0ZW0iIGlkPSJzcGVlZCI+CiAgICBTcGVlZAogICAgPHNwYW4gY2xhc3M9InNwZWVkLWJ1dHRvbiBjb250ZXh0LW1lbnUtc2VsZWN0aW9uLWl0ZW0tYnV0dG9uIiBkYXRhLXNwZWVkPSIyIj4yPC9zcGFuPgogICAgPHNwYW4gY2xhc3M9InNwZWVkLWJ1dHRvbiBjb250ZXh0LW1lbnUtc2VsZWN0aW9uLWl0ZW0tYnV0dG9uIiBkYXRhLXNwZWVkPSIxLjUiPjEuNTwvc3Bhbj4KICAgIDxzcGFuIGNsYXNzPSJzcGVlZC1idXR0b24gY29udGV4dC1tZW51LXNlbGVjdGlvbi1pdGVtLWJ1dHRvbiBhY3RpdmUiZGF0YS1zcGVlZD0iMSI+MTwvc3Bhbj4KICAgIDxzcGFuIGNsYXNzPSJzcGVlZC1idXR0b24gY29udGV4dC1tZW51LXNlbGVjdGlvbi1pdGVtLWJ1dHRvbiIgZGF0YS1zcGVlZD0iLjUiPsK9PC9zcGFuPgogICAgPHNwYW4gY2xhc3M9InNwZWVkLWJ1dHRvbiBjb250ZXh0LW1lbnUtc2VsZWN0aW9uLWl0ZW0tYnV0dG9uIiBkYXRhLXNwZWVkPSIuMjUiPsK8PC9zcGFuPgogIDwvZGl2PgogIDwhLS0gIC0tPgogIAogIDxhICBocmVmPSIvL2Nkbi1iLXdlc3Quc3RyZWFtYWJsZS5jb20vdmlkZW8vbXA0L2VmZ20ubXA0P3Rva2VuPVNVYjNxaUFhdEFxTDg3QXNpSWsxMlEmYW1wO2V4cGlyZXM9MTUzNzM3NjY2MyIgY2xhc3M9ImNvbnRleHQtbWVudS1pdGVtIiBpZD0iZG93bmxvYWQiIGRvd25sb2FkPkRvd25sb2FkIHZpZGVvPC9hPgogIDxhIGhyZWY9IiMiIGNsYXNzPSJjb250ZXh0LW1lbnUtaXRlbSIgaWQ9ImNvcHl1cmwiPkNvcHkgdmlkZW8gVVJMPC9hPgogIDxhIGhyZWY9IiMiIGNsYXNzPSJjb250ZXh0LW1lbnUtaXRlbSIgaWQ9ImNvcHllbWJlZCI+Q29weSBlbWJlZCBjb2RlPC9hPgogIAogIDxhIGhyZWY9Ii9yZXBvcnQvZWZnbSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJjb250ZXh0LW1lbnUtaXRlbSI+UmVwb3J0IGlzc3VlPC9hPgogIAogIDxhIGhyZWY9Imh0dHBzOi8vc3RyZWFtYWJsZS5jb20iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iY29udGV4dC1tZW51LWl0ZW0gY29udGV4dC1tZW51LWZvb3RlciI+PGltZyBzcmM9Ii8vY2RuLWItd2VzdC5zdHJlYW1hYmxlLmNvbS9mYXZpY29uLmljbyIgaGVpZ2h0PSIxNiIgd2lkdGg9IjE2Ij48Yj5Qb3dlcmVkIGJ5IFN0cmVhbWFibGU8L2I+PC9hPgogIAo8L2Rpdj4KICAgIAogIDwvZGl2PgogIDxkaXYgaWQ9ImV2ZXJ5dGhpbmctYnV0LXZpZGVvIj4KICAgIDxkaXYgY2xhc3M9ImJveCBoYXMtdGl0bGUiIGlkPSJmb290ZXItY29udGVudCI+CiAgICAgIDxkaXYgY2xhc3M9Im1ldGFkYXRhIiBpZD0idmlkZW8tZm9vdGVyIj4KICAgICAgICA8c3BhbiBpZD0idGl0bGUiPlNob3Vqby10YWNoaSB3YSBLb3V5YSB3byBNZXphc3UgZXAuMjwvc3Bhbj4KICAgICAgICA8YSBjbGFzcz0idmlzaXRzLWJ1dHRvbiBpY29uLWJ1dHRvbiBhbGlnbnJpZ2h0IiBocmVmPSIvc3RhdHMvZWZnbSI+CiAgICAgICAgICA8c3BhbiBpZD0idmlzaXRzIj40LDY3OSB2aWV3czwvc3Bhbj4KICAgICAgICA8L2E+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJhY3Rpb25zLXNlY3Rpb24iPgogICAgICAgIAogICAgICAgIDxidXR0b24gY2xhc3M9ImFjdGlvbi1idXR0b24iIG9uY2xpY2s9ImNvcHlFbWJlZENvZGVUb0NsaXBib2FyZCh0aGlzKTsiPjxzdmcgc3R5bGU9InBvc2l0aW9uOiByZWxhdGl2ZTsgbGVmdDotMnB4OyB0b3A6IDNweDsiIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjE0cHgiIHZpZXdCb3g9IjAgMCA0MCA0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTcuMSAzNy4xaDIwdi0xNC4yaC05LjJxLTAuOSAwLTEuNi0wLjd0LTAuNi0xLjV2LTkuM2gtOC42djI1Ljd6IG01LjgtMzIuMXYtMS40cTAtMC4zLTAuMy0wLjV0LTAuNS0wLjJoLTE1LjdxLTAuMyAwLTAuNSAwLjJ0LTAuMiAwLjV2MS40cTAgMC4zIDAuMiAwLjV0MC41IDAuMmgxNS43cTAuMyAwIDAuNS0wLjJ0MC4zLTAuNXogbTUuNyAxNWg2LjZsLTYuNi02Ljd2Ni43eiBtMTEuNCAyLjl2MTVxMCAwLjktMC42IDEuNXQtMS41IDAuNmgtMjEuNXEtMC45IDAtMS41LTAuNnQtMC42LTEuNXYtMy42aC0xMi4ycS0wLjkgMC0xLjUtMC42dC0wLjYtMS42di0zMHEwLTAuOCAwLjYtMS41dDEuNS0wLjZoMjQuM3EwLjkgMCAxLjUgMC42dDAuNyAxLjV2Ny40cTAuNCAwLjMgMC44IDAuNmw5LjEgOS4xcTAuNiAwLjYgMS4xIDEuN3QwLjQgMnoiIGZpbGw9IiNmZmYiLz48L3N2Zz4KICAgICAgICAgIEVtYmVkCiAgICAgICAgPC9idXR0b24+CiAgICAgICAgCiAgICAgICAgPGEgaHJlZj0iLyI+CiAgICAgICAgICA8aW1nIGNsYXNzPSJsb2dvIiBzcmM9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBU3dBQUFCR0NBWUFBQUIyWmFuOUFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFFSUZKUkVGVWVOcnNYUTJNWEZVVlBxMGd3UWdNRmlGSXdDbi9oRUtuZ2orQTJGbkJYOFR1VnFzWWhNNktDSnBnZHhFVC84anVFZ01hME4zRmtJZ0VkNnFpb2tDMy9HaFV3azRES3NoUEJ3cFJFT2hVdFB3RTJ5R0NLRC9XYy9yT1pkKyszblBmZlcvZXpNN01uaTg1MmZiTmUvZmQzKytlYzk2OTU4N2J0bTBiS0JRS1JTZGduaEtXUXFGUXdsSW9GQW9sTElWQ29ZU2xVQ2dVU2xnS2hVS2hoS1ZRS0pTd2t1R29vNDZ5WGQ0WjVSaVdSU2dIb3J3RlpVK1VOOUo3VVo1SDJZcnlKTXJqS0EraDNJdHlEOHAvdFdrVWl1N0hoZzBiRXQyL1U0YnZmaDNLUjFINlVFNWlnbkpoZDc3bnlNajFwMUZ1UTVsa2VVbWJWYUZRWkVWWWU2TjhBYVVmNVlBTTB0c0g1Vk1zbTFGV28xeUI4Zzl0TG9WQ1RjSzBwdUI4L1BNTmxDK3ptZGRNa0luNEhaU0wxRnhVS09hdVNUZy9KVm1kZ244ZVJobHBBVmtSZGtINUdzb2pLTXUxbVJXS3VZbkVoSVZrTllaL2JrWTVlQmJ5U3libjlTaFhhdE1wRkdvU3VvaHFBZjY1Q2VXNE5zbjdlcFJUUVgxYkNvV2FoQkd5MnA4SjRyZzJLdXNTbENyS29kcnNDb1dhaElhczlzTS85NkhzMzRiNTN3dUN0VnVIYUZNcUZIT2NzSkNzOXNBL2R6TXh0Q3ZJNlg4bkJNc2hGSXE1aWltVWJSR1o2dUQzcE5Ld0tpajdka0JqdlFubGR1MnpDc1VjMWJCUXU3b2MveFE2cUN4a0ZxNmVwWGYzb296eVRMTTFNdk9zUVJsQXlXdDNVeWlhUUZoSVZrdnh6M2tkV0o0eklmaHkyRXFpMmhnaXBTSktMdlI3TVVSbWROOUVoMDBDQ2tWSGFGaS83T0F5L1JTQ2ZZM05SSTVKYWsxQ3pha0V3ZGZXVVU5ZlFWaEsybDBWU2xnN2FsY1g0cDgzZDNDWnlBbi9yU2EvWTRvMXA3UVlZT0xLQ2I4WExmSlc3YTRLSmF5WlpFV0RmYVFOOHZVVUJGLys3a0Q1QzhwL0VqNS9RUk5KZHlqR3JLdEI4TEdpb3QxTG9jZ1dPMWtHK2p6UFovK09jZ3NFWCtkb2o5OFdmcGFJNGdpVTkwQVFibWJQQlBraHB6bjVlZjRJTThQS1VFU0lkNkFzZzhCUDlYcVB0R2hqOXFvbW1JTER3bTkwZlJ5bEhybE81TGFTVFRxalVkRTlmWlo3RGZMYU5SV0tlSlBRWjRBL2kzSXV5b0ViTm15Z3Y5ZEFzRmJyTVpSSG1XeCt5QU4wSWNwWElUNm0xVk5zOXRBejZ5ejNQd1BCL3NXeklkakRXUGJJNXptZXhKWUVKZUY2UDJ1bU5nS2kxZmlEWEJlVGZLMlBOVEVKYXY0cEZDN0M0Z2dNdVpqN2IwQTVESW5xU3BTWFBkSi9EZ0ovMHVFZ08vTC9qSEkwRTVVUG5tQ0NPRDNtUG9ydzhQR002MnV4WUFMNkVLalJxbm84ek1XY2RrMkZ3bTBTZmpybTNzdVJwTkthV0J0WkUxdGhJWjlqVWY2ZElrMzZHdmczY0M4WVBaM3Z5d3A1Z2JDU29DSVFWQ0ZrUXRvYytrVWh2WFdSTk9tK3BaRjdSaXhwcmVSM0ZWZ0xyUEpFSUtHWFRmSkNLSzgxbHJWTTJ2VVVkZHJMK1RYcDVrSnBWN2w4dm1tWEl0cnBKc3RrMGhzcWV6NmtCVmZZcEpmYXM4QVdTREhoY3k0VXVFNU5tdm5RNUdiU1hwMHliVnNmSzRYYU1CZnFqMnRaKzYrMWlIZU1tNlNBaWxJeFVtYVNjZVFhYTE2MlIydmdZSHovZE16czEyRUNLMncvQ0RIZG8xakE1UEtHeVBXRkdWVFN4eWgvd204VTdJOThhQzltVk5GVEZ1S29RekkvSFFoa2xIWjd3M0NFa0laZ1J6K2JxV2RxMzFIQnRLMnc5bWNqbEZHSTk2dFJQWXlCMzBlYlBBLytrcWMyV1dlenVweXdmY0p0UTRNa2JoMmM3VDJ1T2t1YXZ6QnhyQUovWCtVWXA1KzBiNW8ycFQ0eDRGSFh3eDd0NTNxUEQxR05PaWJmTUtndUI1RjM2amFUOEJoSFliWklaQlhDMjFBK3dTYllrWmJmMTFqSTZ2UVlzaUxuL2FFZWxYdzltNnFTV1hoOGhqT0RwQjFOdExrbW5lZDh1dFp6VlMzWEpzQi9yWm41SURFUms0OEoxcmdId04vME5YVmNTcUZWR00xckN1SVg3WnIzRkVNRHpHY05YUFE1Nlo0aEx2c29KUHV3TXBDeWo5SDRXcy90NGxQWHcwM3N5eVhPU3pIQi9WT29FT1ZzaFBVdXg0UG5TRDlnWXFmaG4vc2hpSmh3TGZ1cEhvUmdPY0w3K2JZelVFNk1QSHFUdzFSYnlCb1RxZk1QczJZMnlhUW80WE9PMzk2WllhWGY3NnBjYU8rdmU2TXhBM2FkaGF4S0tUdW10REIySlRTMkFEYk5Ub0VoZmk2WDRqMVRDZDgzRWFOZERFTjYvMlNKaVN2cE00VVV6d3cxZ2F6U0VHRWhhbmtZay9BSEVIeUJpK0pSMUs0T0VjanFNdnp6cFpnWFhzcVpEYStKZXBGTlJKdVpkZ0xLNzFCMkZkSmI0VEQvZml6NDRYNE93WUVXV1dGakRERk5zdDloTW1IRGpNYjRxMnFDUnJvNllvcllUTUtLWU1wV1EvNnpzSGsrSUpCT25kKzFOcVF4clJUeWEvdTRrT1A2eTFuS05obnlVMGwrUEZPL2ZRbk1GUkRLRFFsbSs2aUc3WHF1ejlIMmtrc2g3RC9LYzlselF0NzNiS0RzazZHeXUrclk1YTVKYWhJV1dMT1N6TDYxWEs0Yys5ZHNFOW93OHRCSW1MQnVoZUJvcmlndXhCdS9LV2hXUDBzNTRDVkgrUDZzVmNXdEF6dVFPMzBVSDBMNWxlWDZYVEVhWkxQOFRkVFk0NURPR2IwdHBYOUJJcXhvdmdZamd5b1h5bU1lN0t2dzZmNStvU3kyR1ZUcXhPWmVNMUJIaElGaFp0ZGNnNE1wemovbG8wVU53OHcxZG1aclZqR2h2eWtmNnJ1VG5LYmtacER5MVMvNHlseGxsOXF1NERENXkyRC9DSk9Vc05aYnltRSs4RlNqRVVlUlcyenRUdmxlU1A0c1l4THU2MkJ0cVFIVDRGNkhLWGdyK0MxYXZVeTRUbXZCWHJWYzN6dGo5YllDN3E5cDRjNUpXc3BXRC85R3EwQWRaWWxGQTZoSENDOW5lYzYxMExWc0dYaEZ4MEFZNDN6MGcrekhyRG8wcVVMS2NwY3Q1ZTZMMGNhV3dJNXI3T29wODJZbWl4NSt2dUo0YjQ5UTM0c1RscjNmMFhhdU91N05vTC9aVEZKVGR6YWZLWVZNcm5ML2lCSjRiOWlIWlZNemFmQS9ZdEd1aU53T1MxbUEweHltbzIrb1l5cnNIcGJydEtEMUNXRzJ5aHJsbUFFcytiaG0yOC9WNzVGblcwY2Q5RWg3WE5CR1FVaXY1ams1TkRwb2F6ejRhNDdmSmVMb2tRWVc1NnVTZ2t6SHdHL2JWdHIwby9WWDlpRHpzakJ1R3Axa2x3bmxyNlhvUzB2RGhHVTdxb3VXT1d5eFhFOGIwSSswalVkdDdqQUl0Z1Q1Z3JTd294Mk5ITVhPVFJyOGsyeWFKREg1aXF3aWwyYUJySVlkZ3krY1A1dDI1VFBBYkdsbnNXSy8ydUNnclhtMFR5WEJ1K09leTNLQ2JMVHN2cEFXYlM5dE1OMWVUektLYWxsMUM2bHRuK2hkSnovL1QvQ2xQSlVpNDZUOW5DLzhkbDJLOUhZVHJ1L1VZaEtvczlaQ0dvTlpWeFNuUVlXWFFaUmJtTmR4ajN1V0poak1ObUt3RWFEdlpucmovRGVMU0YwemZEZnVCQ2h5dVJkekh5b0k1V3hHMmF0TnFPZWk4SjU2Z3Y2VWo2Wm5CdmdMRmhKWXdCbmVFbUcveldnV1BnTEpUcXY1aUhEOVBFaDM2czBtZ2F6MnMxeC91UVdkcmM0RGM0UkphNldIT2ozS1pGQnIwWUR3NlNpMjJYc0FrbjlPOTBVZVpxNDhuMHN3ZnBsbGtJMi9xQm1FMVVpYkZJUnJNNVFnejRYbnI4R1loRnNGVStvZzRibExFcnlEbkxoM0NRMDJucUlpNkJ6Q2h5elhpZmhzdnJqbld0ejRaZlo5TEluUm9IS1FmVFNKTEFaUks1Q0g2UVdrb3pDM3lDcThnSFNpRGNpcVdkaWpHWWthd25wUytQMEV3Y2FrZ2VqemFaOFdrMTRrL0VicnB1YWx5UFBYaGVzbkM5ZWZtY1ZaaTh6RmhZNFpyTGZMQjZlMEJDTE9qMGVhSnpsbmh5SGVqOVJKTUd1U2hoMlRnM0dDMHoyVG9KalJsNHhKK0RqS2V5MDNyWVFkUHpHR0NlSjZ4NkNqRURObkNiK2Q0akFUWGFBdE9OSkJFK2NtOEsyMEVqWFd1R3pyYXZJc3RUYnVLQlZJSDR4d25ZV3NKaHlhNlZyTElDMTJ5WUJ6clN1cndQUmk0K2dTazFaTWFya1dqWjBhcFBmYmJnb1Qxa05TSmFPTmVTSnFWTGRidEN4eXl2Zmg3OHNoV0VtK21OT2p0SzVDdVZGSWMzZllNZFFNcWNkbjhxeHlrdkFjbVE3bk96U1ZJNFRmSG15VDJXRmNHS3p0UkZnVmdTQkdNaG9VbzBJbjd1c3lUVXJxdnpsTHZ4aUUxbjU4a2NnMGE4SmFKL1Qxa1FpUEpFclVFTmFkam50b2tCMGNvL1hja09DZHY0WWR0OTU4Rm9MOWh5ZXo5dlVCQ0ZhMFV5Qy9CMWlUYzVYc0tzZHZkN1ZKaDYxMXdLRGFKSFRtSEtRTEhSUFZybXd6K1Z3Z3E0SmpJaWkzUWY2V0NkZnZiMEovTHphZ3NiL213N29INVYvQ1BRZWhGdlhkREdlWjR5Mm00MjJoLzFQWTVTK3l5YmljdFM0WFdkRStTT2xrYXZwQytQdU1HOWVZTlVrZDFIbUh6NktkekQrYlpsVEtJTzNGd3Z1Nm5heGNHc3hZbStTdk4wRi9TRUpZTnRKcTZFUFRmRmJMWHNFL3YzSGNONGlrMWVpbmJRcVZIRTJEaVBLc0J0SWtZanM3WmdDK2tHSERGbUU2aWtIU25meXJoRWF0Q3lha2I2ZlBXZ3UwZGRLaERONmZUMmxHNXFIemtYWUJiU3ZhWERya2R6SURyYm9za0dQcUNUQWMwLzJhT08wSVNldlNsTytoL1g4WGV4YklGNlI1eFMyTHVDYkRoalViUmNQL1h3L3grd1R6WU44QTZpcC9WV2pvVmd6ZUVZRTRmRU83U0FPZ0prd0FPVWQ5dDN2SW5rWk1iWmRtWXpaWE4rcHdMNExkZHhhMkZxUlFRT01abEh0Y0lMMVJuN0pSTkZLVVhvbXdiblNZaFFZWFlBTDNvYnd2Z1JsQXpqY3BETTBsTExzbXFBUUtFUGhiaUkvWlErYmd0UmwxT05PQmNrS2pteVBxMTNDK2hyaFJpS2cyQ2dPOTd1Z1VhNFhySnBoY2tXV2dDYk53QmV5ZjAxMEVYZUM4bUhWVlF3bjhJZEV6SGd1aHV1dVc5Vm1TMld1MDlWeG9jalAxbU5YWHdYQzc5TUwwYWVSclFQNWlXNEZrMjVXa3ZsaDNUSUQwZmdyUTF4c08wb2YvenFPVVVNemUyeG1FdWoyOFRPaG1Jbyt2ZUZiRUhkeXgvd0RCaVRuUE1RSFNYc05qdVZKODQxRFJPckNyZWFCU2hid1MrWjBXaE5LYU1JcHFlb1pubXQ5SCtYekdkbjRhMzVVRVY5eWtQTmhENkVpYVpseUk1TzF0blpDZ3B4b2tqQ1dSemkzRndrcExxajBDK1JVOTc0VU02aXpKY3o3eHFuelJ6UFMzaDNKeG1JTWxjQWZqbStjZzVyU2dVTWxqVVEyTDhPMEVpYnliVFQwaUxJb0srZ1RMWTZ6WkpBbWFSeVJINXdqZXphYkQ3YXp4M2NKK0xsS3BiMHBBVm9TTE1wNGxKM2tRVmpMb0VQM2dYaFJJZGVEcmtDMUM5akRoVFJweGlLL3luRzNqOHRIWEpWcldZTXBuR21tRGNzcDJyOGRNRmhEakFvbWl2MEgzenlxYlNXaDJTVitjSWtHS25VNVJSUmRrMExEN01SbWVpdkpoQ09MTjc1WXdqU3RBWHIzZkNHcmNvUDBwTzVLWjdjdWVuZFhudm1LVEJwaUpCVFdjNHJsaFlZQ09KU0RpTXN3OHk3RWJ6RUtmOEQ2bW55emh1cW8zK0Q3ZmQxWTlKNmxhVEovSUM5ZGRjYm5pK2tHUDFTUU1tWVpib1hOM3hOTkpPYlE0OWFVV3ZNc2NWMVIwbUUvaDQ1clNrRnlKVFkrODBIa3FNRE5xWjRuekZFVlBBK1hNYzVxOUlQdmpLakI5M0pjUHlhNnkrR2xNRk5MeFNGMUY5eHRXQlVLMDdVdXNlbWczYWVzc3pYTjVtRjdCYm92cUdnMnZiWHRIajBmWkt5R04xdXhiTFZuNlVSV21JK01tOVkzWlR2NFpqSm1VektadlY0Q0ExL3BTOU5RY2liQStDTUVDejA3RUoxRitNVXZ2em9jYXNBYlpMaGJOV1FadGZaYktHVDAvc0paQldsblhWeWZBOUpjNnRHNDlXcmlQVmpMdUMybjZaRGcvZFk0NEtzSktXRXhhNUFUL1RJZDFBSXF0dFFJVUNrVkhJT25XSEpHd21MVG9HUG5ETzZUczVQQS9RTHVBUXRHOWhEVS81bmVLL3JpMUE4cE5SOTJmcU0ydlVIUTM1c2V3SDhXU29vTkluMi9qTXRDYUxkcWZ1RW1iVTZHWXc0VEZwUFZYQ0JhQ1B0dUcrU2NpZlRzMHRxdGNvVkIwQzJFeGFkR1I4YlRONW9FMnlqdkZsYWN2RkZWdFJvVkNDU3RLV3B0UmlMU3Vib044MDJHc2l5QllWYTlRS0pTd1JPS2lZSHQwSU9ybVdjZ3ZtYVVsQ0k2N2YxbWJUNkZRd3ZJaExkb3JTS2ZVME43RFYxdVVWMW85ZXdqSU1kMFZDa1dYdzdrT3l3Y1VEZ0tDOHdVcEp2dGVHZWVQVnMzK0JPVjdFUGlzRkFwRkZ5SHJkVmcrcUVFUTc0bzJxdEwrb0VZakZWSk1ycHNoaUVTNmtNbFF5VXFoVUdSNnREc3RNZmdSQ3gyaVNNc05hRG5FSWlhZWZmajZMbncvYlU2bUdGcFBNK25SYVRzVVN1WlAwQm1MVlJVS1JhZVpoQXFGUXFHRXBWQW9GRXBZQ29WQ0NVdWhVQ2lVc0JRS2hVSUpTNkZRS0dFcEZBcEZjL0IvQVFZQTg1Rm5OM29nRWxNQUFBQUFTVVZPUks1Q1lJST0iIHJvbGU9InByZXNlbnRhdGlvbiI+CiAgICAgICAgPC9hPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogIDwvZGl2PgogIAo8L2Rpdj4KCgoKPGRpdiBjbGFzcz0ic3RpY2t5cHVzaCI+PC9kaXY+CjwvZGl2PgoKPHNjcmlwdCBpZD0icGxheWVyLWpzIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgogIHZhciB3ID0gMTI4MDsKICB2YXIgaCA9IDcyMDsKCiAgdmFyIGFyZU92ZXJsYXBwaW5nID0gZnVuY3Rpb24gKGVsMSwgZWwyKSB7CiAgICB2YXIgcmVjdDEgPSBlbDEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICB2YXIgcmVjdDIgPSBlbDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICByZXR1cm4gIShyZWN0MS5yaWdodCA8IHJlY3QyLmxlZnQgfHwKICAgICAgcmVjdDEubGVmdCA+IHJlY3QyLnJpZ2h0IHx8CiAgICAgIHJlY3QxLmJvdHRvbSA8IHJlY3QyLnRvcCB8fAogICAgICByZWN0MS50b3AgPiByZWN0Mi5ib3R0b20pOwogIH0KCiAgdmFyIGxheW91dCA9IGZ1bmN0aW9uICgpIHsKCiAgICBpZiAoaXNNb2JpbGUoKSkgewogICAgICAKICAgICAgdmFyIHBhZGRpbmcgPSA2MDsKICAgICAgCiAgICB9IGVsc2UgewogICAgICAKICAgICAgdmFyIHBhZGRpbmcgPSAyMTU7CiAgICAgIAogICAgfQoKICAgIHZhciBoZWlnaHQ7CiAgICBpZiAoaCA+IHdpbmRvdy5pbm5lckhlaWdodCAtIHBhZGRpbmcpIHsKICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC0gcGFkZGluZzsKICAgICAgdmFyIE1JTl9IRUlHSFQgPSAxNDA7CiAgICAgIHZhciBtaW5IZWlnaHQgPSBoIDwgTUlOX0hFSUdIVCA/IGggOiBNSU5fSEVJR0hUOwogICAgICBpZiAoaGVpZ2h0IDwgbWluSGVpZ2h0KSB7CiAgICAgICAgaGVpZ2h0ID0gbWluSGVpZ2h0OwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBoZWlnaHQgPSBoOwogICAgfQogICAgdmFyIHdpZHRoID0gdyAvIGggKiBoZWlnaHQ7CiAgICBpZiAod2lkdGggPiA4MDAgJiYgd2luZG93LmlubmVyV2lkdGggPCAxMjAwKSB7CiAgICAgIHdpZHRoID0gODAwOwogICAgfQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllci1jb250ZW50Jykuc3R5bGUudmlzaWJpbGl0eSA9ICJ2aXNpYmxlIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXItY29udGVudCcpLnN0eWxlLm1heFdpZHRoID0gd2lkdGggKyAicHgiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGxlcicpLnN0eWxlLm1heFdpZHRoID0gd2lkdGggKyAicHgiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGxlcicpLnN0eWxlLnBhZGRpbmdCb3R0b20gPSA1Ni4yNSArICIlIgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lZGlhLWNvbnRhaW5lcicpLnN0eWxlLm1heFdpZHRoID0gd2lkdGggKyAicHgiOwoKCiAgICB2YXIgYWRDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkLWNvbnRlbnQnKTsKICAgIGlmIChhZENvbnRlbnQpIHsKICAgICAgYWRDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgfQogIH0KCiAgdmFyIHZpZGVvT2JqZWN0ID0geyJleHRyYWN0b3IiOiBudWxsLCAib3JpZ2luYWxfbmFtZSI6ICJJIGxvdmUgMkQhLm1wNCIsICJvcmlnaW5hbF9iaXRyYXRlIjogbnVsbCwgImhlaWdodCI6IDcyMCwgImFkX3RhZ3MiOiBudWxsLCAid2F0ZXJtYXJrX2xpbmsiOiBudWxsLCAidGl0bGUiOiAiU2hvdWpvLXRhY2hpIHdhIEtvdXlhIHdvIE1lemFzdSBlcC4yIiwgIm5vYWRzIjogZmFsc2UsICJyZWRkaXRfdGl0bGUiOiAiU2NyZXcgcmVhbGl0eSwgSSBMT1ZFIDJEISEgW1Nob3Vqby10YWNoaSB3YSBLb3V5YSB3byBNZXphc3VdIiwgImdpZiI6IG51bGwsICJmaWxlcyI6IHsibXA0IjogeyJzdGF0dXMiOiAyLCAidGh1bWJuYWlsX2ZpbGVfbmFtZSI6ICJlZmdtLmpwZyIsICJhdWRpb19jaGFubmVscyI6IDIsICJqb2JfaWQiOiAibXA0LWVmZ20tMCIsICJuYW1lIjogIm1wNC9lZmdtLm1wNCIsICJleGVjdXRpb25fdGltZSI6IDQ0NDI0LjAsICJwZXJjZW50IjogMTAwLCAicG9zdGVyX2ZpbGVfbmFtZSI6ICJlZmdtX2ZpcnN0LmpwZyIsICJmcmFtZXJhdGUiOiA2MCwgInNjcmVlbnNob3RfYnVja2V0IjogbnVsbCwgImhlaWdodCI6IDcyMCwgIndpZHRoIjogMTI4MCwgInVybCI6ICIvL2Nkbi1iLXdlc3Quc3RyZWFtYWJsZS5jb20vdmlkZW8vbXA0L2VmZ20ubXA0P3Rva2VuPVNVYjNxaUFhdEFxTDg3QXNpSWsxMlEmYW1wO2V4cGlyZXM9MTUzNzM3NjY2MyIsICJlcnJvciI6IG51bGwsICJkdXJhdGlvbiI6IDQ0LjQxMiwgImJ1Y2tldCI6IG51bGwsICJiaXRyYXRlIjogNDAzNjQ3OSwgInJlZW5jb2RlZCI6IG51bGwsICJzaXplIjogMjMxNzE3NDJ9LCAibXA0LW1vYmlsZSI6IHsic3RhdHVzIjogMiwgInRodW1ibmFpbF9maWxlX25hbWUiOiBudWxsLCAiYXVkaW9fY2hhbm5lbHMiOiAyLCAiam9iX2lkIjogIm1wNC1tb2JpbGUtZWZnbS0wIiwgIm5hbWUiOiAibXA0LW1vYmlsZS9lZmdtLm1wNCIsICJleGVjdXRpb25fdGltZSI6IDExNTcxLjAsICJwZXJjZW50IjogMTAwLCAicG9zdGVyX2ZpbGVfbmFtZSI6IG51bGwsICJmcmFtZXJhdGUiOiAzMCwgInNjcmVlbnNob3RfYnVja2V0IjogbnVsbCwgImhlaWdodCI6IDM2MCwgIndpZHRoIjogNjQwLCAidXJsIjogIi8vY2RuLWItd2VzdC5zdHJlYW1hYmxlLmNvbS92aWRlby9tcDQtbW9iaWxlL2VmZ20ubXA0P3Rva2VuPTNrMTRDNGppZGRfVXl0YUxFRXlmdVEmYW1wO2V4cGlyZXM9MTUzNzM3NjY2MyIsICJlcnJvciI6IG51bGwsICJkdXJhdGlvbiI6IDQ0LjUsICJidWNrZXQiOiBudWxsLCAiYml0cmF0ZSI6IDExMjQwMDcsICJyZWVuY29kZWQiOiBudWxsLCAic2l6ZSI6IDY2NDc3NDh9fSwgImF1ZGlvX2NoYW5uZWxzIjogMiwgIm9yaWdpbmFsX2ZyYW1lcmF0ZSI6IG51bGwsICJkYXRlX2FkZGVkIjogMTQ1MjgzNTkyNC41NjYxNywgInN1YnJlZGRpdCI6ICJhbmltZSIsICJwb3N0ZXJfdXJsIjogIi8vY2RuLWItd2VzdC5zdHJlYW1hYmxlLmNvbS9pbWFnZS9lZmdtX2ZpcnN0LmpwZz90b2tlbj1ERFlaYVJscGZSZ3lKamQ5ejdhRTBnJmFtcDtleHBpcmVzPTE1MzczNzY2NjMiLCAicmVkZGl0X3VybCI6ICJodHRwczovL3d3dy5yZWRkaXQuY29tL3IvYW5pbWUvY29tbWVudHMvNDExcXlzL3NjcmV3X3JlYWxpdHlfaV9sb3ZlXzJkX3Nob3Vqb3RhY2hpX3dhX2tvdXlhX3dvLz9yZWY9c2VhcmNoX3Bvc3RzIiwgInNob3J0Y29kZSI6ICJlZmdtIiwgImxhYmVscyI6IG51bGwsICJ0aHVtYm5haWxfdXJsIjogIi8vY2RuLWItd2VzdC5zdHJlYW1hYmxlLmNvbS9pbWFnZS9lZmdtLmpwZz90b2tlbj1CUEFIbXNWM3pCSk04cUtBTzB2TmJBJmFtcDtleHBpcmVzPTE1MzczNzY2NjMiLCAiZXJyb3IiOiBudWxsLCAiZGVidWciOiBmYWxzZSwgImZsYWdnZWQiOiAwLCAiZHluYW1pY190aHVtYm5haWxfdXJsIjogIi8vaW1hZ2VzLnN0cmVhbWFibGUuY29tL3dlc3QvaW1hZ2UvZWZnbS5qcGc/aGVpZ2h0PTEwMCIsICJhZF90eXBlIjogbnVsbCwgIm1heF92ZXJzaW9uIjogMCwgImR1cmF0aW9uIjogNDQuNDEyLCAiZGVzY3JpcHRpb24iOiAiIiwgInVwbG9hZF9zb3VyY2UiOiAid2ViIiwgInRyZW5kaW5nIjogbnVsbCwgInBsYXlzIjogNDY3OSwgInBlcmNlbnQiOiAxMDAsICJob3QiOiAwLCAidmVyc2lvbiI6IDAsICJhZF9wYXJhbWV0ZXJzIjogbnVsbCwgInNpemUiOiAyMzE3MTc0MiwgImFkX3RhZyI6IG51bGwsICJzdGF0dXMiOiAyLCAid2F0ZXJtYXJrX3VybCI6IG51bGwsICJ0YWdzIjogW10sICJzb3VyY2VfdXJsIjogbnVsbCwgImZpbGVfaWQiOiAiZWZnbSIsICJvcmlnaW5hbF9zaXplIjogMjIwNDY5OTgsICJzb3VyY2VfdGl0bGUiOiBudWxsLCAidGh1bWJfZ2lmIjogbnVsbCwgImJpdHJhdGUiOiA0MDM2NDc5LCAiaXNfb3duZXIiOiBmYWxzZSwgInVybCI6ICJodHRwczovL3N0cmVhbWFibGUuY29tL2VmZ20iLCAiZXh0cmFjdF9pZCI6IG51bGwsICJxdWV1ZWQiOiBudWxsLCAiZXh0IjogIm1wNCIsICJ3aWR0aCI6IDEyODB9OwogIHZhciB2aWRlb1RhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlby1wbGF5ZXItdGFnJykKICB2YXIgcGxheWVyT2JqZWN0ID0gbmV3IFZpZGVvUGxheWVyKHZpZGVvT2JqZWN0LCB2aWRlb1RhZyk7CiAgdmFyIGluaXRpYWxpemVfdmlkZW9fcGxheWVyID0gZnVuY3Rpb24gKCkgewogICAgbGF5b3V0KCk7CiAgICBpZiAoIWlzTW9iaWxlKCkpIHsKICAgICAgd2luZG93Lm9ucmVzaXplID0gbGF5b3V0OwogICAgfQogICAgcGxheWVyT2JqZWN0LmluaXRpYWxpemUoKTsKICB9CiAgaW5pdGlhbGl6ZV92aWRlb19wbGF5ZXIoKQoKICAvL3RoaXMgY2FuIGJlIGFjY2Vzc2VkIGJ5IGJhY2tib25lIHZpZXcgb24gcmVtb3ZlCiAgZGVzdHJveV92aWRlb19wbGF5ZXIgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgIHdpbmRvdy5vbnJlc2l6ZSA9IG51bGw7CiAgICBwbGF5ZXJPYmplY3QuZGVzdHJveSgpOwogIH0KICB2YXIgdGl0bGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpOwoKICB2YXIgY29weVRpbWVvdXQ7CiAgZnVuY3Rpb24gY29weUVtYmVkQ29kZVRvQ2xpcGJvYXJkKGJ1dHRvbikgewogICAgaWYgKGNvcHlUaW1lb3V0KSB7CiAgICAgIGNsZWFyVGltZW91dChjb3B5VGltZW91dCk7CiAgICB9CiAgICBwbGF5ZXJPYmplY3QuY29weUVtYmVkQ29kZVRvQ2xpcGJvYXJkKCdwbGF5ZXInKQogICAgYnV0dG9uLmlubmVySFRNTCA9ICc8c3ZnIHN0eWxlPSJwb3NpdGlvbjogcmVsYXRpdmU7IGxlZnQ6LTJweDsgdG9wOiAzcHg7IiB3aWR0aD0iMjBweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTc5MiAxNzkyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xNjcxIDU2NnEwIDQwLTI4IDY4bC03MjQgNzI0LTEzNiAxMzZxLTI4IDI4LTY4IDI4dC02OC0yOGwtMTM2LTEzNi0zNjItMzYycS0yOC0yOC0yOC02OHQyOC02OGwxMzYtMTM2cTI4LTI4IDY4LTI4dDY4IDI4bDI5NCAyOTUgNjU2LTY1N3EyOC0yOCA2OC0yOHQ2OCAyOGwxMzYgMTM2cTI4IDI4IDI4IDY4eiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPiBDb3BpZWQnCiAgICBhZGRDbGFzcyhidXR0b24sICJjb3BpZWQiKQogICAgY29weVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICBidXR0b24uaW5uZXJIVE1MID0gJzxzdmcgc3R5bGU9InBvc2l0aW9uOiByZWxhdGl2ZTsgbGVmdDotMnB4OyB0b3A6IDNweDsiIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjE0cHgiIHZpZXdCb3g9IjAgMCA0MCA0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTcuMSAzNy4xaDIwdi0xNC4yaC05LjJxLTAuOSAwLTEuNi0wLjd0LTAuNi0xLjV2LTkuM2gtOC42djI1Ljd6IG01LjgtMzIuMXYtMS40cTAtMC4zLTAuMy0wLjV0LTAuNS0wLjJoLTE1LjdxLTAuMyAwLTAuNSAwLjJ0LTAuMiAwLjV2MS40cTAgMC4zIDAuMiAwLjV0MC41IDAuMmgxNS43cTAuMyAwIDAuNS0wLjJ0MC4zLTAuNXogbTUuNyAxNWg2LjZsLTYuNi02Ljd2Ni43eiBtMTEuNCAyLjl2MTVxMCAwLjktMC42IDEuNXQtMS41IDAuNmgtMjEuNXEtMC45IDAtMS41LTAuNnQtMC42LTEuNXYtMy42aC0xMi4ycS0wLjkgMC0xLjUtMC42dC0wLjYtMS42di0zMHEwLTAuOCAwLjYtMS41dDEuNS0wLjZoMjQuM3EwLjkgMCAxLjUgMC42dDAuNyAxLjV2Ny40cTAuNCAwLjMgMC44IDAuNmw5LjEgOS4xcTAuNiAwLjYgMS4xIDEuN3QwLjQgMnoiIGZpbGw9IiNmZmYiLz48L3N2Zz4gRW1iZWQnCiAgICAgIHJlbW92ZUNsYXNzKGJ1dHRvbiwgImNvcGllZCIpCiAgICB9LCAzMDAwKQogIH0KPC9zY3JpcHQ+CjxzY3JpcHQKICAKICBzcmM9Ii8vdi5lbWJlZC1jZG4uY29tL3YxMC9wbGF5ZXIuanMiCiAgCiAgYXN5bmMKICAKICBkYXRhLXR5cGU9ImxpbmVhciIKICBkYXRhLWFuY2hvcj0iLnZpZGVvLXBsYXllci10YWciCiAgZGF0YS1ub2JsYWNrbGlzdD0idHJ1ZSIKICAKICAKICAKICBkYXRhLWlkPSJwbGF5ZXItaW5zdHJlYW0iCiAgCiAgZGF0YS1iYWNrZ3JvdW5kPSJibGFjayIKICBkYXRhLWFuY2hvcj0iLnZpZGVvLXBsYXllci10YWciCiAgZGF0YS1zaG9ydGNvZGU9ImVmZ20iCiAgZGF0YS12aWRlb3BsYXlzPSI0Njc5IgogIGRhdGEtcmVzcG9uc2l2ZT0idHJ1ZSIKICBkYXRhLWR1cmF0aW9uPSI0NC40MTIiCiAgZGF0YS1iaXRyYXRlPSI0MDM2NDc5IgogIGRhdGEtZmlsZW5hbWU9Im1wNC9lZmdtLm1wNCIKICBkYXRhLXRpdGxlPSJTaG91am8tdGFjaGkgd2EgS291eWEgd28gTWV6YXN1IGVwLjIgLSBTdHJlYW1hYmxlIgo+Cjwvc2NyaXB0PgoKPC9kaXY+CgogICAgCiAgICA8c2NyaXB0IGlkPSJwbGF5ZXItanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICAKICAgIDwvc2NyaXB0PgogICAgCiAgICA8ZGl2IGNsYXNzPSJzdGlja3lmb290ZXIiPgogICAgICA8ZGl2IGNsYXNzPSJjb250YWluZXItZmx1aWQiPgogICAgICAgIDx1bCBjbGFzcz0ibmF2IG5hdmJhci1uYXYiPgogICAgICAgICAgICAKICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgIDxhIGhyZWY9Ii9yZXBvcnQvZWZnbSI+CiAgICAgICAgICAgICAgICBSZXBvcnQKICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL3d3dy50d2l0Y2gudHYvcC9sZWdhbC9wcml2YWN5LXBvbGljeS8iIHRhcmdldD0iX2JsYW5rIj4KICAgICAgICAgICAgICAgIEFkcyBieSBDdXJzZQogICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgCiAgICAgICAgICA8bGk+CiAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vcHJpdmFjeS5zdHJlYW1hYmxlLmNvbSI+CiAgICAgICAgICAgICAgUHJpdmFjeQogICAgICAgICAgICA8L2E+CiAgICAgICAgICA8L2xpPgogICAgICAgICAgPGxpPgogICAgICAgICAgICA8YSBocmVmPSJodHRwczovL3Rlcm1zLnN0cmVhbWFibGUuY29tIj4KICAgICAgICAgICAgICBUZXJtcwogICAgICAgICAgICA8L2E+CiAgICAgICAgICA8L2xpPiAgCiAgICAgICAgPC91bD4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgaWQ9J2NkbS16b25lLWVuZCc+PC9kaXY+CiAgPC9ib2R5Pgo8L2h0bWw+
    http_version: 
  recorded_at: Wed, 19 Sep 2018 15:03:59 GMT
recorded_with: VCR 4.0.0
