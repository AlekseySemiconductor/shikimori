---
http_interactions:
- request:
    method: get
    uri: http://vk.com/video_ext.php?hash=c49d82b08c9fcc3e&id=159913977&oid=-18070179
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 302
      message: Found
    headers:
      Server:
      - Internet Information Services
      Date:
      - Wed, 29 Aug 2018 16:39:42 GMT
      Content-Type:
      - text/html; charset=windows-1251
      Content-Length:
      - '20'
      Connection:
      - keep-alive
      X-Powered-By:
      - PHP/3.16479
      Set-Cookie:
      - remixlang=0; expires=Sun, 08 Sep 2019 04:01:00 GMT; path=/; domain=.vk.com
      Cache-Control:
      - no-store
      Location:
      - https://vk.com/video_ext.php?oid=-18070179&id=159913977&hash=c49d82b08c9fcc3e
      X-Frontend:
      - front504216
      Access-Control-Expose-Headers:
      - X-Frontend
    body:
      encoding: ASCII-8BIT
      string: ''
    http_version: 
  recorded_at: Wed, 29 Aug 2018 16:39:33 GMT
- request:
    method: get
    uri: https://vk.com/video_ext.php?hash=c49d82b08c9fcc3e&id=159913977&oid=-18070179
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Internet Information Services
      Date:
      - Wed, 29 Aug 2018 16:39:42 GMT
      Content-Type:
      - text/html; charset=windows-1251
      Content-Length:
      - '2143'
      Connection:
      - keep-alive
      X-Powered-By:
      - PHP/3.16479
      Set-Cookie:
      - remixlang=0; expires=Thu, 29 Aug 2019 14:11:10 GMT; path=/; domain=.vk.com
      Cache-Control:
      - no-store
      Strict-Transport-Security:
      - max-age=15768000
      X-Frontend:
      - front504214
      Access-Control-Expose-Headers:
      - X-Frontend
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        PCFET0NUWVBFIGh0bWwgUFVCTElDICItLy9XM0MvL0RURCBYSFRNTCAxLjAgU3RyaWN0Ly9FTiIgImh0dHA6Ly93d3cudzMub3JnL1RSL3hodG1sMS9EVEQveGh0bWwxLXN0cmljdC5kdGQiPgo8aHRtbCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgeG1sOmxhbmc9ImVuIiBsYW5nPSJlbiI+Cgo8aGVhZD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL2pzL2xvYWRlcl9uYXY3MjU0Mjg2MzQ2MDgxXzAuanMiPjwvc2NyaXB0PgoKPGxpbmsgcmVsPSJzaG9ydGN1dCBpY29uIiBocmVmPSIvaW1hZ2VzL2ljb25zL2Zhdmljb25zL2Zhdl9sb2dvLmljbz82IiAvPgoKPG1ldGEgaHR0cC1lcXVpdj0iY29udGVudC10eXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9d2luZG93cy0xMjUxIiAvPgo8bWV0YSBodHRwLWVxdWl2PSJYLVVBLUNvbXBhdGlibGUiIGNvbnRlbnQ9IklFPWVkZ2UiIC8+CjxtZXRhIG5hbWU9InJvYm90cyIgY29udGVudD0ibm9pbmRleCwgbm9mb2xsb3ciIC8+Cgo8dGl0bGU+wsru7fLg6vLlIHwgVmlkZW8gRXh0PC90aXRsZT4KCjxub3NjcmlwdD48bWV0YSBodHRwLWVxdWl2PSJyZWZyZXNoIiBjb250ZW50PSIwOyBVUkw9L2JhZGJyb3dzZXIucGhwIj48L25vc2NyaXB0PgoKPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iL2Nzcy9hbC9mb250c19jbnQuY3NzPzEzMTg2NTA4MjMiIC8+CjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Ii9jc3MvYWwvbGl0ZS5jc3M/NTMzNjY1OTEyODYiIC8+Cgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CnZhciB2ayA9IHsKICBhZHNfcm90YXRlX2ludGVydmFsOiAxMjAwMDAsCiAgYWw6IHBhcnNlSW50KCc0JykgfHwgNCwKICBpbnRuYXQ6ICcxJyA/IHRydWUgOiBmYWxzZSwKICBsYW5nOiAwLAogIHJ0bDogcGFyc2VJbnQoJycpIHx8IDAsCiAgdmVyc2lvbjogNzI1NDI4NjM0NjA4MSwKICBsb2dpbnNjaGVtZTogJ2h0dHBzJywKICBpcF9oOiAnMGRkNGRmNThmMjljMWY0YWNlJywKICBpZDogcGFyc2VJbnQoJzAnKSwKICBub2RvbWFpbjogJycsCiAgcHJfdHBsOiAiPGRpdiBjbGFzcz1cInByICVjbHMlXCIgaWQ9XCIlaWQlXCI+PGRpdiBjbGFzcz1cInByX2J0XCI+PFwvZGl2PjxkaXYgY2xhc3M9XCJwcl9idFwiPjxcL2Rpdj48ZGl2IGNsYXNzPVwicHJfYnRcIj48XC9kaXY+PFwvZGl2PiIsCiAgYXVkaW9JbmxpbmVQbGF5ZXJUcGw6ICI8ZGl2IGNsYXNzPVwiYXVkaW9faW5saW5lX3BsYXllciBfYXVkaW9faW5saW5lX3BsYXllciBub19zZWxlY3RcIj5cbiAgPGRpdiBjbGFzcz1cImF1ZGlvX2lubGluZV9wbGF5ZXJfcmlnaHRcIj5cbiAgICA8ZGl2IGNsYXNzPVwiYXVkaW9faW5saW5lX3BsYXllcl92b2x1bWVcIj48XC9kaXY+XG4gIDxcL2Rpdj5cbiAgPGRpdiBjbGFzcz1cImF1ZGlvX2lubGluZV9wbGF5ZXJfbGVmdFwiPlxuICAgIDxkaXYgY2xhc3M9XCJhdWRpb19pbmxpbmVfcGxheWVyX3Byb2dyZXNzXCI+PFwvZGl2PlxuICA8XC9kaXY+XG48XC9kaXY+IiwKICB3aWRnZXQ6IDEsCiAgc2hvd19leHRlcm5hbF9hdXRoX2JveDogMCwKICBjc3NfZGlyOiAnJwp9CnZhciBTdGF0aWNGaWxlcyA9IHsKICAnbGl0ZS5qcyc6e3Y6MzQ0NDQ4MTI2fSwKICAnbGl0ZS5jc3MnOnt2OjUzMzY2NTkxMjg2fSwnZm9udHNfY250LmNzcyc6e3Y6MTMxODY1MDgyM30sJ2xhbmcwXzAuanMnOiB7djogMjU1OTI2Nzl9Cn0KPC9zY3JpcHQ+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9qcy9hbC9saXRlLmpzPzM0NDQ0ODEyNiI+PC9zY3JpcHQ+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9qcy9sYW5nMF8wLmpzPzI1NTkyNjc5Ij48L3NjcmlwdD48YmFzZSB0YXJnZXQ9Il9ibGFuayIvPgoKPC9oZWFkPgoKPGJvZHkgY2xhc3M9ImlzX3J0bCBWSzEgIHdpZGdldF9ib2R5IG5vX2F1dGgiPgogIDxkaXYgaWQ9InN5c3RlbV9tc2ciIGNsYXNzPSJmaXhlZCI+PC9kaXY+CiAgPGRpdiBpZD0idXRpbHMiPjwvZGl2PgogIDxkaXYgaWQ9ImJveF9sYXllcl9iZyIgY2xhc3M9ImZpeGVkIj48L2Rpdj48ZGl2IGlkPSJib3hfbGF5ZXJfd3JhcCIgY2xhc3M9InNjcm9sbF9maXhfd3JhcCBmaXhlZCI+PGRpdiBpZD0iYm94X2xheWVyIj48ZGl2IGlkPSJib3hfbG9hZGVyIj48ZGl2IGNsYXNzPSJwciBwcl9iYXcgcHJfbWVkaXVtIiBpZD0iYm94X2xvYWRlcl9wciI+PGRpdiBjbGFzcz0icHJfYnQiPjwvZGl2PjxkaXYgY2xhc3M9InByX2J0Ij48L2Rpdj48ZGl2IGNsYXNzPSJwcl9idCI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iYmFjayI+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+CgogIDxkaXYgaWQ9InN0bF9sZWZ0Ij48L2Rpdj48ZGl2IGlkPSJzdGxfc2lkZSI+PC9kaXY+CgogIDxhIGlkPSJ3aWRnZXRfZm9jdXNfbGluayIgaHJlZj0iamF2YXNjcmlwdDogcmV0dXJuOyI+PC9hPgogIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5kb21TdGFydGVkKCk7PC9zY3JpcHQ+CgogIDxkaXYgaWQ9InBhZ2Vfd3JhcCI+PGRpdiBzdHlsZT0iZGlzcGxheTpibG9jazsgcG9zaXRpb246YWJzb2x1dGU7IHRvcDowcHQ7IHJpZ2h0OjBwdDsgbGVmdDowcHQ7IGJvdHRvbTowcHQ7IGJhY2tncm91bmQ6IzUxNUE3MDsiPgo8ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjUwJTsgdGV4dC1hbGlnbjpjZW50ZXI7IHJpZ2h0OjBwdDsgbGVmdDowcHQ7IGZvbnQtZmFtaWx5OlRhaG9tYTsgZm9udC1zaXplOjEycHg7IGNvbG9yOiNGRkZGRkY7Ij4KPGNlbnRlciBpZD0idmlkZW9fZXh0X3dyYXAiIHN0eWxlPSJtYXJnaW4tdG9wOiAtMTY1cHg7IGxpbmUtaGVpZ2h0OiAxNjAlOyBmb250LXNpemU6IDE0cHg7IHBhZGRpbmc6IDBweCA0MHB4OyI+CjxkaXYgaWQ9ImxpZ2h0X2NyeV9kb2ciIGNsYXNzPSJsaWdodF9jcnlfZG9nIiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMjBweDsiPjwvZGl2Pgo8ZGl2IGlkPSJ2aWRlb19leHRfbXNnIj4K3fLuIOLo5OXuIOjn+v/y7iDo5yDv8+Hr6Pft7uPuIOTu8fLz7+AuCjwvZGl2Pgo8YSBpZD0idmlkZW9fZXh0X2J0biIgY2xhc3M9ImZsYXRfYnV0dG9uIGJ1dHRvbl9iaWciIGhyZWY9Ii8vdmsuY29tIiB0YXJnZXQ9Il9ibGFuayIgc3R5bGU9ImZvbnQtc2l6ZToxM3B4OyBtYXJnaW46IDIwcHggMHB4OyI+z+Xw5eny6CDqIMLK7u3y4Ory5TwvYT4KPGRpdiBpZD0idmlkZW9fZXh0X2Rlc2MiIHN0eWxlPSJjb2xvcjogI0Q0REFERDsgZm9udC1zaXplOiAxMnB4OyI+CsLK7u3y4Ory5SCXIP3y7iDx7vbo4Ov87eD/IPHl8vwsIO/u5+Lu6//++eD/IMLg7CDk5evo8vzx/yDq7u3y5e3y7uwg8SDC4Pjo7Ogg5PDz5/z/7OguPGJyPsTu8fLz7+3uIO3gIDxiPmlPUzwvYj4sIDxiPkFuZHJvaWQ8L2I+IOggPGI+V2luZG93cyBQaG9uZTwvYj4uIMj56PLlIDxiPlZLPC9iPiDiIOzg4+Dn6O3lIO/w6Ovu5uXt6OkuCjwvY2VudGVyPgo8L2Rpdj4KPC9kaXY+PC9kaXY+CiAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MiIGlkPSJnbG9iYWxfcHJnIj48L2Rpdj4KCiAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgogICAgaWYgKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID49IDIpIHsKICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgKz0gJyBpc18yeCc7CiAgICB9CiAgICBkb21SZWFkeSgpOwogICAgCmFkZExhbmdLZXlzKHsiZ2xvYmFsX2Vtb2ppX2NhdF9yZWNlbnQiOiLX4PHy7iDo8e/u6/zn8+Xs++UiLCJnbG9iYWxfZW1vamlfY2F0XzEiOiLd7O726OgiLCJnbG9iYWxfZW1vamlfY2F0XzIiOiLG6OLu8u375SDoIPDg8fLl7ej/IiwiZ2xvYmFsX2Vtb2ppX2NhdF8zIjoixuXx8vsg6CDr/uToIiwiZ2xvYmFsX2Vtb2ppX2NhdF80IjoixeTgIOgg7eDv6PLq6CIsImdsb2JhbF9lbW9qaV9jYXRfNSI6ItHv7vDyIOgg4Ory6OLt7vHy6CIsImdsb2JhbF9lbW9qaV9jYXRfNiI6Is/z8uX45fHy4uj/IOgg8vDg7fHv7vDyIiwiZ2xvYmFsX2Vtb2ppX2NhdF83Ijoiz/Dl5Ozl8vsiLCJnbG9iYWxfZW1vamlfY2F0XzgiOiLR6Ozi7uv7IiwiZ2xvYmFsX2Vtb2ppX2NhdF85Ijoi1Ovg4+gifSwgdHJ1ZSk7CmFkZFRlbXBsYXRlcyh7Il8iOiJfIn0pOwpmdW5jdGlvbiBvblJlc2l6ZSgpIHsKICBpZiAod2luZG93LmlubmVySGVpZ2h0ICYmIHdpbmRvdy5pbm5lckhlaWdodCA8IDM0MCkgewogICAgaGlkZSgndmlkZW9fZXh0X2Rlc2MnKTsKICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgPCAyOTApIHsKICAgICAgc2V0U3R5bGUoZ2UoJ2xpZ2h0X2NyeV9kb2cnKSwge3dpZHRoOiA4MCwgaGVpZ2h0OiA4MCwgYmFja2dyb3VuZFNpemU6ICc4MHB4IDgwcHgnLCBtYXJnaW5Cb3R0b206IDEwfSk7CiAgICAgIHNldFN0eWxlKGdlKCd2aWRlb19leHRfd3JhcCcpLCB7bWFyZ2luVG9wOiAtMTAwfSk7CiAgICAgIHNldFN0eWxlKGdlKCd2aWRlb19leHRfbXNnJyksIHtmb250U2l6ZTogMTIsIGxpbmVIZWlnaHQ6ICcxNDAlJ30pOwogICAgICBzZXRTdHlsZShnZSgndmlkZW9fZXh0X2J0bicpLCB7bWFyZ2luVG9wOiAxMH0pOwogICAgfSBlbHNlIHsKICAgICAgc2V0U3R5bGUoZ2UoJ3ZpZGVvX2V4dF93cmFwJyksIHttYXJnaW5Ub3A6IC0xMzB9KTsKICAgICAgc2V0U3R5bGUoZ2UoJ2xpZ2h0X2NyeV9kb2cnKSwge3dpZHRoOiAxMjAsIGhlaWdodDogMTIwLCBiYWNrZ3JvdW5kU2l6ZTogJzEyMHB4IDEyMHB4JywgbWFyZ2luQm90dG9tOiAxNX0pOwogICAgICBzZXRTdHlsZShnZSgndmlkZW9fZXh0X2J0bicpLCB7bWFyZ2luVG9wOiAxNX0pOwogICAgfQogIH0KfQpvblJlc2l6ZSgpOzt2ay5pZCA9IDAKICAgIAogIDwvc2NyaXB0Pgo8L2JvZHk+Cgo8L2h0bWw+
    http_version: 
  recorded_at: Wed, 29 Aug 2018 16:39:33 GMT
recorded_with: VCR 4.0.0
