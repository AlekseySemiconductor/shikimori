---
http_interactions:
- request:
    method: get
    uri: http://vk.com/video_ext.php?hash=5bc587ab61aace17&id=160661445&oid=-23314707
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 302
      message: Found
    headers:
      Server:
      - Internet Information Services
      Date:
      - Wed, 29 Aug 2018 16:39:41 GMT
      Content-Type:
      - text/html; charset=windows-1251
      Content-Length:
      - '20'
      Connection:
      - keep-alive
      X-Powered-By:
      - PHP/3.16479
      Set-Cookie:
      - remixlang=0; expires=Mon, 02 Sep 2019 11:07:26 GMT; path=/; domain=.vk.com
      Cache-Control:
      - no-store
      Location:
      - https://vk.com/video_ext.php?oid=-23314707&id=160661445&hash=5bc587ab61aace17
      X-Frontend:
      - front504215
      Access-Control-Expose-Headers:
      - X-Frontend
    body:
      encoding: ASCII-8BIT
      string: ''
    http_version: 
  recorded_at: Wed, 29 Aug 2018 16:39:32 GMT
- request:
    method: get
    uri: https://vk.com/video_ext.php?hash=5bc587ab61aace17&id=160661445&oid=-23314707
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Internet Information Services
      Date:
      - Wed, 29 Aug 2018 16:39:41 GMT
      Content-Type:
      - text/html; charset=windows-1251
      Content-Length:
      - '2169'
      Connection:
      - keep-alive
      X-Powered-By:
      - PHP/3.16479
      Set-Cookie:
      - remixlang=0; expires=Mon, 02 Sep 2019 14:29:16 GMT; path=/; domain=.vk.com
      Cache-Control:
      - no-store
      Strict-Transport-Security:
      - max-age=15768000
      X-Frontend:
      - front504214
      Access-Control-Expose-Headers:
      - X-Frontend
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        PCFET0NUWVBFIGh0bWwgUFVCTElDICItLy9XM0MvL0RURCBYSFRNTCAxLjAgU3RyaWN0Ly9FTiIgImh0dHA6Ly93d3cudzMub3JnL1RSL3hodG1sMS9EVEQveGh0bWwxLXN0cmljdC5kdGQiPgo8aHRtbCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgeG1sOmxhbmc9ImVuIiBsYW5nPSJlbiI+Cgo8aGVhZD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL2pzL2xvYWRlcl9uYXY3MjU0Mjg2MzQ2MDgxXzAuanMiPjwvc2NyaXB0PgoKPGxpbmsgcmVsPSJzaG9ydGN1dCBpY29uIiBocmVmPSIvaW1hZ2VzL2ljb25zL2Zhdmljb25zL2Zhdl9sb2dvLmljbz82IiAvPgoKPG1ldGEgaHR0cC1lcXVpdj0iY29udGVudC10eXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9d2luZG93cy0xMjUxIiAvPgo8bWV0YSBodHRwLWVxdWl2PSJYLVVBLUNvbXBhdGlibGUiIGNvbnRlbnQ9IklFPWVkZ2UiIC8+CjxtZXRhIG5hbWU9InJvYm90cyIgY29udGVudD0ibm9pbmRleCwgbm9mb2xsb3ciIC8+Cgo8dGl0bGU+wsru7fLg6vLlIHwgVmlkZW8gRXh0PC90aXRsZT4KCjxub3NjcmlwdD48bWV0YSBodHRwLWVxdWl2PSJyZWZyZXNoIiBjb250ZW50PSIwOyBVUkw9L2JhZGJyb3dzZXIucGhwIj48L25vc2NyaXB0PgoKPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iL2Nzcy9hbC9mb250c19jbnQuY3NzPzEzMTg2NTA4MjMiIC8+CjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Ii9jc3MvYWwvbGl0ZS5jc3M/NTMzNjY1OTEyODYiIC8+Cgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CnZhciB2ayA9IHsKICBhZHNfcm90YXRlX2ludGVydmFsOiAxMjAwMDAsCiAgYWw6IHBhcnNlSW50KCc0JykgfHwgNCwKICBpbnRuYXQ6ICcxJyA/IHRydWUgOiBmYWxzZSwKICBsYW5nOiAwLAogIHJ0bDogcGFyc2VJbnQoJycpIHx8IDAsCiAgdmVyc2lvbjogNzI1NDI4NjM0NjA4MSwKICBsb2dpbnNjaGVtZTogJ2h0dHBzJywKICBpcF9oOiAnMGRkNGRmNThmMjljMWY0YWNlJywKICBpZDogcGFyc2VJbnQoJzAnKSwKICBub2RvbWFpbjogJycsCiAgcHJfdHBsOiAiPGRpdiBjbGFzcz1cInByICVjbHMlXCIgaWQ9XCIlaWQlXCI+PGRpdiBjbGFzcz1cInByX2J0XCI+PFwvZGl2PjxkaXYgY2xhc3M9XCJwcl9idFwiPjxcL2Rpdj48ZGl2IGNsYXNzPVwicHJfYnRcIj48XC9kaXY+PFwvZGl2PiIsCiAgYXVkaW9JbmxpbmVQbGF5ZXJUcGw6ICI8ZGl2IGNsYXNzPVwiYXVkaW9faW5saW5lX3BsYXllciBfYXVkaW9faW5saW5lX3BsYXllciBub19zZWxlY3RcIj5cbiAgPGRpdiBjbGFzcz1cImF1ZGlvX2lubGluZV9wbGF5ZXJfcmlnaHRcIj5cbiAgICA8ZGl2IGNsYXNzPVwiYXVkaW9faW5saW5lX3BsYXllcl92b2x1bWVcIj48XC9kaXY+XG4gIDxcL2Rpdj5cbiAgPGRpdiBjbGFzcz1cImF1ZGlvX2lubGluZV9wbGF5ZXJfbGVmdFwiPlxuICAgIDxkaXYgY2xhc3M9XCJhdWRpb19pbmxpbmVfcGxheWVyX3Byb2dyZXNzXCI+PFwvZGl2PlxuICA8XC9kaXY+XG48XC9kaXY+IiwKICB3aWRnZXQ6IDEsCiAgc2hvd19leHRlcm5hbF9hdXRoX2JveDogMCwKICBjc3NfZGlyOiAnJwp9CnZhciBTdGF0aWNGaWxlcyA9IHsKICAnbGl0ZS5qcyc6e3Y6MzQ0NDQ4MTI2fSwKICAnbGl0ZS5jc3MnOnt2OjUzMzY2NTkxMjg2fSwnZm9udHNfY250LmNzcyc6e3Y6MTMxODY1MDgyM30sJ2xhbmcwXzAuanMnOiB7djogMjU1OTI2Nzl9Cn0KPC9zY3JpcHQ+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9qcy9hbC9saXRlLmpzPzM0NDQ0ODEyNiI+PC9zY3JpcHQ+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii9qcy9sYW5nMF8wLmpzPzI1NTkyNjc5Ij48L3NjcmlwdD48YmFzZSB0YXJnZXQ9Il9ibGFuayIvPgoKPC9oZWFkPgoKPGJvZHkgY2xhc3M9ImlzX3J0bCBWSzEgIHdpZGdldF9ib2R5IG5vX2F1dGgiPgogIDxkaXYgaWQ9InN5c3RlbV9tc2ciIGNsYXNzPSJmaXhlZCI+PC9kaXY+CiAgPGRpdiBpZD0idXRpbHMiPjwvZGl2PgogIDxkaXYgaWQ9ImJveF9sYXllcl9iZyIgY2xhc3M9ImZpeGVkIj48L2Rpdj48ZGl2IGlkPSJib3hfbGF5ZXJfd3JhcCIgY2xhc3M9InNjcm9sbF9maXhfd3JhcCBmaXhlZCI+PGRpdiBpZD0iYm94X2xheWVyIj48ZGl2IGlkPSJib3hfbG9hZGVyIj48ZGl2IGNsYXNzPSJwciBwcl9iYXcgcHJfbWVkaXVtIiBpZD0iYm94X2xvYWRlcl9wciI+PGRpdiBjbGFzcz0icHJfYnQiPjwvZGl2PjxkaXYgY2xhc3M9InByX2J0Ij48L2Rpdj48ZGl2IGNsYXNzPSJwcl9idCI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iYmFjayI+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+CgogIDxkaXYgaWQ9InN0bF9sZWZ0Ij48L2Rpdj48ZGl2IGlkPSJzdGxfc2lkZSI+PC9kaXY+CgogIDxhIGlkPSJ3aWRnZXRfZm9jdXNfbGluayIgaHJlZj0iamF2YXNjcmlwdDogcmV0dXJuOyI+PC9hPgogIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5kb21TdGFydGVkKCk7PC9zY3JpcHQ+CgogIDxkaXYgaWQ9InBhZ2Vfd3JhcCI+PGRpdiBzdHlsZT0iZGlzcGxheTpibG9jazsgcG9zaXRpb246YWJzb2x1dGU7IHRvcDowcHQ7IHJpZ2h0OjBwdDsgbGVmdDowcHQ7IGJvdHRvbTowcHQ7IGJhY2tncm91bmQ6IzUxNUE3MDsiPgo8ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjUwJTsgdGV4dC1hbGlnbjpjZW50ZXI7IHJpZ2h0OjBwdDsgbGVmdDowcHQ7IGZvbnQtZmFtaWx5OlRhaG9tYTsgZm9udC1zaXplOjEycHg7IGNvbG9yOiNGRkZGRkY7Ij4KPGNlbnRlciBpZD0idmlkZW9fZXh0X3dyYXAiIHN0eWxlPSJtYXJnaW4tdG9wOiAtMTY1cHg7IGxpbmUtaGVpZ2h0OiAxNjAlOyBmb250LXNpemU6IDE0cHg7IHBhZGRpbmc6IDBweCA0MHB4OyI+CjxkaXYgaWQ9ImxpZ2h0X2NyeV9kb2ciIGNsYXNzPSJsaWdodF9jcnlfZG9nIiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMjBweDsiPjwvZGl2Pgo8ZGl2IGlkPSJ2aWRlb19leHRfbXNnIj4KxODt7eD/IOLo5OXu5+Dv6PH8IPHq8Pvy4CDt4PHy8O7p6uDs6CDv8Oji4PLt7vHy6CDoIO3l5O7x8vPv7eAg5Ov/IO/w7vHs7vLw4C4KPC9kaXY+CjxhIGlkPSJ2aWRlb19leHRfYnRuIiBjbGFzcz0iZmxhdF9idXR0b24gYnV0dG9uX2JpZyIgaHJlZj0iLy92ay5jb20iIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iZm9udC1zaXplOjEzcHg7IG1hcmdpbjogMjBweCAwcHg7Ij7P5fDl6fLoIOogwsru7fLg6vLlPC9hPgo8ZGl2IGlkPSJ2aWRlb19leHRfZGVzYyIgc3R5bGU9ImNvbG9yOiAjRDREQUREOyBmb250LXNpemU6IDEycHg7Ij4Kwsru7fLg6vLlIJcg/fLuIPHu9ujg6/zt4P8g8eXy/Cwg7+7n4u7r//754P8gwuDsIOTl6+jy/PH/IOru7fLl7fLu7CDxIMLg+Ojs6CDk8PPn/P/s6C48YnI+xO7x8vPv7e4g7eAgPGI+aU9TPC9iPiwgPGI+QW5kcm9pZDwvYj4g6CA8Yj5XaW5kb3dzIFBob25lPC9iPi4gyPno8uUgPGI+Vks8L2I+IOIg7ODj4Ofo7eUg7/Do6+7m5e3o6S4KPC9jZW50ZXI+CjwvZGl2Pgo8L2Rpdj48L2Rpdj4KICA8ZGl2IGNsYXNzPSJwcm9ncmVzcyIgaWQ9Imdsb2JhbF9wcmciPjwvZGl2PgoKICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICBpZiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gPj0gMikgewogICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZSArPSAnIGlzXzJ4JzsKICAgIH0KICAgIGRvbVJlYWR5KCk7CiAgICAKYWRkTGFuZ0tleXMoeyJnbG9iYWxfZW1vamlfY2F0X3JlY2VudCI6Itfg8fLuIOjx7+7r/Ofz5ez75SIsImdsb2JhbF9lbW9qaV9jYXRfMSI6It3s7vbo6CIsImdsb2JhbF9lbW9qaV9jYXRfMiI6Isbo4u7y7fvlIOgg8ODx8uXt6P8iLCJnbG9iYWxfZW1vamlfY2F0XzMiOiLG5fHy+yDoIOv+5OgiLCJnbG9iYWxfZW1vamlfY2F0XzQiOiLF5OAg6CDt4O/o8uroIiwiZ2xvYmFsX2Vtb2ppX2NhdF81Ijoi0e/u8PIg6CDg6vLo4u3u8fLoIiwiZ2xvYmFsX2Vtb2ppX2NhdF82Ijoiz/Py5fjl8fLi6P8g6CDy8ODt8e/u8PIiLCJnbG9iYWxfZW1vamlfY2F0XzciOiLP8OXk7OXy+yIsImdsb2JhbF9lbW9qaV9jYXRfOCI6ItHo7OLu6/siLCJnbG9iYWxfZW1vamlfY2F0XzkiOiLU6+Dj6CJ9LCB0cnVlKTsKYWRkVGVtcGxhdGVzKHsiXyI6Il8ifSk7CmZ1bmN0aW9uIG9uUmVzaXplKCkgewogIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgJiYgd2luZG93LmlubmVySGVpZ2h0IDwgMzQwKSB7CiAgICBoaWRlKCd2aWRlb19leHRfZGVzYycpOwogICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCA8IDI5MCkgewogICAgICBzZXRTdHlsZShnZSgnbGlnaHRfY3J5X2RvZycpLCB7d2lkdGg6IDgwLCBoZWlnaHQ6IDgwLCBiYWNrZ3JvdW5kU2l6ZTogJzgwcHggODBweCcsIG1hcmdpbkJvdHRvbTogMTB9KTsKICAgICAgc2V0U3R5bGUoZ2UoJ3ZpZGVvX2V4dF93cmFwJyksIHttYXJnaW5Ub3A6IC0xMDB9KTsKICAgICAgc2V0U3R5bGUoZ2UoJ3ZpZGVvX2V4dF9tc2cnKSwge2ZvbnRTaXplOiAxMiwgbGluZUhlaWdodDogJzE0MCUnfSk7CiAgICAgIHNldFN0eWxlKGdlKCd2aWRlb19leHRfYnRuJyksIHttYXJnaW5Ub3A6IDEwfSk7CiAgICB9IGVsc2UgewogICAgICBzZXRTdHlsZShnZSgndmlkZW9fZXh0X3dyYXAnKSwge21hcmdpblRvcDogLTEzMH0pOwogICAgICBzZXRTdHlsZShnZSgnbGlnaHRfY3J5X2RvZycpLCB7d2lkdGg6IDEyMCwgaGVpZ2h0OiAxMjAsIGJhY2tncm91bmRTaXplOiAnMTIwcHggMTIwcHgnLCBtYXJnaW5Cb3R0b206IDE1fSk7CiAgICAgIHNldFN0eWxlKGdlKCd2aWRlb19leHRfYnRuJyksIHttYXJnaW5Ub3A6IDE1fSk7CiAgICB9CiAgfQp9Cm9uUmVzaXplKCk7O3ZrLmlkID0gMAogICAgCiAgPC9zY3JpcHQ+CjwvYm9keT4KCjwvaHRtbD4=
    http_version: 
  recorded_at: Wed, 29 Aug 2018 16:39:32 GMT
recorded_with: VCR 4.0.0
