---
http_interactions:
- request:
    method: delete
    uri: http://localhost:9200/shikimori_test_clubs
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - Faraday v0.12.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Content-Length:
      - '47'
    body:
      encoding: ASCII-8BIT
      string: '{"acknowledged":true}'
    http_version: 
  recorded_at: Sat, 06 Jan 2018 02:27:00 GMT
- request:
    method: put
    uri: http://localhost:9200/shikimori_test_clubs
    body:
      encoding: UTF-8
      string: '{"settings":{"analysis":{"tokenizer":{"edge_ngram_tokenizer":{"type":"edgeNGram","min_gram":1,"max_gram":99}},"filter":{"edgeNGram_filter":{"type":"edgeNGram","min_gram":1,"max_gram":99,"side":"front"},"nGram_filter":{"type":"nGram","min_gram":1,"max_gram":99},"distinct_words_filter":{"type":"unique","only_on_same_position":true},"unique_words_filter":{"type":"unique"}},"analyzer":{"original_analyzer":{"type":"custom","tokenizer":"keyword","filter":["lowercase","asciifolding"]},"edge_phrase_analyzer":{"type":"custom","tokenizer":"edge_ngram_tokenizer","filter":["lowercase","asciifolding","edgeNGram_filter","unique_words_filter"]},"edge_word_analyzer":{"type":"custom","tokenizer":"standard","filter":["lowercase","asciifolding","edgeNGram_filter"]},"ngram_analyzer":{"type":"custom","tokenizer":"standard","filter":["lowercase","asciifolding","nGram_filter","distinct_words_filter"]},"search_analyzer":{"type":"custom","tokenizer":"standard","filter":["lowercase","asciifolding","distinct_words_filter"]}}}},"mappings":{"club":{"properties":{"name":{"fields":{"original":{"index":"analyzed","analyzer":"original_analyzer","type":"string"},"edge_phrase":{"index":"analyzed","analyzer":"edge_phrase_analyzer","type":"string"},"edge_word":{"index":"analyzed","analyzer":"edge_word_analyzer","search_analyzer":"search_analyzer","type":"string"},"ngram":{"index":"analyzed","analyzer":"ngram_analyzer","search_analyzer":"search_analyzer","type":"string"}},"type":"keyword","index":"not_analyzed"},"locale":{"type":"keyword"}}}}}'
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - Faraday v0.12.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Warning:
      - 299 Elasticsearch-5.6.5-6a37571 "Expected a boolean [true/false] for property
        [index] but got [not_analyzed]" "Sat, 06 Jan 2018 02:27:00 GMT"
      - 299 Elasticsearch-5.6.5-6a37571 "The [string] field is deprecated, please
        use [text] or [keyword] instead on [edge_phrase]" "Sat, 06 Jan 2018 02:27:00
        GMT"
      - 299 Elasticsearch-5.6.5-6a37571 "The [string] field is deprecated, please
        use [text] or [keyword] instead on [edge_word]" "Sat, 06 Jan 2018 02:27:00
        GMT"
      - 299 Elasticsearch-5.6.5-6a37571 "The [string] field is deprecated, please
        use [text] or [keyword] instead on [ngram]" "Sat, 06 Jan 2018 02:27:00 GMT"
      - 299 Elasticsearch-5.6.5-6a37571 "The [string] field is deprecated, please
        use [text] or [keyword] instead on [original]" "Sat, 06 Jan 2018 02:27:00
        GMT"
      Content-Type:
      - application/json; charset=UTF-8
      Content-Length:
      - '86'
    body:
      encoding: ASCII-8BIT
      string: '{"acknowledged":true,"shards_acknowledged":true,"index":"shikimori_test_clubs"}'
    http_version: 
  recorded_at: Sat, 06 Jan 2018 02:27:00 GMT
- request:
    method: get
    uri: http://localhost:9200/shikimori_test_clubs/_analyze?analyzer=edge_phrase_analyzer&text=Kai%20wa-sama
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Warning:
      - 299 Elasticsearch-5.6.5-6a37571 "analyzer request parameter is deprecated
        and will be removed in the next major release. Please use the JSON in the
        request body instead request param" "Sat, 06 Jan 2018 02:27:00 GMT"
      - 299 Elasticsearch-5.6.5-6a37571 "text request parameter is deprecated and
        will be removed in the next major release. Please use the JSON in the request
        body instead request param" "Sat, 06 Jan 2018 02:27:00 GMT"
      Content-Type:
      - application/json; charset=UTF-8
      Content-Length:
      - '171'
    body:
      encoding: ASCII-8BIT
      string: '{"tokens":[{"token":"k","start_offset":0,"end_offset":1,"type":"word","position":0},{"token":"ka","start_offset":0,"end_offset":2,"type":"word","position":0},{"token":"kai","start_offset":0,"end_offset":3,"type":"word","position":0},{"token":"kai
        ","start_offset":0,"end_offset":4,"type":"word","position":0},{"token":"kai
        w","start_offset":0,"end_offset":5,"type":"word","position":0},{"token":"kai
        wa","start_offset":0,"end_offset":6,"type":"word","position":0},{"token":"kai
        wa-","start_offset":0,"end_offset":7,"type":"word","position":0},{"token":"kai
        wa-s","start_offset":0,"end_offset":8,"type":"word","position":0},{"token":"kai
        wa-sa","start_offset":0,"end_offset":9,"type":"word","position":0},{"token":"kai
        wa-sam","start_offset":0,"end_offset":10,"type":"word","position":0},{"token":"kai
        wa-sama","start_offset":0,"end_offset":11,"type":"word","position":0}]}'
    http_version: 
  recorded_at: Sat, 06 Jan 2018 02:27:00 GMT
recorded_with: VCR 4.0.0
